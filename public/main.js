!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(self,(function(){return(()=>{var e={8384:(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{default:()=>o});const o=(n="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(e){var t,r,o=void 0!==(e=e||{})?e:{};o.ready=new Promise((function(e,n){t=e,r=n}));var i,a={};for(i in o)o.hasOwnProperty(i)&&(a[i]=o[i]);var s,u,c,l=[],d="./this.program",f=function(e,t){throw t},_="object"==typeof window,m="function"==typeof importScripts,h="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,p=o.ENVIRONMENT_IS_PTHREAD||!1,E="";function g(e){return o.locateFile?o.locateFile(e,E):E+e}(_||m)&&(m?E=self.location.href:"undefined"!=typeof document&&document.currentScript&&(E=document.currentScript.src),n&&(E=n),E=0!==E.indexOf("blob:")?E.substr(0,E.replace(/[?#].*/,"").lastIndexOf("/")+1):"",s=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},m&&(c=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),u=function(e,t,r){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)});var v=o.print||console.log.bind(console),w=o.printErr||console.warn.bind(console);for(i in a)a.hasOwnProperty(i)&&(o[i]=a[i]);function y(e){y.shown||(y.shown={}),y.shown[e]||(y.shown[e]=1,w(e))}a=null,o.arguments&&(l=o.arguments),o.thisProgram&&(d=o.thisProgram),o.quit&&(f=o.quit);var S,b,A=[];Atomics.load,Atomics.store,Atomics.compareExchange,o.wasmBinary&&(b=o.wasmBinary);var R,N,T=o.noExitRuntime||!0;"object"!=typeof WebAssembly&&Se("no native wasm support detected");var O,I=!1;function D(e,t){e||Se("Assertion failed: "+t)}function C(e){var t=o["_"+e];return D(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function M(e,t,r,n,o){var i={string:function(e){var t=0;if(null!=e&&0!==e){var r=1+(e.length<<2);H(e,t=br(r),r)}return t},array:function(e){var t=br(e.length);return re(e,t),t}},a=C(e),s=[],u=0;if(n)for(var c=0;c<n.length;c++){var l=i[r[c]];l?(0===u&&(u=yr()),s[c]=l(n[c])):s[c]=n[c]}var d=a.apply(null,s);return function(e){return 0!==u&&Sr(u),function(e){return"string"===t?x(e):"boolean"===t?Boolean(e):e}(e)}(d)}function L(e){var t=new TextDecoder(e);this.decode=function(e){return e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),t.decode.call(t,e)}}var k="undefined"!=typeof TextDecoder?new L("utf8"):void 0;function P(e,t,r){for(var n=t+r,o=t;e[o]&&!(o>=n);)++o;if(o-t>16&&e.subarray&&k)return k.decode(e.subarray(t,o));for(var i="";t<o;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var u=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|u:(7&a)<<18|s<<12|u<<6|63&e[t++])<65536)i+=String.fromCharCode(a);else{var c=a-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&a)<<6|s)}else i+=String.fromCharCode(a)}return i}function x(e,t){return e?P(B,e,t):""}function F(e,t,r,n){if(!(n>0))return 0;for(var o=r,i=r+n-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),s<=127){if(r>=i)break;t[r++]=s}else if(s<=2047){if(r+1>=i)break;t[r++]=192|s>>6,t[r++]=128|63&s}else if(s<=65535){if(r+2>=i)break;t[r++]=224|s>>12,t[r++]=128|s>>6&63,t[r++]=128|63&s}else{if(r+3>=i)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}}return t[r]=0,r-o}function H(e,t,r){return F(e,B,t,r)}function j(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++r)),n<=127?++t:t+=n<=2047?2:n<=65535?3:4}return t}var U,W,B,G,V,z,q,Z,K,Y="undefined"!=typeof TextDecoder?new L("utf-16le"):void 0;function X(e,t){for(var r=e,n=r>>1,o=n+t/2;!(n>=o)&&V[n];)++n;if((r=n<<1)-e>32&&Y)return Y.decode(B.subarray(e,r));for(var i="",a=0;!(a>=t/2);++a){var s=G[e+2*a>>1];if(0==s)break;i+=String.fromCharCode(s)}return i}function J(e,t,r){if(void 0===r&&(r=2147483647),r<2)return 0;for(var n=t,o=(r-=2)<2*e.length?r/2:e.length,i=0;i<o;++i){var a=e.charCodeAt(i);G[t>>1]=a,t+=2}return G[t>>1]=0,t-n}function Q(e){return 2*e.length}function $(e,t){for(var r=0,n="";!(r>=t/4);){var o=z[e+4*r>>2];if(0==o)break;if(++r,o>=65536){var i=o-65536;n+=String.fromCharCode(55296|i>>10,56320|1023&i)}else n+=String.fromCharCode(o)}return n}function ee(e,t,r){if(void 0===r&&(r=2147483647),r<4)return 0;for(var n=t,o=n+r-4,i=0;i<e.length;++i){var a=e.charCodeAt(i);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++i)),z[t>>2]=a,(t+=4)+4>o)break}return z[t>>2]=0,t-n}function te(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&++r,t+=4}return t}function re(e,t){W.set(e,t)}p&&(U=o.buffer);var ne,oe,ie=o.INITIAL_MEMORY||262144e3;if(p)R=o.wasmMemory,U=o.buffer;else if(o.wasmMemory)R=o.wasmMemory;else if(!((R=new WebAssembly.Memory({initial:ie/65536,maximum:ie/65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw w("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),h&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");R&&(U=R.buffer),ie=U.byteLength,U=ne=U,o.HEAP8=W=new Int8Array(ne),o.HEAP16=G=new Int16Array(ne),o.HEAP32=z=new Int32Array(ne),o.HEAPU8=B=new Uint8Array(ne),o.HEAPU16=V=new Uint16Array(ne),o.HEAPU32=q=new Uint32Array(ne),o.HEAPF32=Z=new Float32Array(ne),o.HEAPF64=K=new Float64Array(ne);var ae=[],se=[],ue=[],ce=[],le=!1,de=0;function fe(){return T||de>0}function _e(){p||(o.noFSInit||Ze.init.initialized||Ze.init(),Ze.ignorePermissions=!1,Ve.init(),Ne(se))}var me,he,pe,Ee=0,ge=null,ve=null;function we(e){Ee++,o.monitorRunDependencies&&o.monitorRunDependencies(Ee)}function ye(e){if(Ee--,o.monitorRunDependencies&&o.monitorRunDependencies(Ee),0==Ee&&(null!==ge&&(clearInterval(ge),ge=null),ve)){var t=ve;ve=null,t()}}function Se(e){p?postMessage({cmd:"onAbort",arg:e}):o.onAbort&&o.onAbort(e),w(e="Aborted("+e+")"),I=!0,O=1,e+=". Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(e);throw r(t),t}function be(e){return e.startsWith("data:application/octet-stream;base64,")}function Ae(e){try{if(e==me&&b)return new Uint8Array(b);if(c)return c(e);throw"both async and sync fetching of the wasm failed"}catch(e){Se(e)}}o.preloadedImages={},o.preloadedAudios={},be(me="a.wasm")||(me=g(me));var Re={787501:function(e,t,r,n,o){window.binahConfig.onFaceDetected(e,t,r,n,o)},787563:function(e,t,r,n,o){window.binahConfig.onFaceDetected(e,t,r,n,o)},787625:function(e,t){window.binahConfig.onMessage(e,t)},787670:function(e,t){window.binahConfig.onMessage(e,t)},787715:function(e,t){window.binahConfig.onMessage(e,t)},787760:function(e,t){window.binahConfig.onMessage(e,t)},787805:function(e,t){window.binahConfig.onMessage(e,t)},787850:function(e){window.binahRuntimeData.postProcessingTime=e},787906:function(e,t,r,n,o,i,a,s,u,c,l,d,f,_,m){window.binahConfig.onReport(e,t,r,n,o,i,a,s,u,c,l,d,f,_,m)},788007:function(e,t,r,n,o,i,a,s,u,c,l,d){window.binahConfig.onReport2(e,t,r,n,o,i,a,s,u,c,l,d)},788094:function(e){console.log(x(e))}};function Ne(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?xe(r)():xe(r)(t.arg):r(void 0===t.arg?null:t.arg)}else t(o)}}function Te(e){var t=yr(),r=e();return Sr(t),r}function Oe(e,t){if(e<=0||e>W.length||!0&e||t<0)return-28;if(0==t)return 0;t>=2147483647&&(t=1/0);var r=Atomics.load(z,Nr>>2),n=0;if(r==e&&Atomics.compareExchange(z,Nr>>2,r,0)==r&&(n=1,--t<=0))return 1;var o=Atomics.notify(z,e>>2,t);if(o>=0)return o+n;throw"Atomics.notify returned an unexpected value "+o}function Ie(e){var t=Me.pthreads[e];if(t){z[e>>2]=0;var r=t.worker;Me.returnWorkerToPool(r)}}function De(e){!function(e,t){if(O=e,p)throw Le(e),"unwind";var r;fe()||p||(Me.terminateAllThreads(),le=!0),O=r=e,fe()||(Me.terminateAllThreads(),o.onExit&&o.onExit(r),I=!0),f(r,new Tr(r))}(e)}function Ce(e){if(e instanceof Tr||"unwind"==e)return O;f(1,e)}o._emscripten_futex_wake=Oe,o._exit=De;var Me={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],initMainThreadBlock:function(){for(var e=0;e<6;++e)Me.allocateUnusedWorker()},initWorker:function(){},pthreads:{},setExitStatus:function(e){O=e},terminateAllThreads:function(){for(var e in Me.pthreads){var t=Me.pthreads[e];t&&t.worker&&Me.returnWorkerToPool(t.worker)}for(var r=0;r<Me.unusedWorkers.length;++r)Me.unusedWorkers[r].terminate();Me.unusedWorkers=[]},returnWorkerToPool:function(e){Me.runWithoutMainThreadQueuedCalls((function(){delete Me.pthreads[e.pthread.threadInfoStruct],Me.unusedWorkers.push(e),Me.runningWorkers.splice(Me.runningWorkers.indexOf(e),1),Er(e.pthread.threadInfoStruct),e.pthread=void 0}))},runWithoutMainThreadQueuedCalls:function(e){z[Rr>>2]=0;try{e()}finally{z[Rr>>2]=1}},receiveObjectTransfer:function(e){},threadInit:function(){for(var e in Me.tlsInitFunctions)Me.tlsInitFunctions[e]()},loadWasmModuleToWorker:function(e,t){e.onmessage=function(r){var n,i=r.data,a=i.cmd;if(e.pthread&&(Me.currentProxiedOperationCallerThread=e.pthread.threadInfoStruct),i.targetThread&&i.targetThread!=dr()){var s=Me.pthreads[i.targetThread];return s?s.worker.postMessage(i,i.transferList):w('Internal error! Worker sent a message "'+a+'" to target pthread '+i.targetThread+", but that thread no longer exists!"),void(Me.currentProxiedOperationCallerThread=void 0)}"processQueuedMainThreadWork"===a?mr():"spawnThread"===a?We(i):"cleanupThread"===a?Ie(i.thread):"killThread"===a?function(e){z[e>>2]=0;var t=Me.pthreads[e];delete Me.pthreads[e],t.worker.terminate(),Er(e),Me.runningWorkers.splice(Me.runningWorkers.indexOf(t.worker),1),t.worker.pthread=void 0}(i.thread):"cancelThread"===a?(n=i.thread,Me.pthreads[n].worker.postMessage({cmd:"cancel"})):"loaded"===a?(e.loaded=!0,t&&t(e),e.runPthread&&(e.runPthread(),delete e.runPthread)):"print"===a?v("Thread "+i.threadId+": "+i.text):"printErr"===a?w("Thread "+i.threadId+": "+i.text):"alert"===a?alert("Thread "+i.threadId+": "+i.text):"detachedExit"===a||"cancelDone"===a?Me.returnWorkerToPool(e):"setimmediate"===i.target?e.postMessage(i):"onAbort"===a?o.onAbort&&o.onAbort(i.arg):w("worker sent an unknown command "+a),Me.currentProxiedOperationCallerThread=void 0},e.onerror=function(e){throw w("pthread sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},e.postMessage({cmd:"load",urlOrBlob:o.mainScriptUrlOrBlob,wasmMemory:R,wasmModule:N})},allocateUnusedWorker:function(){g("a.worker.js"),Me.unusedWorkers.push(new Worker("./a.worker.js"))},getNewWorker:function(){return 0==Me.unusedWorkers.length&&(Me.allocateUnusedWorker(),Me.loadWasmModuleToWorker(Me.unusedWorkers[0])),Me.unusedWorkers.pop()}};function Le(e){if(p)return kt(1,0,e);try{De(e)}catch(e){Ce(e)}}o.establishStackSpace=function(){var e=dr(),t=z[e+44>>2],r=z[e+48>>2];Ar(t,t-r),Sr(t)};var ke,Pe=[];function xe(e){var t=Pe[e];return t||(e>=Pe.length&&(Pe.length=e+1),Pe[e]=t=oe.get(e)),t}function Fe(e,t){oe.set(e,t),Pe[e]=t}function He(e){return z[lr()>>2]=e,e}function je(e,t){var r;if(0===e)r=Date.now();else{if(1!==e&&4!==e)return He(28),-1;r=ke()}return z[t>>2]=r/1e3|0,z[t+4>>2]=r%1e3*1e3*1e3|0,0}function Ue(e,t){if(p)return kt(2,1,e,t)}function We(e){var t=Me.getNewWorker();if(!t)return 6;Me.runningWorkers.push(t);var r=Me.pthreads[e.pthread_ptr]={worker:t,threadInfoStruct:e.pthread_ptr};t.pthread=r;var n={cmd:"run",start_routine:e.startRoutine,arg:e.arg,threadInfoStruct:e.pthread_ptr};return t.runPthread=function(){n.time=performance.now(),t.postMessage(n,e.transferList)},t.loaded&&(t.runPthread(),delete t.runPthread),0}o.invokeEntryPoint=function(e,t){return xe(e)(t)},ke=p?function(){return performance.now()-o.__performance_now_clock_drift}:function(){return performance.now()};var Be={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var r=0,n=e.length-1;n>=0;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),r="/"===e.substr(-1);return(e=Be.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=Be.splitPath(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},basename:function(e){if("/"===e)return"/";var t=(e=(e=Be.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return Be.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return Be.normalize(e.join("/"))},join2:function(e,t){return Be.normalize(e+"/"+t)}},Ge={resolve:function(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var n=r>=0?arguments[r]:Ze.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,t="/"===n.charAt(0)}return(t?"/":"")+(e=Be.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."},relative:function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=Ge.resolve(e).substr(1),t=Ge.resolve(t).substr(1);for(var n=r(e.split("/")),o=r(t.split("/")),i=Math.min(n.length,o.length),a=i,s=0;s<i;s++)if(n[s]!==o[s]){a=s;break}var u=[];for(s=a;s<n.length;s++)u.push("..");return(u=u.concat(o.slice(a))).join("/")}},Ve={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){Ve.ttys[e]={input:[],output:[],ops:t},Ze.registerDevice(e,Ve.stream_ops)},stream_ops:{open:function(e){var t=Ve.ttys[e.node.rdev];if(!t)throw new Ze.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,r,n,o){if(!e.tty||!e.tty.ops.get_char)throw new Ze.ErrnoError(60);for(var i=0,a=0;a<n;a++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new Ze.ErrnoError(29)}if(void 0===s&&0===i)throw new Ze.ErrnoError(6);if(null==s)break;i++,t[r+a]=s}return i&&(e.node.timestamp=Date.now()),i},write:function(e,t,r,n,o){if(!e.tty||!e.tty.ops.put_char)throw new Ze.ErrnoError(60);try{for(var i=0;i<n;i++)e.tty.ops.put_char(e.tty,t[r+i])}catch(e){throw new Ze.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),i}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n"),!t)return null;e.input=ir(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(v(P(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(v(P(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(w(P(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(w(P(e.output,0)),e.output=[])}}};var ze={ops_table:null,mount:function(e){return ze.createNode(null,"/",16895,0)},createNode:function(e,t,r,n){if(Ze.isBlkdev(r)||Ze.isFIFO(r))throw new Ze.ErrnoError(63);ze.ops_table||(ze.ops_table={dir:{node:{getattr:ze.node_ops.getattr,setattr:ze.node_ops.setattr,lookup:ze.node_ops.lookup,mknod:ze.node_ops.mknod,rename:ze.node_ops.rename,unlink:ze.node_ops.unlink,rmdir:ze.node_ops.rmdir,readdir:ze.node_ops.readdir,symlink:ze.node_ops.symlink},stream:{llseek:ze.stream_ops.llseek}},file:{node:{getattr:ze.node_ops.getattr,setattr:ze.node_ops.setattr},stream:{llseek:ze.stream_ops.llseek,read:ze.stream_ops.read,write:ze.stream_ops.write,allocate:ze.stream_ops.allocate,mmap:ze.stream_ops.mmap,msync:ze.stream_ops.msync}},link:{node:{getattr:ze.node_ops.getattr,setattr:ze.node_ops.setattr,readlink:ze.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ze.node_ops.getattr,setattr:ze.node_ops.setattr},stream:Ze.chrdev_stream_ops}});var o=Ze.createNode(e,t,r,n);return Ze.isDir(o.mode)?(o.node_ops=ze.ops_table.dir.node,o.stream_ops=ze.ops_table.dir.stream,o.contents={}):Ze.isFile(o.mode)?(o.node_ops=ze.ops_table.file.node,o.stream_ops=ze.ops_table.file.stream,o.usedBytes=0,o.contents=null):Ze.isLink(o.mode)?(o.node_ops=ze.ops_table.link.node,o.stream_ops=ze.ops_table.link.stream):Ze.isChrdev(o.mode)&&(o.node_ops=ze.ops_table.chrdev.node,o.stream_ops=ze.ops_table.chrdev.stream),o.timestamp=Date.now(),e&&(e.contents[t]=o,e.timestamp=o.timestamp),o},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var r=e.contents?e.contents.length:0;if(!(r>=t)){t=Math.max(t,r*(r<1048576?2:1.125)>>>0),0!=r&&(t=Math.max(t,256));var n=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(n.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t)if(0==t)e.contents=null,e.usedBytes=0;else{var r=e.contents;e.contents=new Uint8Array(t),r&&e.contents.set(r.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=Ze.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,Ze.isDir(e.mode)?t.size=4096:Ze.isFile(e.mode)?t.size=e.usedBytes:Ze.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&ze.resizeFileStorage(e,t.size)},lookup:function(e,t){throw Ze.genericErrors[44]},mknod:function(e,t,r,n){return ze.createNode(e,t,r,n)},rename:function(e,t,r){if(Ze.isDir(e.mode)){var n;try{n=Ze.lookupNode(t,r)}catch(e){}if(n)for(var o in n.contents)throw new Ze.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=r,t.contents[r]=e,t.timestamp=e.parent.timestamp,e.parent=t},unlink:function(e,t){delete e.contents[t],e.timestamp=Date.now()},rmdir:function(e,t){var r=Ze.lookupNode(e,t);for(var n in r.contents)throw new Ze.ErrnoError(55);delete e.contents[t],e.timestamp=Date.now()},readdir:function(e){var t=[".",".."];for(var r in e.contents)e.contents.hasOwnProperty(r)&&t.push(r);return t},symlink:function(e,t,r){var n=ze.createNode(e,t,41471,0);return n.link=r,n},readlink:function(e){if(!Ze.isLink(e.mode))throw new Ze.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,r,n,o){var i=e.node.contents;if(o>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-o,n);if(a>8&&i.subarray)t.set(i.subarray(o,o+a),r);else for(var s=0;s<a;s++)t[r+s]=i[o+s];return a},write:function(e,t,r,n,o,i){if(!n)return 0;var a=e.node;if(a.timestamp=Date.now(),t.subarray&&(!a.contents||a.contents.subarray)){if(i)return a.contents=t.subarray(r,r+n),a.usedBytes=n,n;if(0===a.usedBytes&&0===o)return a.contents=t.slice(r,r+n),a.usedBytes=n,n;if(o+n<=a.usedBytes)return a.contents.set(t.subarray(r,r+n),o),n}if(ze.expandFileStorage(a,o+n),a.contents.subarray&&t.subarray)a.contents.set(t.subarray(r,r+n),o);else for(var s=0;s<n;s++)a.contents[o+s]=t[r+s];return a.usedBytes=Math.max(a.usedBytes,o+n),n},llseek:function(e,t,r){var n=t;if(1===r?n+=e.position:2===r&&Ze.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new Ze.ErrnoError(28);return n},allocate:function(e,t,r){ze.expandFileStorage(e.node,t+r),e.node.usedBytes=Math.max(e.node.usedBytes,t+r)},mmap:function(e,t,r,n,o,i){if(0!==t)throw new Ze.ErrnoError(28);if(!Ze.isFile(e.node.mode))throw new Ze.ErrnoError(43);var a,s,u=e.node.contents;if(2&i||u.buffer!==U){if((n>0||n+r<u.length)&&(u=u.subarray?u.subarray(n,n+r):Array.prototype.slice.call(u,n,n+r)),s=!0,!(a=function(e){e=function(e,t){return 65536*Math.ceil(e/65536)}(e);var t=vr(65536,e);return t?(function(e,t){B.fill(0,e,e+t)}(t,e),t):0}(r)))throw new Ze.ErrnoError(48);W.set(u,a)}else s=!1,a=u.byteOffset;return{ptr:a,allocated:s}},msync:function(e,t,r,n,o){if(!Ze.isFile(e.node.mode))throw new Ze.ErrnoError(43);return 2&o||ze.stream_ops.write(e,t,0,n,r,!1),0}}},qe={DIR_MODE:16895,FILE_MODE:33279,CHUNK_SIZE:-1,codec:null,init:function(){qe.codec||(qe.codec=function(){var e={uncompress:function(e,t,r,n){for(var o=r=r||0,i=n=n||e.length-r,a=0;o<i;){var s=e[o++],u=s>>4;if(u>0){for(var c=u+240;255===c;)u+=c=e[o++];for(var l=o+u;o<l;)t[a++]=e[o++];if(o===i)return a}var d=e[o++]|e[o++]<<8;if(0===d)return a;if(d>a)return-(o-2);var f=15&s;for(c=f+240;255===c;)f+=c=e[o++];var _=a-d;for(l=a+f+4;a<l;)t[a++]=t[_++]}return a}},t=2113929216;D(!0);var r=new Int16Array(65536),n=new Int16Array(r.length);return e.compressBound=function(e){return e>t?0:e+e/255+16|0},e.compress=function(o,i,a,s){return r.set(n),function(n,o,i,a,s){var u=a,c=s-a,l=0;if(n.length>=t)throw new Error("input too large");if(n.length>12){var d=e.compressBound(n.length);if(c<d)throw Error("output too small: "+c+" < "+d);for(var f=67,_=n.length-12;i+4<_;){var m=n[i+1]<<8|n[i],h=n[i+3]<<8|n[i+2],p=Math.imul(m|h<<16,2654435761)>>>16,E=r[p]-1;if(r[p]=i+1,E<0||i-E>>>16>0||(n[E+3]<<8|n[E+2])!=h||(n[E+1]<<8|n[E])!=m)i+=f++>>6;else{f=67;var g=i-l,v=i-E;E+=4;for(var w=i+=4;i<_&&n[i]==n[E];)i++,E++;var y=(w=i-w)<15?w:15;if(g>=15){o[u++]=240+y;for(var S=g-15;S>254;S-=255)o[u++]=255;o[u++]=S}else o[u++]=(g<<4)+y;for(var b=0;b<g;b++)o[u++]=n[l+b];if(o[u++]=v,o[u++]=v>>8,w>=15){for(w-=15;w>=255;)w-=255,o[u++]=255;o[u++]=w}l=i}}}if(0==l)return 0;if((g=n.length-l)>=15){o[u++]=240;for(var A=g-15;A>254;A-=255)o[u++]=255;o[u++]=A}else o[u++]=g<<4;for(i=l;i<n.length;)o[u++]=n[i++];return u}(o,i,0,a||0,s||i.length)},e.CHUNK_SIZE=2048,e.compressPackage=function(t,r){if(r)var n=new Uint8Array(e.CHUNK_SIZE);D(t instanceof ArrayBuffer),t=new Uint8Array(t),console.log("compressing package of size "+t.length);for(var o=[],i=[],a=0,s=0;a<t.length;){var u=t.subarray(a,a+e.CHUNK_SIZE);a+=e.CHUNK_SIZE;var c=e.compressBound(u.length),l=new Uint8Array(c),d=e.compress(u,l);if(d>0){if(D(d<=c),l=l.subarray(0,d),o.push(l),s+=d,i.push(1),r){var f=e.uncompress(l,n);D(f===u.length,[f,u.length]);for(var _=0;_<u.length;_++)D(u[_]===n[_])}}else D(0===d),o.push(u),s+=u.length,i.push(0)}t=null;var m={data:new Uint8Array(s+2*e.CHUNK_SIZE),cachedOffset:s,cachedIndexes:[-1,-1],cachedChunks:[null,null],offsets:[],sizes:[],successes:i};for(a=0,_=0;_<o.length;_++)m.data.set(o[_],a),m.offsets[_]=a,m.sizes[_]=o[_].length,a+=o[_].length;return console.log("compressed package into "+[m.data.length]),D(a===s),m},D(e.CHUNK_SIZE<32768),e}(),qe.CHUNK_SIZE=qe.codec.CHUNK_SIZE)},loadPackage:function(e,t){qe.init();var r=e.compressedData;r||(r=qe.codec.compressPackage(e.data)),D(r.cachedIndexes.length===r.cachedChunks.length);for(var n=0;n<r.cachedIndexes.length;n++)r.cachedIndexes[n]=-1,r.cachedChunks[n]=r.data.subarray(r.cachedOffset+n*qe.CHUNK_SIZE,r.cachedOffset+(n+1)*qe.CHUNK_SIZE),D(r.cachedChunks[n].length===qe.CHUNK_SIZE);e.metadata.files.forEach((function(e){var t=Be.dirname(e.filename),n=Be.basename(e.filename);Ze.createPath("",t,!0,!0);var o=Ze.analyzePath(t).object;qe.createNode(o,n,qe.FILE_MODE,0,{compressedData:r,start:e.start,end:e.end})})),t&&(Browser.init(),e.metadata.files.forEach((function(e){var t=!1,r=e.filename;o.preloadPlugins.forEach((function(e){if(!t&&e.canHandle(r)){we();var n=function(){ye()},o=Ze.readFile(r);e.handle(o,r,n,n),t=!0}}))})))},createNode:function(e,t,r,n,o,i){var a=Ze.createNode(e,t,r);return a.mode=r,a.node_ops=qe.node_ops,a.stream_ops=qe.stream_ops,a.timestamp=(i||new Date).getTime(),D(qe.FILE_MODE!==qe.DIR_MODE),r===qe.FILE_MODE?(a.size=o.end-o.start,a.contents=o):(a.size=4096,a.contents={}),e&&(e.contents[t]=a),a},node_ops:{getattr:function(e){return{dev:1,ino:e.id,mode:e.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:e.size,atime:new Date(e.timestamp),mtime:new Date(e.timestamp),ctime:new Date(e.timestamp),blksize:4096,blocks:Math.ceil(e.size/4096)}},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp)},lookup:function(e,t){throw new Ze.ErrnoError(44)},mknod:function(e,t,r,n){throw new Ze.ErrnoError(63)},rename:function(e,t,r){throw new Ze.ErrnoError(63)},unlink:function(e,t){throw new Ze.ErrnoError(63)},rmdir:function(e,t){throw new Ze.ErrnoError(63)},readdir:function(e){throw new Ze.ErrnoError(63)},symlink:function(e,t,r){throw new Ze.ErrnoError(63)},readlink:function(e){throw new Ze.ErrnoError(63)}},stream_ops:{read:function(e,t,r,n,i){if((n=Math.min(n,e.node.size-i))<=0)return 0;for(var a=e.node.contents,s=a.compressedData,u=0;u<n;){var c,l=a.start+i+u,d=n-u,f=Math.floor(l/qe.CHUNK_SIZE),_=s.offsets[f],m=s.sizes[f];if(s.successes[f]){var h=s.cachedIndexes.indexOf(f);if(h>=0)c=s.cachedChunks[h];else{s.cachedIndexes.pop(),s.cachedIndexes.unshift(f),c=s.cachedChunks.pop(),s.cachedChunks.unshift(c),s.debug&&(v("decompressing chunk "+f),o.decompressedChunks=(o.decompressedChunks||0)+1);var p=s.data.subarray(_,_+m),E=qe.codec.uncompress(p,c);f<s.successes.length-1&&D(E===qe.CHUNK_SIZE)}}else c=s.data.subarray(_,_+qe.CHUNK_SIZE);var g=l%qe.CHUNK_SIZE,w=Math.min(g+d,qe.CHUNK_SIZE);t.set(c.subarray(g,w),r+u),u+=w-g}return u},write:function(e,t,r,n,o){throw new Ze.ErrnoError(29)},llseek:function(e,t,r){var n=t;if(1===r?n+=e.position:2===r&&Ze.isFile(e.node.mode)&&(n+=e.node.size),n<0)throw new Ze.ErrnoError(28);return n}}},Ze={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(e,t){if(t=t||{},!(e=Ge.resolve(Ze.cwd(),e)))return{path:"",node:null};var r={follow_mount:!0,recurse_count:0};for(var n in r)void 0===t[n]&&(t[n]=r[n]);if(t.recurse_count>8)throw new Ze.ErrnoError(32);for(var o=Be.normalizeArray(e.split("/").filter((function(e){return!!e})),!1),i=Ze.root,a="/",s=0;s<o.length;s++){var u=s===o.length-1;if(u&&t.parent)break;if(i=Ze.lookupNode(i,o[s]),a=Be.join2(a,o[s]),Ze.isMountpoint(i)&&(!u||u&&t.follow_mount)&&(i=i.mounted.root),!u||t.follow)for(var c=0;Ze.isLink(i.mode);){var l=Ze.readlink(a);if(a=Ge.resolve(Be.dirname(a),l),i=Ze.lookupPath(a,{recurse_count:t.recurse_count}).node,c++>40)throw new Ze.ErrnoError(32)}}return{path:a,node:i}},getPath:function(e){for(var t;;){if(Ze.isRoot(e)){var r=e.mount.mountpoint;return t?"/"!==r[r.length-1]?r+"/"+t:r+t:r}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var r=0,n=0;n<t.length;n++)r=(r<<5)-r+t.charCodeAt(n)|0;return(e+r>>>0)%Ze.nameTable.length},hashAddNode:function(e){var t=Ze.hashName(e.parent.id,e.name);e.name_next=Ze.nameTable[t],Ze.nameTable[t]=e},hashRemoveNode:function(e){var t=Ze.hashName(e.parent.id,e.name);if(Ze.nameTable[t]===e)Ze.nameTable[t]=e.name_next;else for(var r=Ze.nameTable[t];r;){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}},lookupNode:function(e,t){var r=Ze.mayLookup(e);if(r)throw new Ze.ErrnoError(r,e);for(var n=Ze.hashName(e.id,t),o=Ze.nameTable[n];o;o=o.name_next){var i=o.name;if(o.parent.id===e.id&&i===t)return o}return Ze.lookup(e,t)},createNode:function(e,t,r,n){var o=new Ze.FSNode(e,t,r,n);return Ze.hashAddNode(o),o},destroyNode:function(e){Ze.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(e){var t=Ze.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return Ze.ignorePermissions||(!t.includes("r")||292&e.mode)&&(!t.includes("w")||146&e.mode)&&(!t.includes("x")||73&e.mode)?0:2},mayLookup:function(e){return Ze.nodePermissions(e,"x")||(e.node_ops.lookup?0:2)},mayCreate:function(e,t){try{return Ze.lookupNode(e,t),20}catch(e){}return Ze.nodePermissions(e,"wx")},mayDelete:function(e,t,r){var n;try{n=Ze.lookupNode(e,t)}catch(e){return e.errno}var o=Ze.nodePermissions(e,"wx");if(o)return o;if(r){if(!Ze.isDir(n.mode))return 54;if(Ze.isRoot(n)||Ze.getPath(n)===Ze.cwd())return 10}else if(Ze.isDir(n.mode))return 31;return 0},mayOpen:function(e,t){return e?Ze.isLink(e.mode)?32:Ze.isDir(e.mode)&&("r"!==Ze.flagsToPermissionString(t)||512&t)?31:Ze.nodePermissions(e,Ze.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||Ze.MAX_OPEN_FDS;for(var r=e;r<=t;r++)if(!Ze.streams[r])return r;throw new Ze.ErrnoError(33)},getStream:function(e){return Ze.streams[e]},createStream:function(e,t,r){Ze.FSStream||(Ze.FSStream=function(){},Ze.FSStream.prototype={object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var n=new Ze.FSStream;for(var o in e)n[o]=e[o];e=n;var i=Ze.nextfd(t,r);return e.fd=i,Ze.streams[i]=e,e},closeStream:function(e){Ze.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=Ze.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new Ze.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){Ze.devices[e]={stream_ops:t}},getDevice:function(e){return Ze.devices[e]},getMounts:function(e){for(var t=[],r=[e];r.length;){var n=r.pop();t.push(n),r.push.apply(r,n.mounts)}return t},syncfs:function(e,t){"function"==typeof e&&(t=e,e=!1),Ze.syncFSRequests++,Ze.syncFSRequests>1&&w("warning: "+Ze.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var r=Ze.getMounts(Ze.root.mount),n=0;function o(e){return Ze.syncFSRequests--,t(e)}function i(e){if(e)return i.errored?void 0:(i.errored=!0,o(e));++n>=r.length&&o(null)}r.forEach((function(t){if(!t.type.syncfs)return i(null);t.type.syncfs(t,e,i)}))},mount:function(e,t,r){var n,o="/"===r,i=!r;if(o&&Ze.root)throw new Ze.ErrnoError(10);if(!o&&!i){var a=Ze.lookupPath(r,{follow_mount:!1});if(r=a.path,n=a.node,Ze.isMountpoint(n))throw new Ze.ErrnoError(10);if(!Ze.isDir(n.mode))throw new Ze.ErrnoError(54)}var s={type:e,opts:t,mountpoint:r,mounts:[]},u=e.mount(s);return u.mount=s,s.root=u,o?Ze.root=u:n&&(n.mounted=s,n.mount&&n.mount.mounts.push(s)),u},unmount:function(e){var t=Ze.lookupPath(e,{follow_mount:!1});if(!Ze.isMountpoint(t.node))throw new Ze.ErrnoError(28);var r=t.node,n=r.mounted,o=Ze.getMounts(n);Object.keys(Ze.nameTable).forEach((function(e){for(var t=Ze.nameTable[e];t;){var r=t.name_next;o.includes(t.mount)&&Ze.destroyNode(t),t=r}})),r.mounted=null;var i=r.mount.mounts.indexOf(n);r.mount.mounts.splice(i,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,r){var n=Ze.lookupPath(e,{parent:!0}).node,o=Be.basename(e);if(!o||"."===o||".."===o)throw new Ze.ErrnoError(28);var i=Ze.mayCreate(n,o);if(i)throw new Ze.ErrnoError(i);if(!n.node_ops.mknod)throw new Ze.ErrnoError(63);return n.node_ops.mknod(n,o,t,r)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,Ze.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,Ze.mknod(e,t,0)},mkdirTree:function(e,t){for(var r=e.split("/"),n="",o=0;o<r.length;++o)if(r[o]){n+="/"+r[o];try{Ze.mkdir(n,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,t,r){return void 0===r&&(r=t,t=438),t|=8192,Ze.mknod(e,t,r)},symlink:function(e,t){if(!Ge.resolve(e))throw new Ze.ErrnoError(44);var r=Ze.lookupPath(t,{parent:!0}).node;if(!r)throw new Ze.ErrnoError(44);var n=Be.basename(t),o=Ze.mayCreate(r,n);if(o)throw new Ze.ErrnoError(o);if(!r.node_ops.symlink)throw new Ze.ErrnoError(63);return r.node_ops.symlink(r,n,e)},rename:function(e,t){var r,n,o=Be.dirname(e),i=Be.dirname(t),a=Be.basename(e),s=Be.basename(t);if(r=Ze.lookupPath(e,{parent:!0}).node,n=Ze.lookupPath(t,{parent:!0}).node,!r||!n)throw new Ze.ErrnoError(44);if(r.mount!==n.mount)throw new Ze.ErrnoError(75);var u,c=Ze.lookupNode(r,a),l=Ge.relative(e,i);if("."!==l.charAt(0))throw new Ze.ErrnoError(28);if("."!==(l=Ge.relative(t,o)).charAt(0))throw new Ze.ErrnoError(55);try{u=Ze.lookupNode(n,s)}catch(e){}if(c!==u){var d=Ze.isDir(c.mode),f=Ze.mayDelete(r,a,d);if(f)throw new Ze.ErrnoError(f);if(f=u?Ze.mayDelete(n,s,d):Ze.mayCreate(n,s))throw new Ze.ErrnoError(f);if(!r.node_ops.rename)throw new Ze.ErrnoError(63);if(Ze.isMountpoint(c)||u&&Ze.isMountpoint(u))throw new Ze.ErrnoError(10);if(n!==r&&(f=Ze.nodePermissions(r,"w")))throw new Ze.ErrnoError(f);Ze.hashRemoveNode(c);try{r.node_ops.rename(c,n,s)}catch(e){throw e}finally{Ze.hashAddNode(c)}}},rmdir:function(e){var t=Ze.lookupPath(e,{parent:!0}).node,r=Be.basename(e),n=Ze.lookupNode(t,r),o=Ze.mayDelete(t,r,!0);if(o)throw new Ze.ErrnoError(o);if(!t.node_ops.rmdir)throw new Ze.ErrnoError(63);if(Ze.isMountpoint(n))throw new Ze.ErrnoError(10);t.node_ops.rmdir(t,r),Ze.destroyNode(n)},readdir:function(e){var t=Ze.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new Ze.ErrnoError(54);return t.node_ops.readdir(t)},unlink:function(e){var t=Ze.lookupPath(e,{parent:!0}).node,r=Be.basename(e),n=Ze.lookupNode(t,r),o=Ze.mayDelete(t,r,!1);if(o)throw new Ze.ErrnoError(o);if(!t.node_ops.unlink)throw new Ze.ErrnoError(63);if(Ze.isMountpoint(n))throw new Ze.ErrnoError(10);t.node_ops.unlink(t,r),Ze.destroyNode(n)},readlink:function(e){var t=Ze.lookupPath(e).node;if(!t)throw new Ze.ErrnoError(44);if(!t.node_ops.readlink)throw new Ze.ErrnoError(28);return Ge.resolve(Ze.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,t){var r=Ze.lookupPath(e,{follow:!t}).node;if(!r)throw new Ze.ErrnoError(44);if(!r.node_ops.getattr)throw new Ze.ErrnoError(63);return r.node_ops.getattr(r)},lstat:function(e){return Ze.stat(e,!0)},chmod:function(e,t,r){var n;if(!(n="string"==typeof e?Ze.lookupPath(e,{follow:!r}).node:e).node_ops.setattr)throw new Ze.ErrnoError(63);n.node_ops.setattr(n,{mode:4095&t|-4096&n.mode,timestamp:Date.now()})},lchmod:function(e,t){Ze.chmod(e,t,!0)},fchmod:function(e,t){var r=Ze.getStream(e);if(!r)throw new Ze.ErrnoError(8);Ze.chmod(r.node,t)},chown:function(e,t,r,n){var o;if(!(o="string"==typeof e?Ze.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new Ze.ErrnoError(63);o.node_ops.setattr(o,{timestamp:Date.now()})},lchown:function(e,t,r){Ze.chown(e,t,r,!0)},fchown:function(e,t,r){var n=Ze.getStream(e);if(!n)throw new Ze.ErrnoError(8);Ze.chown(n.node,t,r)},truncate:function(e,t){if(t<0)throw new Ze.ErrnoError(28);var r;if(!(r="string"==typeof e?Ze.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new Ze.ErrnoError(63);if(Ze.isDir(r.mode))throw new Ze.ErrnoError(31);if(!Ze.isFile(r.mode))throw new Ze.ErrnoError(28);var n=Ze.nodePermissions(r,"w");if(n)throw new Ze.ErrnoError(n);r.node_ops.setattr(r,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var r=Ze.getStream(e);if(!r)throw new Ze.ErrnoError(8);if(0==(2097155&r.flags))throw new Ze.ErrnoError(28);Ze.truncate(r.node,t)},utime:function(e,t,r){var n=Ze.lookupPath(e,{follow:!0}).node;n.node_ops.setattr(n,{timestamp:Math.max(t,r)})},open:function(e,t,r,n,i){if(""===e)throw new Ze.ErrnoError(44);var a;if(r=void 0===r?438:r,r=64&(t="string"==typeof t?Ze.modeStringToFlags(t):t)?4095&r|32768:0,"object"==typeof e)a=e;else{e=Be.normalize(e);try{a=Ze.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var s=!1;if(64&t)if(a){if(128&t)throw new Ze.ErrnoError(20)}else a=Ze.mknod(e,r,0),s=!0;if(!a)throw new Ze.ErrnoError(44);if(Ze.isChrdev(a.mode)&&(t&=-513),65536&t&&!Ze.isDir(a.mode))throw new Ze.ErrnoError(54);if(!s){var u=Ze.mayOpen(a,t);if(u)throw new Ze.ErrnoError(u)}512&t&&Ze.truncate(a,0),t&=-131713;var c=Ze.createStream({node:a,path:Ze.getPath(a),id:a.id,flags:t,mode:a.mode,seekable:!0,position:0,stream_ops:a.stream_ops,node_ops:a.node_ops,ungotten:[],error:!1},n,i);return c.stream_ops.open&&c.stream_ops.open(c),!o.logReadFiles||1&t||(Ze.readFiles||(Ze.readFiles={}),e in Ze.readFiles||(Ze.readFiles[e]=1)),c},close:function(e){if(Ze.isClosed(e))throw new Ze.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{Ze.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,r){if(Ze.isClosed(e))throw new Ze.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new Ze.ErrnoError(70);if(0!=r&&1!=r&&2!=r)throw new Ze.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,r),e.ungotten=[],e.position},read:function(e,t,r,n,o){if(n<0||o<0)throw new Ze.ErrnoError(28);if(Ze.isClosed(e))throw new Ze.ErrnoError(8);if(1==(2097155&e.flags))throw new Ze.ErrnoError(8);if(Ze.isDir(e.node.mode))throw new Ze.ErrnoError(31);if(!e.stream_ops.read)throw new Ze.ErrnoError(28);var i=void 0!==o;if(i){if(!e.seekable)throw new Ze.ErrnoError(70)}else o=e.position;var a=e.stream_ops.read(e,t,r,n,o);return i||(e.position+=a),a},write:function(e,t,r,n,o,i){if(n<0||o<0)throw new Ze.ErrnoError(28);if(Ze.isClosed(e))throw new Ze.ErrnoError(8);if(0==(2097155&e.flags))throw new Ze.ErrnoError(8);if(Ze.isDir(e.node.mode))throw new Ze.ErrnoError(31);if(!e.stream_ops.write)throw new Ze.ErrnoError(28);e.seekable&&1024&e.flags&&Ze.llseek(e,0,2);var a=void 0!==o;if(a){if(!e.seekable)throw new Ze.ErrnoError(70)}else o=e.position;var s=e.stream_ops.write(e,t,r,n,o,i);return a||(e.position+=s),s},allocate:function(e,t,r){if(Ze.isClosed(e))throw new Ze.ErrnoError(8);if(t<0||r<=0)throw new Ze.ErrnoError(28);if(0==(2097155&e.flags))throw new Ze.ErrnoError(8);if(!Ze.isFile(e.node.mode)&&!Ze.isDir(e.node.mode))throw new Ze.ErrnoError(43);if(!e.stream_ops.allocate)throw new Ze.ErrnoError(138);e.stream_ops.allocate(e,t,r)},mmap:function(e,t,r,n,o,i){if(0!=(2&o)&&0==(2&i)&&2!=(2097155&e.flags))throw new Ze.ErrnoError(2);if(1==(2097155&e.flags))throw new Ze.ErrnoError(2);if(!e.stream_ops.mmap)throw new Ze.ErrnoError(43);return e.stream_ops.mmap(e,t,r,n,o,i)},msync:function(e,t,r,n,o){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,r,n,o):0},munmap:function(e){return 0},ioctl:function(e,t,r){if(!e.stream_ops.ioctl)throw new Ze.ErrnoError(59);return e.stream_ops.ioctl(e,t,r)},readFile:function(e,t){if((t=t||{}).flags=t.flags||0,t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var r,n=Ze.open(e,t.flags),o=Ze.stat(e).size,i=new Uint8Array(o);return Ze.read(n,i,0,o,0),"utf8"===t.encoding?r=P(i,0):"binary"===t.encoding&&(r=i),Ze.close(n),r},writeFile:function(e,t,r){(r=r||{}).flags=r.flags||577;var n=Ze.open(e,r.flags,r.mode);if("string"==typeof t){var o=new Uint8Array(j(t)+1),i=F(t,o,0,o.length);Ze.write(n,o,0,i,void 0,r.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");Ze.write(n,t,0,t.byteLength,void 0,r.canOwn)}Ze.close(n)},cwd:function(){return Ze.currentPath},chdir:function(e){var t=Ze.lookupPath(e,{follow:!0});if(null===t.node)throw new Ze.ErrnoError(44);if(!Ze.isDir(t.node.mode))throw new Ze.ErrnoError(54);var r=Ze.nodePermissions(t.node,"x");if(r)throw new Ze.ErrnoError(r);Ze.currentPath=t.path},createDefaultDirectories:function(){Ze.mkdir("/tmp"),Ze.mkdir("/home"),Ze.mkdir("/home/web_user")},createDefaultDevices:function(){Ze.mkdir("/dev"),Ze.registerDevice(Ze.makedev(1,3),{read:function(){return 0},write:function(e,t,r,n,o){return n}}),Ze.mkdev("/dev/null",Ze.makedev(1,3)),Ve.register(Ze.makedev(5,0),Ve.default_tty_ops),Ve.register(Ze.makedev(6,0),Ve.default_tty1_ops),Ze.mkdev("/dev/tty",Ze.makedev(5,0)),Ze.mkdev("/dev/tty1",Ze.makedev(6,0));var e=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}return function(){Se("randomDevice")}}();Ze.createDevice("/dev","random",e),Ze.createDevice("/dev","urandom",e),Ze.mkdir("/dev/shm"),Ze.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){Ze.mkdir("/proc");var e=Ze.mkdir("/proc/self");Ze.mkdir("/proc/self/fd"),Ze.mount({mount:function(){var t=Ze.createNode(e,"fd",16895,73);return t.node_ops={lookup:function(e,t){var r=+t,n=Ze.getStream(r);if(!n)throw new Ze.ErrnoError(8);var o={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return n.path}}};return o.parent=o,o}},t}},{},"/proc/self/fd")},createStandardStreams:function(){o.stdin?Ze.createDevice("/dev","stdin",o.stdin):Ze.symlink("/dev/tty","/dev/stdin"),o.stdout?Ze.createDevice("/dev","stdout",null,o.stdout):Ze.symlink("/dev/tty","/dev/stdout"),o.stderr?Ze.createDevice("/dev","stderr",null,o.stderr):Ze.symlink("/dev/tty1","/dev/stderr"),Ze.open("/dev/stdin",0),Ze.open("/dev/stdout",1),Ze.open("/dev/stderr",1)},ensureErrnoError:function(){Ze.ErrnoError||(Ze.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},Ze.ErrnoError.prototype=new Error,Ze.ErrnoError.prototype.constructor=Ze.ErrnoError,[44].forEach((function(e){Ze.genericErrors[e]=new Ze.ErrnoError(e),Ze.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){Ze.ensureErrnoError(),Ze.nameTable=new Array(4096),Ze.mount(ze,{},"/"),Ze.createDefaultDirectories(),Ze.createDefaultDevices(),Ze.createSpecialDirectories(),Ze.filesystems={MEMFS:ze}},init:function(e,t,r){Ze.init.initialized=!0,Ze.ensureErrnoError(),o.stdin=e||o.stdin,o.stdout=t||o.stdout,o.stderr=r||o.stderr,Ze.createStandardStreams()},quit:function(){Ze.init.initialized=!1;var e=o._fflush;e&&e(0);for(var t=0;t<Ze.streams.length;t++){var r=Ze.streams[t];r&&Ze.close(r)}},getMode:function(e,t){var r=0;return e&&(r|=365),t&&(r|=146),r},findObject:function(e,t){var r=Ze.analyzePath(e,t);return r.exists?r.object:null},analyzePath:function(e,t){try{e=(n=Ze.lookupPath(e,{follow:!t})).path}catch(e){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=Ze.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=n.path,r.parentObject=n.node,r.name=Be.basename(e),n=Ze.lookupPath(e,{follow:!t}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.isRoot="/"===n.path}catch(e){r.error=e.errno}return r},createPath:function(e,t,r,n){e="string"==typeof e?e:Ze.getPath(e);for(var o=t.split("/").reverse();o.length;){var i=o.pop();if(i){var a=Be.join2(e,i);try{Ze.mkdir(a)}catch(e){}e=a}}return a},createFile:function(e,t,r,n,o){var i=Be.join2("string"==typeof e?e:Ze.getPath(e),t),a=Ze.getMode(n,o);return Ze.create(i,a)},createDataFile:function(e,t,r,n,o,i){var a=t?Be.join2("string"==typeof e?e:Ze.getPath(e),t):e,s=Ze.getMode(n,o),u=Ze.create(a,s);if(r){if("string"==typeof r){for(var c=new Array(r.length),l=0,d=r.length;l<d;++l)c[l]=r.charCodeAt(l);r=c}Ze.chmod(u,146|s);var f=Ze.open(u,577);Ze.write(f,r,0,r.length,0,i),Ze.close(f),Ze.chmod(u,s)}return u},createDevice:function(e,t,r,n){var o=Be.join2("string"==typeof e?e:Ze.getPath(e),t),i=Ze.getMode(!!r,!!n);Ze.createDevice.major||(Ze.createDevice.major=64);var a=Ze.makedev(Ze.createDevice.major++,0);return Ze.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){n&&n.buffer&&n.buffer.length&&n(10)},read:function(e,t,n,o,i){for(var a=0,s=0;s<o;s++){var u;try{u=r()}catch(e){throw new Ze.ErrnoError(29)}if(void 0===u&&0===a)throw new Ze.ErrnoError(6);if(null==u)break;a++,t[n+s]=u}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,r,o,i){for(var a=0;a<o;a++)try{n(t[r+a])}catch(e){throw new Ze.ErrnoError(29)}return o&&(e.node.timestamp=Date.now()),a}}),Ze.mkdev(o,i,a)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!s)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=ir(s(e.url),!0),e.usedBytes=e.contents.length}catch(e){throw new Ze.ErrnoError(29)}},createLazyFile:function(e,t,r,n,o){function i(){this.lengthKnown=!1,this.chunks=[]}if(i.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,r=e/this.chunkSize|0;return this.getter(r)[t]}},i.prototype.setDataGetter=function(e){this.getter=e},i.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",r,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+r+". Status: "+e.status);var t,n=Number(e.getResponseHeader("Content-length")),o=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,i=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,a=1048576;o||(a=n);var s=this;s.setDataGetter((function(e){var t=e*a,o=(e+1)*a-1;if(o=Math.min(o,n-1),void 0===s.chunks[e]&&(s.chunks[e]=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>n-1)throw new Error("only "+n+" bytes available! programmer error!");var o=new XMLHttpRequest;if(o.open("GET",r,!1),n!==a&&o.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(o.responseType="arraybuffer"),o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.send(null),!(o.status>=200&&o.status<300||304===o.status))throw new Error("Couldn't load "+r+". Status: "+o.status);return void 0!==o.response?new Uint8Array(o.response||[]):ir(o.responseText||"",!0)}(t,o)),void 0===s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]})),!i&&n||(a=n=1,n=this.getter(0).length,a=n,v("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!m)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new i;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var s={isDevice:!1,contents:a}}else s={isDevice:!1,url:r};var u=Ze.createFile(e,t,s,n,o);s.contents?u.contents=s.contents:s.url&&(u.contents=null,u.url=s.url),Object.defineProperties(u,{usedBytes:{get:function(){return this.contents.length}}});var c={};return Object.keys(u.stream_ops).forEach((function(e){var t=u.stream_ops[e];c[e]=function(){return Ze.forceLoadFile(u),t.apply(null,arguments)}})),c.read=function(e,t,r,n,o){Ze.forceLoadFile(u);var i=e.node.contents;if(o>=i.length)return 0;var a=Math.min(i.length-o,n);if(i.slice)for(var s=0;s<a;s++)t[r+s]=i[o+s];else for(s=0;s<a;s++)t[r+s]=i.get(o+s);return a},u.stream_ops=c,u},createPreloadedFile:function(e,t,r,n,i,a,s,c,l,d){Browser.init();var f=t?Ge.resolve(Be.join2(e,t)):e;function _(r){function u(r){d&&d(),c||Ze.createDataFile(e,t,r,n,i,l),a&&a(),ye()}var _=!1;o.preloadPlugins.forEach((function(e){_||e.canHandle(f)&&(e.handle(r,f,u,(function(){s&&s(),ye()})),_=!0)})),_||u(r)}we(),"string"==typeof r?function(e,t,r,n){var o="al "+e;u(e,(function(t){D(t,'Loading data file "'+e+'" failed (no arrayBuffer).'),_(new Uint8Array(t)),o&&ye()}),(function(t){if(!r)throw'Loading data file "'+e+'" failed.';r()})),o&&we()}(r,0,s):_(r)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,r){t=t||function(){},r=r||function(){};var n=Ze.indexedDB();try{var o=n.open(Ze.DB_NAME(),Ze.DB_VERSION)}catch(e){return r(e)}o.onupgradeneeded=function(){v("creating db"),o.result.createObjectStore(Ze.DB_STORE_NAME)},o.onsuccess=function(){var n=o.result.transaction([Ze.DB_STORE_NAME],"readwrite"),i=n.objectStore(Ze.DB_STORE_NAME),a=0,s=0,u=e.length;function c(){0==s?t():r()}e.forEach((function(e){var t=i.put(Ze.analyzePath(e).object.contents,e);t.onsuccess=function(){++a+s==u&&c()},t.onerror=function(){s++,a+s==u&&c()}})),n.onerror=r},o.onerror=r},loadFilesFromDB:function(e,t,r){t=t||function(){},r=r||function(){};var n=Ze.indexedDB();try{var o=n.open(Ze.DB_NAME(),Ze.DB_VERSION)}catch(e){return r(e)}o.onupgradeneeded=r,o.onsuccess=function(){var n=o.result;try{var i=n.transaction([Ze.DB_STORE_NAME],"readonly")}catch(e){return void r(e)}var a=i.objectStore(Ze.DB_STORE_NAME),s=0,u=0,c=e.length;function l(){0==u?t():r()}e.forEach((function(e){var t=a.get(e);t.onsuccess=function(){Ze.analyzePath(e).exists&&Ze.unlink(e),Ze.createDataFile(Be.dirname(e),Be.basename(e),t.result,!0,!0,!0),++s+u==c&&l()},t.onerror=function(){u++,s+u==c&&l()}})),i.onerror=r},o.onerror=r}},Ke={mappings:{},DEFAULT_POLLMASK:5,calculateAt:function(e,t,r){if("/"===t[0])return t;var n;if(-100===e)n=Ze.cwd();else{var o=Ze.getStream(e);if(!o)throw new Ze.ErrnoError(8);n=o.path}if(0==t.length){if(!r)throw new Ze.ErrnoError(44);return n}return Be.join2(n,t)},doStat:function(e,t,r){try{var n=e(t)}catch(e){if(e&&e.node&&Be.normalize(t)!==Be.normalize(Ze.getPath(e.node)))return-54;throw e}return z[r>>2]=n.dev,z[r+4>>2]=0,z[r+8>>2]=n.ino,z[r+12>>2]=n.mode,z[r+16>>2]=n.nlink,z[r+20>>2]=n.uid,z[r+24>>2]=n.gid,z[r+28>>2]=n.rdev,z[r+32>>2]=0,pe=[n.size>>>0,(he=n.size,+Math.abs(he)>=1?he>0?(0|Math.min(+Math.floor(he/4294967296),4294967295))>>>0:~~+Math.ceil((he-+(~~he>>>0))/4294967296)>>>0:0)],z[r+40>>2]=pe[0],z[r+44>>2]=pe[1],z[r+48>>2]=4096,z[r+52>>2]=n.blocks,z[r+56>>2]=n.atime.getTime()/1e3|0,z[r+60>>2]=0,z[r+64>>2]=n.mtime.getTime()/1e3|0,z[r+68>>2]=0,z[r+72>>2]=n.ctime.getTime()/1e3|0,z[r+76>>2]=0,pe=[n.ino>>>0,(he=n.ino,+Math.abs(he)>=1?he>0?(0|Math.min(+Math.floor(he/4294967296),4294967295))>>>0:~~+Math.ceil((he-+(~~he>>>0))/4294967296)>>>0:0)],z[r+80>>2]=pe[0],z[r+84>>2]=pe[1],0},doMsync:function(e,t,r,n,o){var i=B.slice(e,e+r);Ze.msync(t,i,o,r,n)},doMkdir:function(e,t){return"/"===(e=Be.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),Ze.mkdir(e,t,0),0},doMknod:function(e,t,r){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return Ze.mknod(e,t,r),0},doReadlink:function(e,t,r){if(r<=0)return-28;var n=Ze.readlink(e),o=Math.min(r,j(n)),i=W[t+o];return H(n,t,r+1),W[t+o]=i,o},doAccess:function(e,t){if(-8&t)return-28;var r=Ze.lookupPath(e,{follow:!0}).node;if(!r)return-44;var n="";return 4&t&&(n+="r"),2&t&&(n+="w"),1&t&&(n+="x"),n&&Ze.nodePermissions(r,n)?-2:0},doDup:function(e,t,r){var n=Ze.getStream(r);return n&&Ze.close(n),Ze.open(e,t,0,r,r).fd},doReadv:function(e,t,r,n){for(var o=0,i=0;i<r;i++){var a=z[t+8*i>>2],s=z[t+(8*i+4)>>2],u=Ze.read(e,W,a,s,n);if(u<0)return-1;if(o+=u,u<s)break}return o},doWritev:function(e,t,r,n){for(var o=0,i=0;i<r;i++){var a=z[t+8*i>>2],s=z[t+(8*i+4)>>2],u=Ze.write(e,W,a,s,n);if(u<0)return-1;o+=u}return o},varargs:void 0,get:function(){return Ke.varargs+=4,z[Ke.varargs-4>>2]},getStr:function(e){return x(e)},getStreamFromFD:function(e){var t=Ze.getStream(e);if(!t)throw new Ze.ErrnoError(8);return t},get64:function(e,t){return e}};function Ye(e,t,r,n,o){if(p)return kt(3,1,e,t,r,n,o);try{for(var i=0,a=t?z[t>>2]:0,s=t?z[t+4>>2]:0,u=r?z[r>>2]:0,c=r?z[r+4>>2]:0,l=n?z[n>>2]:0,d=n?z[n+4>>2]:0,f=0,_=0,m=0,h=0,E=0,g=0,v=(t?z[t>>2]:0)|(r?z[r>>2]:0)|(n?z[n>>2]:0),w=(t?z[t+4>>2]:0)|(r?z[r+4>>2]:0)|(n?z[n+4>>2]:0),y=function(e,t,r,n){return e<32?t&n:r&n},S=0;S<e;S++){var b=1<<S%32;if(y(S,v,w,b)){var A=Ze.getStream(S);if(!A)throw new Ze.ErrnoError(8);var R=Ke.DEFAULT_POLLMASK;A.stream_ops.poll&&(R=A.stream_ops.poll(A)),1&R&&y(S,a,s,b)&&(S<32?f|=b:_|=b,i++),4&R&&y(S,u,c,b)&&(S<32?m|=b:h|=b,i++),2&R&&y(S,l,d,b)&&(S<32?E|=b:g|=b,i++)}}return t&&(z[t>>2]=f,z[t+4>>2]=_),r&&(z[r>>2]=m,z[r+4>>2]=h),n&&(z[n>>2]=E,z[n+4>>2]=g),i}catch(e){if(void 0===Ze||!(e instanceof Ze.ErrnoError))throw e;return-e.errno}}function Xe(e,t,r){if(p)return kt(4,1,e,t,r);Ke.varargs=r;try{var n=Ke.getStreamFromFD(e);switch(t){case 0:return(o=Ke.get())<0?-28:Ze.open(n.path,n.flags,0,o).fd;case 1:case 2:return 0;case 3:return n.flags;case 4:var o=Ke.get();return n.flags|=o,0;case 5:return o=Ke.get(),G[o+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return He(28),-1;default:return-28}}catch(e){if(void 0===Ze||!(e instanceof Ze.ErrnoError))throw e;return-e.errno}}function Je(e,t){if(p)return kt(5,1,e,t);try{var r=Ke.getStreamFromFD(e);return Ke.doStat(Ze.stat,r.path,t)}catch(e){if(void 0===Ze||!(e instanceof Ze.ErrnoError))throw e;return-e.errno}}function Qe(e,t,r,n){if(p)return kt(6,1,e,t,r,n);try{t=Ke.getStr(t);var o=256&n,i=4096&n;return n&=-4353,t=Ke.calculateAt(e,t,i),Ke.doStat(o?Ze.lstat:Ze.stat,t,r)}catch(e){if(void 0===Ze||!(e instanceof Ze.ErrnoError))throw e;return-e.errno}}function $e(e,t,r){if(p)return kt(7,1,e,t,r);Ke.varargs=r;try{var n=Ke.getStreamFromFD(e);switch(t){case 21509:case 21505:return n.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return n.tty?0:-59;case 21519:if(!n.tty)return-59;var o=Ke.get();return z[o>>2]=0,0;case 21520:return n.tty?-28:-59;case 21531:return o=Ke.get(),Ze.ioctl(n,t,o);case 21523:case 21524:return n.tty?0:-59;default:Se("bad ioctl syscall "+t)}}catch(e){if(void 0===Ze||!(e instanceof Ze.ErrnoError))throw e;return-e.errno}}function et(e,t){if(p)return kt(8,1,e,t);try{return e=Ke.getStr(e),Ke.doStat(Ze.lstat,e,t)}catch(e){if(void 0===Ze||!(e instanceof Ze.ErrnoError))throw e;return-e.errno}}function tt(e,t,r){if(p)return kt(9,1,e,t,r);Ke.varargs=r;try{var n=Ke.getStr(e),o=r?Ke.get():0;return Ze.open(n,t,o).fd}catch(e){if(void 0===Ze||!(e instanceof Ze.ErrnoError))throw e;return-e.errno}}function rt(e){if(p)return kt(10,1,e);try{return e=Ke.getStr(e),Ze.rmdir(e),0}catch(e){if(void 0===Ze||!(e instanceof Ze.ErrnoError))throw e;return-e.errno}}function nt(e,t){if(p)return kt(11,1,e,t);try{return e=Ke.getStr(e),Ke.doStat(Ze.stat,e,t)}catch(e){if(void 0===Ze||!(e instanceof Ze.ErrnoError))throw e;return-e.errno}}function ot(e){if(p)return kt(12,1,e);try{return e=Ke.getStr(e),Ze.unlink(e),0}catch(e){if(void 0===Ze||!(e instanceof Ze.ErrnoError))throw e;return-e.errno}}var it={};function at(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function st(e){return this.fromWireType(q[e>>2])}var ut={},ct={},lt={};function dt(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=48&&t<=57?"_"+e:e}function ft(e,t){return e=dt(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function _t(e,t){var r=ft(t,(function(e){this.name=t,this.message=e;var r=new Error(e).stack;void 0!==r&&(this.stack=this.toString()+"\n"+r.replace(/^Error(:[^\n]*)?\n/,""))}));return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},r}var mt=void 0;function ht(e){throw new mt(e)}function pt(e,t,r){function n(t){var n=r(t);n.length!==e.length&&ht("Mismatched type converter count");for(var o=0;o<e.length;++o)St(e[o],n[o])}e.forEach((function(e){lt[e]=t}));var o=new Array(t.length),i=[],a=0;t.forEach((function(e,t){ct.hasOwnProperty(e)?o[t]=ct[e]:(i.push(e),ut.hasOwnProperty(e)||(ut[e]=[]),ut[e].push((function(){o[t]=ct[e],++a===i.length&&n(o)})))})),0===i.length&&n(o)}function Et(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}var gt=void 0;function vt(e){for(var t="",r=e;B[r];)t+=gt[B[r++]];return t}var wt=void 0;function yt(e){throw new wt(e)}function St(e,t,r){if(r=r||{},!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var n=t.name;if(e||yt('type "'+n+'" must have a positive integer typeid pointer'),ct.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;yt("Cannot register type '"+n+"' twice")}if(ct[e]=t,delete lt[e],ut.hasOwnProperty(e)){var o=ut[e];delete ut[e],o.forEach((function(e){e()}))}}var bt=[],At=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Rt(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function Nt(e,t){switch(t){case 2:return function(e){return this.fromWireType(Z[e>>2])};case 3:return function(e){return this.fromWireType(K[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function Tt(e,t,r){return e.includes("j")?function(e,t,r){var n=o["dynCall_"+e];return r&&r.length?n.apply(null,[t].concat(r)):n.call(null,t)}(e,t,r):xe(t).apply(null,r)}function Ot(e,t){var r,n,o,i=(e=vt(e)).includes("j")?(r=e,n=t,o=[],function(){o.length=arguments.length;for(var e=0;e<arguments.length;e++)o[e]=arguments[e];return Tt(r,n,o)}):xe(t);return"function"!=typeof i&&yt("unknown function pointer with signature "+e+": "+t),i}var It=void 0;function Dt(e){var t=fr(e),r=vt(t);return ur(t),r}function Ct(e,t,r){switch(t){case 0:return r?function(e){return W[e]}:function(e){return B[e]};case 1:return r?function(e){return G[e>>1]}:function(e){return V[e>>1]};case 2:return r?function(e){return z[e>>2]}:function(e){return q[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}var Mt=[];function Lt(e,t){var r;for(Mt.length=0,t>>=2;r=B[e++];){var n=r<105;n&&1&t&&t++,Mt.push(n?K[t++>>1]:z[t]),++t}return Mt}function kt(e,t){var r=arguments.length-2,n=arguments;return Te((function(){for(var o=r,i=br(8*o),a=i>>3,s=0;s<r;s++){var u=n[2+s];K[a+s]=u}return hr(e,o,i,t)}))}var Pt=[],xt={inEventHandler:0,removeAllEventListeners:function(){for(var e=xt.eventHandlers.length-1;e>=0;--e)xt._removeHandler(e);xt.eventHandlers=[],xt.deferredCalls=[]},registerRemoveEventListeners:function(){xt.removeEventListenersRegistered||(ue.push(xt.removeAllEventListeners),xt.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(e,t,r){function n(e,t){if(e.length!=t.length)return!1;for(var r in e)if(e[r]!=t[r])return!1;return!0}for(var o in xt.deferredCalls){var i=xt.deferredCalls[o];if(i.targetFunction==e&&n(i.argsList,r))return}xt.deferredCalls.push({targetFunction:e,precedence:t,argsList:r}),xt.deferredCalls.sort((function(e,t){return e.precedence<t.precedence}))},removeDeferredCalls:function(e){for(var t=0;t<xt.deferredCalls.length;++t)xt.deferredCalls[t].targetFunction==e&&(xt.deferredCalls.splice(t,1),--t)},canPerformEventHandlerRequests:function(){return xt.inEventHandler&&xt.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(xt.canPerformEventHandlerRequests())for(var e=0;e<xt.deferredCalls.length;++e){var t=xt.deferredCalls[e];xt.deferredCalls.splice(e,1),--e,t.targetFunction.apply(null,t.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(e,t){for(var r=0;r<xt.eventHandlers.length;++r)xt.eventHandlers[r].target!=e||t&&t!=xt.eventHandlers[r].eventTypeString||xt._removeHandler(r--)},_removeHandler:function(e){var t=xt.eventHandlers[e];t.target.removeEventListener(t.eventTypeString,t.eventListenerFunc,t.useCapture),xt.eventHandlers.splice(e,1)},registerOrRemoveHandler:function(e){var t=function(t){++xt.inEventHandler,xt.currentEventHandler=e,xt.runDeferredCalls(),e.handlerFunc(t),xt.runDeferredCalls(),--xt.inEventHandler};if(e.callbackfunc)e.eventListenerFunc=t,e.target.addEventListener(e.eventTypeString,t,e.useCapture),xt.eventHandlers.push(e),xt.registerRemoveEventListeners();else for(var r=0;r<xt.eventHandlers.length;++r)xt.eventHandlers[r].target==e.target&&xt.eventHandlers[r].eventTypeString==e.eventTypeString&&xt._removeHandler(r--)},queueEventHandlerOnThread_iiii:function(e,t,r,n,o){Te((function(){var i=br(12);z[i>>2]=r,z[i+4>>2]=n,z[i+8>>2]=o,pr(0,e,637534208,t,n,i)}))},getTargetThreadForEventCallback:function(e){switch(e){case 1:return 0;case 2:return Me.currentProxiedOperationCallerThread;default:return e}},getNodeNameForTarget:function(e){return e?e==window?"#window":e==screen?"#screen":e&&e.nodeName?e.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};var Ft=[0,"undefined"!=typeof document?document:0,"undefined"!=typeof window?window:0];function Ht(e){return function(e){var t;return e=(t=e)>2?x(t):t,Ft[e]||("undefined"!=typeof document?document.querySelector(e):void 0)}(e)}function jt(e,t,r){var n=Ht(e);if(!n)return-4;if(n.canvasSharedPtr&&(z[n.canvasSharedPtr>>2]=t,z[n.canvasSharedPtr+4>>2]=r),!n.offscreenCanvas&&n.controlTransferredOffscreen)return n.canvasSharedPtr?(function(e,t,r,n){!function(e,t,r,n){Te((function(){var o,i,a,s=br(12),u=0;t&&(i=j(o=t)+1,H(o,a=cr(i),i),u=a),z[s>>2]=u,z[s+4>>2]=r,z[s+8>>2]=n,pr(0,e,657457152,0,u,s)}))}(e,t=t?x(t):"",r,n)}(z[n.canvasSharedPtr+8>>2],e,t,r),1):-4;n.offscreenCanvas&&(n=n.offscreenCanvas);var o=!1;if(n.GLctxObject&&n.GLctxObject.GLctx){var i=n.GLctxObject.GLctx.getParameter(2978);o=0===i[0]&&0===i[1]&&i[2]===n.width&&i[3]===n.height}return n.width=t,n.height=r,o&&n.GLctxObject.GLctx.viewport(0,0,t,r),0}function Ut(e,t,r){return p?kt(13,1,e,t,r):jt(e,t,r)}var Wt={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:{},offscreenCanvases:{},queries:[],stringCache:{},unpackAlignment:4,recordError:function(e){Wt.lastError||(Wt.lastError=e)},getNewId:function(e){for(var t=Wt.counter++,r=e.length;r<t;r++)e[r]=null;return t},getSource:function(e,t,r,n){for(var o="",i=0;i<t;++i){var a=n?z[n+4*i>>2]:-1;o+=x(z[r+4*i>>2],a<0?void 0:a)}return o},createContext:function(e,t){e.getContextSafariWebGL2Fixed||(e.getContextSafariWebGL2Fixed=e.getContext,e.getContext=function(t,r){var n=e.getContextSafariWebGL2Fixed(t,r);return"webgl"==t==n instanceof WebGLRenderingContext?n:null});var r=e.getContext("webgl",t);return r?Wt.registerContext(r,t):0},registerContext:function(e,t){var r=cr(8);z[r+4>>2]=dr();var n={handle:r,attributes:t,version:t.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=n),Wt.contexts[r]=n,(void 0===t.enableExtensionsByDefault||t.enableExtensionsByDefault)&&Wt.initExtensions(n),r},makeContextCurrent:function(e){return Wt.currentContext=Wt.contexts[e],o.ctx=rr=Wt.currentContext&&Wt.currentContext.GLctx,!(e&&!rr)},getContext:function(e){return Wt.contexts[e]},deleteContext:function(e){Wt.currentContext===Wt.contexts[e]&&(Wt.currentContext=null),"object"==typeof xt&&xt.removeAllHandlersOnTarget(Wt.contexts[e].GLctx.canvas),Wt.contexts[e]&&Wt.contexts[e].GLctx.canvas&&(Wt.contexts[e].GLctx.canvas.GLctxObject=void 0),ur(Wt.contexts[e].handle),Wt.contexts[e]=null},initExtensions:function(e){if(e||(e=Wt.currentContext),!e.initExtensionsDone){e.initExtensionsDone=!0;var t,r=e.GLctx;!function(e){var t=e.getExtension("ANGLE_instanced_arrays");t&&(e.vertexAttribDivisor=function(e,r){t.vertexAttribDivisorANGLE(e,r)},e.drawArraysInstanced=function(e,r,n,o){t.drawArraysInstancedANGLE(e,r,n,o)},e.drawElementsInstanced=function(e,r,n,o,i){t.drawElementsInstancedANGLE(e,r,n,o,i)})}(r),function(e){var t=e.getExtension("OES_vertex_array_object");t&&(e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(e){t.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){t.bindVertexArrayOES(e)},e.isVertexArray=function(e){return t.isVertexArrayOES(e)})}(r),function(e){var t=e.getExtension("WEBGL_draw_buffers");t&&(e.drawBuffers=function(e,r){t.drawBuffersWEBGL(e,r)})}(r),r.disjointTimerQueryExt=r.getExtension("EXT_disjoint_timer_query"),(t=r).multiDrawWebgl=t.getExtension("WEBGL_multi_draw"),(r.getSupportedExtensions()||[]).forEach((function(e){e.includes("lose_context")||e.includes("debug")||r.getExtension(e)}))}}},Bt=["default","low-power","high-performance"],Gt={};function Vt(){if(!Vt.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"};for(var t in Gt)void 0===Gt[t]?delete e[t]:e[t]=Gt[t];var r=[];for(var t in e)r.push(t+"="+e[t]);Vt.strings=r}return Vt.strings}function zt(e,t){if(p)return kt(14,1,e,t);var r=0;return Vt().forEach((function(n,o){var i=t+r;z[e+4*o>>2]=i,function(e,t,r){for(var n=0;n<e.length;++n)W[t++>>0]=e.charCodeAt(n);W[t>>0]=0}(n,i),r+=n.length+1})),0}function qt(e,t){if(p)return kt(15,1,e,t);var r=Vt();z[e>>2]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),z[t>>2]=n,0}function Zt(e){if(p)return kt(16,1,e);try{var t=Ke.getStreamFromFD(e);return Ze.close(t),0}catch(e){if(void 0===Ze||!(e instanceof Ze.ErrnoError))throw e;return e.errno}}function Kt(e,t,r,n){if(p)return kt(17,1,e,t,r,n);try{var o=Ke.getStreamFromFD(e),i=Ke.doReadv(o,t,r);return z[n>>2]=i,0}catch(e){if(void 0===Ze||!(e instanceof Ze.ErrnoError))throw e;return e.errno}}function Yt(e,t,r,n,o){if(p)return kt(18,1,e,t,r,n,o);try{var i=Ke.getStreamFromFD(e),a=4294967296*r+(t>>>0),s=9007199254740992;return a<=-s||a>=s?-61:(Ze.llseek(i,a,n),pe=[i.position>>>0,(he=i.position,+Math.abs(he)>=1?he>0?(0|Math.min(+Math.floor(he/4294967296),4294967295))>>>0:~~+Math.ceil((he-+(~~he>>>0))/4294967296)>>>0:0)],z[o>>2]=pe[0],z[o+4>>2]=pe[1],i.getdents&&0===a&&0===n&&(i.getdents=null),0)}catch(e){if(void 0===Ze||!(e instanceof Ze.ErrnoError))throw e;return e.errno}}function Xt(e,t,r,n){if(p)return kt(19,1,e,t,r,n);try{var o=Ke.getStreamFromFD(e),i=Ke.doWritev(o,t,r);return z[n>>2]=i,0}catch(e){if(void 0===Ze||!(e instanceof Ze.ErrnoError))throw e;return e.errno}}function Jt(e){return e%4==0&&(e%100!=0||e%400==0)}function Qt(e,t){for(var r=0,n=0;n<=t;r+=e[n++]);return r}var $t=[31,29,31,30,31,30,31,31,30,31,30,31],er=[31,28,31,30,31,30,31,31,30,31,30,31];function tr(e,t){for(var r=new Date(e.getTime());t>0;){var n=Jt(r.getFullYear()),o=r.getMonth(),i=(n?$t:er)[o];if(!(t>i-r.getDate()))return r.setDate(r.getDate()+t),r;t-=i-r.getDate()+1,r.setDate(1),o<11?r.setMonth(o+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1))}return r}p||Me.initMainThreadBlock();var rr,nr=function(e,t,r,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=Ze.nextInode++,this.name=t,this.mode=r,this.node_ops={},this.stream_ops={},this.rdev=n};Object.defineProperties(nr.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return Ze.isDir(this.mode)}},isDevice:{get:function(){return Ze.isChrdev(this.mode)}}}),Ze.FSNode=nr,Ze.staticInit(),mt=o.InternalError=_t(Error,"InternalError"),function(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);gt=e}(),wt=o.BindingError=_t(Error,"BindingError"),o.count_emval_handles=function(){for(var e=0,t=5;t<At.length;++t)void 0!==At[t]&&++e;return e},o.get_first_emval=function(){for(var e=5;e<At.length;++e)if(void 0!==At[e])return At[e];return null},It=o.UnboundTypeError=_t(Error,"UnboundTypeError");var or=[null,Le,Ue,Ye,Xe,Je,Qe,$e,et,tt,rt,nt,ot,Ut,zt,qt,Zt,Kt,Yt,Xt];function ir(e,t,r){var n=r>0?r:j(e)+1,o=new Array(n),i=F(e,o,0,o.length);return t&&(o.length=i),o}var ar,sr={StringReturnValue:function(){const e=location.hostname,t=j(e)+1,r=cr(t);return H(e,r,t),r},__assert_fail:function(e,t,r,n){Se("Assertion failed: "+x(e)+", at: "+[t?x(t):"unknown filename",r,n?x(n):"unknown function"])},__clock_gettime:function(e,t){return je(e,t)},__cxa_atexit:function(e,t){return Ue(e,t)},__emscripten_init_main_thread_js:function(e){wr(e,!m,1),Me.threadInit()},__emscripten_thread_cleanup:function(e){p?postMessage({cmd:"cleanupThread",thread:e}):Ie(e)},__pthread_create_js:function(e,t,r,n){if("undefined"==typeof SharedArrayBuffer)return w("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var o=[];if(p&&0===o.length)return _r(687865856,e,t,r,n);var i={startRoutine:r,pthread_ptr:e,arg:n,transferList:o};return p?(i.cmd="spawnThread",postMessage(i,o),0):We(i)},__pthread_detached_exit:function(){postMessage({cmd:"detachedExit"})},__syscall__newselect:Ye,__syscall_fcntl64:Xe,__syscall_fstat64:Je,__syscall_fstatat64:Qe,__syscall_getuid32:function(){return 0},__syscall_ioctl:$e,__syscall_lstat64:et,__syscall_open:tt,__syscall_rmdir:rt,__syscall_stat64:nt,__syscall_unlink:ot,_dlopen_js:function(e,t){Se("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},_dlsym_js:function(e,t){Se("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},_embind_finalize_value_object:function(e){var t=it[e];delete it[e];var r=t.rawConstructor,n=t.rawDestructor,o=t.fields;pt([e],o.map((function(e){return e.getterReturnType})).concat(o.map((function(e){return e.setterArgumentType}))),(function(e){var i={};return o.forEach((function(t,r){var n=t.fieldName,a=e[r],s=t.getter,u=t.getterContext,c=e[r+o.length],l=t.setter,d=t.setterContext;i[n]={read:function(e){return a.fromWireType(s(u,e))},write:function(e,t){var r=[];l(d,e,c.toWireType(r,t)),at(r)}}})),[{name:t.name,fromWireType:function(e){var t={};for(var r in i)t[r]=i[r].read(e);return n(e),t},toWireType:function(e,t){for(var o in i)if(!(o in t))throw new TypeError('Missing field:  "'+o+'"');var a=r();for(o in i)i[o].write(a,t[o]);return null!==e&&e.push(n,a),a},argPackAdvance:8,readValueFromPointer:st,destructorFunction:n}]}))},_embind_register_bigint:function(e,t,r,n,o){},_embind_register_bool:function(e,t,r,n,o){var i=Et(r);St(e,{name:t=vt(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?n:o},argPackAdvance:8,readValueFromPointer:function(e){var n;if(1===r)n=W;else if(2===r)n=G;else{if(4!==r)throw new TypeError("Unknown boolean type size: "+t);n=z}return this.fromWireType(n[e>>i])},destructorFunction:null})},_embind_register_emval:function(e,t){St(e,{name:t=vt(t),fromWireType:function(e){var t=function(e){return e||yt("Cannot use deleted val. handle = "+e),At[e].value}(e);return function(e){e>4&&0==--At[e].refcount&&(At[e]=void 0,bt.push(e))}(e),t},toWireType:function(e,t){return function(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=bt.length?bt.pop():At.length;return At[t]={refcount:1,value:e},t}}(t)},argPackAdvance:8,readValueFromPointer:st,destructorFunction:null})},_embind_register_float:function(e,t,r){var n=Et(r);St(e,{name:t=vt(t),fromWireType:function(e){return e},toWireType:function(e,t){return t},argPackAdvance:8,readValueFromPointer:Nt(t,n),destructorFunction:null})},_embind_register_function:function(e,t,r,n,i,a){var s=function(e,t){for(var r=[],n=0;n<e;n++)r.push(z[(t>>2)+n]);return r}(t,r);e=vt(e),i=Ot(n,i),function(e,t,r){o.hasOwnProperty(e)?((void 0===r||void 0!==o[e].overloadTable&&void 0!==o[e].overloadTable[r])&&yt("Cannot register public name '"+e+"' twice"),function(e,t,r){if(void 0===e[t].overloadTable){var n=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||yt("Function '"+r+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}}(o,e,e),o.hasOwnProperty(r)&&yt("Cannot register multiple overloads of a function with the same number of arguments ("+r+")!"),o[e].overloadTable[r]=t):(o[e]=t,void 0!==r&&(o[e].numArguments=r))}(e,(function(){!function(e,t){var r=[],n={};throw t.forEach((function e(t){n[t]||ct[t]||(lt[t]?lt[t].forEach(e):(r.push(t),n[t]=!0))})),new It(e+": "+r.map(Dt).join([", "]))}("Cannot call "+e+" due to unbound types",s)}),t-1),pt([],s,(function(r){var n=[r[0],null].concat(r.slice(1));return function(e,t,r){o.hasOwnProperty(e)||ht("Replacing nonexistant public symbol"),void 0!==o[e].overloadTable&&void 0!==r?o[e].overloadTable[r]=t:(o[e]=t,o[e].argCount=r)}(e,function(e,t,r,n,o){var i=t.length;i<2&&yt("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==t[1]&&null!==r,s=!1,u=1;u<t.length;++u)if(null!==t[u]&&void 0===t[u].destructorFunction){s=!0;break}var c="void"!==t[0].name,l="",d="";for(u=0;u<i-2;++u)l+=(0!==u?", ":"")+"arg"+u,d+=(0!==u?", ":"")+"arg"+u+"Wired";var f="return function "+dt(e)+"("+l+") {\nif (arguments.length !== "+(i-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(i-2)+" args!');\n}\n";s&&(f+="var destructors = [];\n");var _=s?"destructors":"null",m=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],h=[yt,n,o,at,t[0],t[1]];for(a&&(f+="var thisWired = classParam.toWireType("+_+", this);\n"),u=0;u<i-2;++u)f+="var arg"+u+"Wired = argType"+u+".toWireType("+_+", arg"+u+"); // "+t[u+2].name+"\n",m.push("argType"+u),h.push(t[u+2]);if(a&&(d="thisWired"+(d.length>0?", ":"")+d),f+=(c?"var rv = ":"")+"invoker(fn"+(d.length>0?", ":"")+d+");\n",s)f+="runDestructors(destructors);\n";else for(u=a?1:2;u<t.length;++u){var p=1===u?"thisWired":"arg"+(u-2)+"Wired";null!==t[u].destructorFunction&&(f+=p+"_dtor("+p+"); // "+t[u].name+"\n",m.push(p+"_dtor"),h.push(t[u].destructorFunction))}return c&&(f+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),f+="}\n",m.push(f),function(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var r=ft(e.name||"unknownFunctionName",(function(){}));r.prototype=e.prototype;var n=new r,o=e.apply(n,t);return o instanceof Object?o:n}(Function,m).apply(null,h)}(e,n,null,i,a),t-1),[]}))},_embind_register_integer:function(e,t,r,n,o){t=vt(t),-1===o&&(o=4294967295);var i=Et(r),a=function(e){return e};if(0===n){var s=32-8*r;a=function(e){return e<<s>>>s}}var u=t.includes("unsigned");St(e,{name:t,fromWireType:a,toWireType:function(e,r){if("number"!=typeof r&&"boolean"!=typeof r)throw new TypeError('Cannot convert "'+Rt(r)+'" to '+this.name);if(r<n||r>o)throw new TypeError('Passing a number "'+Rt(r)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+n+", "+o+"]!");return u?r>>>0:0|r},argPackAdvance:8,readValueFromPointer:Ct(t,i,0!==n),destructorFunction:null})},_embind_register_memory_view:function(e,t,r){var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function o(e){var t=q,r=t[e>>=2],o=t[e+1];return new n(U,o,r)}St(e,{name:r=vt(r),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},_embind_register_std_string:function(e,t){var r="std::string"===(t=vt(t));St(e,{name:t,fromWireType:function(e){var t,n=q[e>>2];if(r)for(var o=e+4,i=0;i<=n;++i){var a=e+4+i;if(i==n||0==B[a]){var s=x(o,a-o);void 0===t?t=s:(t+=String.fromCharCode(0),t+=s),o=a+1}}else{var u=new Array(n);for(i=0;i<n;++i)u[i]=String.fromCharCode(B[e+4+i]);t=u.join("")}return ur(e),t},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var n="string"==typeof t;n||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||yt("Cannot pass non-string to std::string");var o=(r&&n?function(){return j(t)}:function(){return t.length})(),i=cr(4+o+1);if(q[i>>2]=o,r&&n)H(t,i+4,o+1);else if(n)for(var a=0;a<o;++a){var s=t.charCodeAt(a);s>255&&(ur(i),yt("String has UTF-16 code units that do not fit in 8 bits")),B[i+4+a]=s}else for(a=0;a<o;++a)B[i+4+a]=t[a];return null!==e&&e.push(ur,i),i},argPackAdvance:8,readValueFromPointer:st,destructorFunction:function(e){ur(e)}})},_embind_register_std_wstring:function(e,t,r){var n,o,i,a,s;r=vt(r),2===t?(n=X,o=J,a=Q,i=function(){return V},s=1):4===t&&(n=$,o=ee,a=te,i=function(){return q},s=2),St(e,{name:r,fromWireType:function(e){for(var r,o=q[e>>2],a=i(),u=e+4,c=0;c<=o;++c){var l=e+4+c*t;if(c==o||0==a[l>>s]){var d=n(u,l-u);void 0===r?r=d:(r+=String.fromCharCode(0),r+=d),u=l+t}}return ur(e),r},toWireType:function(e,n){"string"!=typeof n&&yt("Cannot pass non-string to C++ string type "+r);var i=a(n),u=cr(4+i+t);return q[u>>2]=i>>s,o(n,u+4,i+t),null!==e&&e.push(ur,u),u},argPackAdvance:8,readValueFromPointer:st,destructorFunction:function(e){ur(e)}})},_embind_register_value_object:function(e,t,r,n,o,i){it[e]={name:vt(t),rawConstructor:Ot(r,n),rawDestructor:Ot(o,i),fields:[]}},_embind_register_value_object_field:function(e,t,r,n,o,i,a,s,u,c){it[e].fields.push({fieldName:vt(t),getterReturnType:r,getter:Ot(n,o),getterContext:i,setterArgumentType:a,setter:Ot(s,u),setterContext:c})},_embind_register_void:function(e,t){St(e,{isVoid:!0,name:t=vt(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})},_emscripten_default_pthread_stack_size:function(){return 2097152},_emscripten_notify_thread_queue:function(e,t){if(e==t)postMessage({cmd:"processQueuedMainThreadWork"});else if(p)postMessage({targetThread:e,cmd:"processThreadQueue"});else{var r=Me.pthreads[e],n=r&&r.worker;if(!n)return;n.postMessage({cmd:"processThreadQueue"})}return 1},abort:function(){Se("")},atexit:Ue,clock_gettime:je,emscripten_asm_const_async_on_main_thread:function(e,t,r){return function(e,t,r,n){var o=Lt(t,r);return p?kt.apply(null,[-1-e,0].concat(o)):Re[e].apply(null,o)}(e,t,r)},emscripten_asm_const_int:function(e,t,r){var n=Lt(t,r);return Re[e].apply(null,n)},emscripten_check_blocking_allowed:function(){m||y("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")},emscripten_conditional_set_current_thread_status:function(e,t){},emscripten_futex_wait:function(e,t,r){if(e<=0||e>W.length||!0&e)return-28;if(_){if(Atomics.load(z,e>>2)!=t)return-6;var n=performance.now(),o=n+r;for(Atomics.exchange(z,Nr>>2,e);;){if((n=performance.now())>o)return Atomics.exchange(z,Nr>>2,0),-73;if(0==Atomics.exchange(z,Nr>>2,0))break;if(mr(),Atomics.load(z,e>>2)!=t)return-6;Atomics.exchange(z,Nr>>2,e)}return 0}var i=Atomics.wait(z,e>>2,t,r);if("timed-out"===i)return-73;if("not-equal"===i)return-6;if("ok"===i)return 0;throw"Atomics.wait returned an unexpected value "+i},emscripten_futex_wake:Oe,emscripten_get_heap_max:function(){return B.length},emscripten_get_now:ke,emscripten_memcpy_big:function(e,t,r){B.copyWithin(e,t,t+r)},emscripten_num_logical_cores:function(){return navigator.hardwareConcurrency},emscripten_receive_on_main_thread_js:function(e,t,r){Pt.length=t;for(var n=r>>3,o=0;o<t;o++)Pt[o]=K[n+o];return(e<0?Re[-e-1]:or[e]).apply(null,Pt)},emscripten_resize_heap:function(e){B.length,Se("OOM")},emscripten_set_canvas_element_size:function(e,t,r){return Ht(e)?jt(e,t,r):Ut(e,t,r)},emscripten_set_current_thread_status:function(e){},emscripten_set_timeout:function(e,t,r){return de+=1,setTimeout((function(){de-=1,function(e,t){if(!le&&!I)if(t)e();else try{e(),p&&function(){if(!fe())try{p?gr(O):De(O)}catch(e){Ce(e)}}()}catch(e){Ce(e)}}((function(){xe(e)(r)}))}),t)},emscripten_unwind_to_js_event_loop:function(){throw"unwind"},emscripten_webgl_create_context:function(e,t){return r=e,o=z[6+(n=t>>2)],i={alpha:!!z[n+0],depth:!!z[n+1],stencil:!!z[n+2],antialias:!!z[n+3],premultipliedAlpha:!!z[n+4],preserveDrawingBuffer:!!z[n+5],powerPreference:Bt[o],failIfMajorPerformanceCaveat:!!z[n+7],majorVersion:z[n+8],minorVersion:z[n+9],enableExtensionsByDefault:z[n+10],explicitSwapControl:z[n+11],proxyContextToMainThread:z[n+12],renderViaOffscreenBackBuffer:z[n+13]},(a=Ht(r))?i.explicitSwapControl?0:Wt.createContext(a,i):0;var r,n,o,i,a},environ_get:zt,environ_sizes_get:qt,exit:De,fd_close:Zt,fd_read:Kt,fd_seek:Yt,fd_write:Xt,gettimeofday:function(e){var t=Date.now();return z[e>>2]=t/1e3|0,z[e+4>>2]=t%1e3*1e3|0,0},memory:R||o.wasmMemory,setTempRet0:function(e){},strftime_l:function(e,t,r,n){return function(e,t,r,n){var o=z[n+40>>2],i={tm_sec:z[n>>2],tm_min:z[n+4>>2],tm_hour:z[n+8>>2],tm_mday:z[n+12>>2],tm_mon:z[n+16>>2],tm_year:z[n+20>>2],tm_wday:z[n+24>>2],tm_yday:z[n+28>>2],tm_isdst:z[n+32>>2],tm_gmtoff:z[n+36>>2],tm_zone:o?x(o):""},a=x(r),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var u in s)a=a.replace(new RegExp(u,"g"),s[u]);var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"];function d(e,t,r){for(var n="number"==typeof e?e.toString():e||"";n.length<t;)n=r[0]+n;return n}function f(e,t){return d(e,t,"0")}function _(e,t){function r(e){return e<0?-1:e>0?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function m(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function h(e){var t=tr(new Date(e.tm_year+1900,0,1),e.tm_yday),r=new Date(t.getFullYear(),0,4),n=new Date(t.getFullYear()+1,0,4),o=m(r),i=m(n);return _(o,t)<=0?_(i,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var p={"%a":function(e){return c[e.tm_wday].substring(0,3)},"%A":function(e){return c[e.tm_wday]},"%b":function(e){return l[e.tm_mon].substring(0,3)},"%B":function(e){return l[e.tm_mon]},"%C":function(e){return f((e.tm_year+1900)/100|0,2)},"%d":function(e){return f(e.tm_mday,2)},"%e":function(e){return d(e.tm_mday,2," ")},"%g":function(e){return h(e).toString().substring(2)},"%G":function(e){return h(e)},"%H":function(e){return f(e.tm_hour,2)},"%I":function(e){var t=e.tm_hour;return 0==t?t=12:t>12&&(t-=12),f(t,2)},"%j":function(e){return f(e.tm_mday+Qt(Jt(e.tm_year+1900)?$t:er,e.tm_mon-1),3)},"%m":function(e){return f(e.tm_mon+1,2)},"%M":function(e){return f(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return e.tm_hour>=0&&e.tm_hour<12?"AM":"PM"},"%S":function(e){return f(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return e.tm_wday||7},"%U":function(e){var t=new Date(e.tm_year+1900,0,1),r=0===t.getDay()?t:tr(t,7-t.getDay()),n=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(_(r,n)<0){var o=Qt(Jt(n.getFullYear())?$t:er,n.getMonth()-1)-31,i=31-r.getDate()+o+n.getDate();return f(Math.ceil(i/7),2)}return 0===_(r,t)?"01":"00"},"%V":function(e){var t,r=new Date(e.tm_year+1900,0,4),n=new Date(e.tm_year+1901,0,4),o=m(r),i=m(n),a=tr(new Date(e.tm_year+1900,0,1),e.tm_yday);return _(a,o)<0?"53":_(i,a)<=0?"01":(t=o.getFullYear()<e.tm_year+1900?e.tm_yday+32-o.getDate():e.tm_yday+1-o.getDate(),f(Math.ceil(t/7),2))},"%w":function(e){return e.tm_wday},"%W":function(e){var t=new Date(e.tm_year,0,1),r=1===t.getDay()?t:tr(t,0===t.getDay()?1:7-t.getDay()+1),n=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(_(r,n)<0){var o=Qt(Jt(n.getFullYear())?$t:er,n.getMonth()-1)-31,i=31-r.getDate()+o+n.getDate();return f(Math.ceil(i/7),2)}return 0===_(r,t)?"01":"00"},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var t=e.tm_gmtoff,r=t>=0;return t=(t=Math.abs(t)/60)/60*100+t%60,(r?"+":"-")+String("0000"+t).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var u in p)a.includes(u)&&(a=a.replace(new RegExp(u,"g"),p[u](i)));var E=ir(a,!1);return E.length>t?0:(re(E,e),E.length-1)}(e,t,r,n)},time:function(e){var t=Date.now()/1e3|0;return e&&(z[e>>2]=t),t}},ur=(function(){var e={env:sr,wasi_snapshot_preview1:sr};function t(e,t){var r,n,i=e.exports;if(o.asm=i,r=o.asm.emscripten_tls_init,Me.tlsInitFunctions.push(r),oe=o.asm.__indirect_function_table,n=o.asm.__wasm_call_ctors,se.unshift(n),N=t,!p){var a=Me.unusedWorkers.length;Me.unusedWorkers.forEach((function(e){Me.loadWasmModuleToWorker(e,(function(){--a||ye()}))}))}}function n(e){t(e.instance,e.module)}function i(t){return(b||!_&&!m||"function"!=typeof fetch?Promise.resolve().then((function(){return Ae(me)})):fetch(me,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+me+"'";return e.arrayBuffer()})).catch((function(){return Ae(me)}))).then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){w("failed to asynchronously prepare wasm: "+e),Se(e)}))}if(p||we(),o.instantiateWasm)try{return o.instantiateWasm(e,t)}catch(e){return w("Module.instantiateWasm callback failed with error: "+e),!1}(b||"function"!=typeof WebAssembly.instantiateStreaming||be(me)||"function"!=typeof fetch?i(n):fetch(me,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return w("wasm streaming compile failed: "+e),w("falling back to ArrayBuffer instantiation"),i(n)}))}))).catch(r)}(),o.___wasm_call_ctors=function(){return(o.___wasm_call_ctors=o.asm.__wasm_call_ctors).apply(null,arguments)},o._free=function(){return(ur=o._free=o.asm.free).apply(null,arguments)}),cr=(o._init_engine=function(){return(o._init_engine=o.asm.init_engine).apply(null,arguments)},o._start_hrv=function(){return(o._start_hrv=o.asm.start_hrv).apply(null,arguments)},o._version=function(){return(o._version=o.asm.version).apply(null,arguments)},o._process_rppg=function(){return(o._process_rppg=o.asm.process_rppg).apply(null,arguments)},o._set_rect_callback=function(){return(o._set_rect_callback=o.asm.set_rect_callback).apply(null,arguments)},o._set_message_callback=function(){return(o._set_message_callback=o.asm.set_message_callback).apply(null,arguments)},o._set_report_callback=function(){return(o._set_report_callback=o.asm.set_report_callback).apply(null,arguments)},o._finish_rppg=function(){return(o._finish_rppg=o.asm.finish_rppg).apply(null,arguments)},o._malloc=function(){return(cr=o._malloc=o.asm.malloc).apply(null,arguments)}),lr=o.___errno_location=function(){return(lr=o.___errno_location=o.asm.__errno_location).apply(null,arguments)},dr=(o._ntohs=function(){return(o._ntohs=o.asm.ntohs).apply(null,arguments)},o._saveSetjmp=function(){return(o._saveSetjmp=o.asm.saveSetjmp).apply(null,arguments)},o._pthread_self=function(){return(dr=o._pthread_self=o.asm.pthread_self).apply(null,arguments)}),fr=(o._emscripten_tls_init=function(){return(o._emscripten_tls_init=o.asm.emscripten_tls_init).apply(null,arguments)},o.___getTypeName=function(){return(fr=o.___getTypeName=o.asm.__getTypeName).apply(null,arguments)}),_r=(o.___embind_register_native_and_builtin_types=function(){return(o.___embind_register_native_and_builtin_types=o.asm.__embind_register_native_and_builtin_types).apply(null,arguments)},o._emscripten_current_thread_process_queued_calls=function(){return(o._emscripten_current_thread_process_queued_calls=o.asm.emscripten_current_thread_process_queued_calls).apply(null,arguments)},o._emscripten_main_browser_thread_id=function(){return(o._emscripten_main_browser_thread_id=o.asm.emscripten_main_browser_thread_id).apply(null,arguments)},o._emscripten_sync_run_in_main_thread_2=function(){return(o._emscripten_sync_run_in_main_thread_2=o.asm.emscripten_sync_run_in_main_thread_2).apply(null,arguments)},o._emscripten_sync_run_in_main_thread_4=function(){return(_r=o._emscripten_sync_run_in_main_thread_4=o.asm.emscripten_sync_run_in_main_thread_4).apply(null,arguments)}),mr=o._emscripten_main_thread_process_queued_calls=function(){return(mr=o._emscripten_main_thread_process_queued_calls=o.asm.emscripten_main_thread_process_queued_calls).apply(null,arguments)},hr=o._emscripten_run_in_main_runtime_thread_js=function(){return(hr=o._emscripten_run_in_main_runtime_thread_js=o.asm.emscripten_run_in_main_runtime_thread_js).apply(null,arguments)},pr=o.__emscripten_call_on_thread=function(){return(pr=o.__emscripten_call_on_thread=o.asm._emscripten_call_on_thread).apply(null,arguments)},Er=(o.___emscripten_init_main_thread=function(){return(o.___emscripten_init_main_thread=o.asm.__emscripten_init_main_thread).apply(null,arguments)},o.__emscripten_thread_free_data=function(){return(Er=o.__emscripten_thread_free_data=o.asm._emscripten_thread_free_data).apply(null,arguments)}),gr=o.__emscripten_thread_exit=function(){return(gr=o.__emscripten_thread_exit=o.asm._emscripten_thread_exit).apply(null,arguments)},vr=o._memalign=function(){return(vr=o._memalign=o.asm.memalign).apply(null,arguments)},wr=o.__emscripten_thread_init=function(){return(wr=o.__emscripten_thread_init=o.asm._emscripten_thread_init).apply(null,arguments)},yr=(o._pthread_testcancel=function(){return(o._pthread_testcancel=o.asm.pthread_testcancel).apply(null,arguments)},o._emscripten_get_global_libc=function(){return(o._emscripten_get_global_libc=o.asm.emscripten_get_global_libc).apply(null,arguments)},o._htons=function(){return(o._htons=o.asm.htons).apply(null,arguments)},o._htonl=function(){return(o._htonl=o.asm.htonl).apply(null,arguments)},o.___dl_seterr=function(){return(o.___dl_seterr=o.asm.__dl_seterr).apply(null,arguments)},o.__get_tzname=function(){return(o.__get_tzname=o.asm._get_tzname).apply(null,arguments)},o.__get_daylight=function(){return(o.__get_daylight=o.asm._get_daylight).apply(null,arguments)},o.__get_timezone=function(){return(o.__get_timezone=o.asm._get_timezone).apply(null,arguments)},o.stackSave=function(){return(yr=o.stackSave=o.asm.stackSave).apply(null,arguments)}),Sr=o.stackRestore=function(){return(Sr=o.stackRestore=o.asm.stackRestore).apply(null,arguments)},br=o.stackAlloc=function(){return(br=o.stackAlloc=o.asm.stackAlloc).apply(null,arguments)},Ar=o._emscripten_stack_set_limits=function(){return(Ar=o._emscripten_stack_set_limits=o.asm.emscripten_stack_set_limits).apply(null,arguments)},Rr=(o._setThrew=function(){return(o._setThrew=o.asm.setThrew).apply(null,arguments)},o.dynCall_jii=function(){return(o.dynCall_jii=o.asm.dynCall_jii).apply(null,arguments)},o.dynCall_viij=function(){return(o.dynCall_viij=o.asm.dynCall_viij).apply(null,arguments)},o.dynCall_viijii=function(){return(o.dynCall_viijii=o.asm.dynCall_viijii).apply(null,arguments)},o.dynCall_viji=function(){return(o.dynCall_viji=o.asm.dynCall_viji).apply(null,arguments)},o.dynCall_ji=function(){return(o.dynCall_ji=o.asm.dynCall_ji).apply(null,arguments)},o.dynCall_jiii=function(){return(o.dynCall_jiii=o.asm.dynCall_jiii).apply(null,arguments)},o.dynCall_jiji=function(){return(o.dynCall_jiji=o.asm.dynCall_jiji).apply(null,arguments)},o.dynCall_iiiiij=function(){return(o.dynCall_iiiiij=o.asm.dynCall_iiiiij).apply(null,arguments)},o.dynCall_iiiiijj=function(){return(o.dynCall_iiiiijj=o.asm.dynCall_iiiiijj).apply(null,arguments)},o.dynCall_iiiiiijj=function(){return(o.dynCall_iiiiiijj=o.asm.dynCall_iiiiiijj).apply(null,arguments)},o.__emscripten_allow_main_runtime_queued_calls=786796),Nr=o.__emscripten_main_thread_futex=1449148;function Tr(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Or(e){if(e=e||l,!(Ee>0)){if(p)return t(o),_e(),void postMessage({cmd:"loaded"});!function(){if(!p){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)e=o.preRun.shift(),ae.unshift(e);var e;Ne(ae)}}(),Ee>0||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),r()}),1)):r())}function r(){ar||(ar=!0,o.calledRun=!0,I||(_e(),t(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),function(){if(!p){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)e=o.postRun.shift(),ce.unshift(e);var e;Ne(ce)}}()))}}if(o.ccall=M,o.cwrap=function(e,t,r,n){var o=(r=r||[]).every((function(e){return"number"===e}));return"string"!==t&&o&&!n?C(e):function(){return M(e,t,r,arguments)}},o.stringToUTF8=H,o.lengthBytesUTF8=j,o.addFunction=function(e,t){if(S||(S=new WeakMap,function(e,t){for(var r=0;r<0+t;r++){var n=xe(r);n&&S.set(n,r)}}(0,oe.length)),S.has(e))return S.get(e);var r=function(){if(A.length)return A.pop();try{oe.grow(1)}catch(e){if(!(e instanceof RangeError))throw e;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return oe.length-1}();try{Fe(r,e)}catch(n){if(!(n instanceof TypeError))throw n;Fe(r,function(e,t){if("function"==typeof WebAssembly.Function){for(var r={i:"i32",j:"i64",f:"f32",d:"f64"},n={parameters:[],results:"v"==t[0]?[]:[r[t[0]]]},o=1;o<t.length;++o)n.parameters.push(r[t[o]]);return new WebAssembly.Function(n,e)}var i=[1,0,1,96],a=t.slice(0,1),s=t.slice(1),u={i:127,j:126,f:125,d:124};for(i.push(s.length),o=0;o<s.length;++o)i.push(u[s[o]]);"v"==a?i.push(0):i=i.concat([1,u[a]]),i[1]=i.length-2;var c=new Uint8Array([0,97,115,109,1,0,0,0].concat(i,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),l=new WebAssembly.Module(c);return new WebAssembly.Instance(l,{e:{f:e}}).exports.f}(e,t))}return S.set(e,r),r},o.keepRuntimeAlive=fe,o.FS=Ze,o.PThread=Me,o.LZ4=qe,o.PThread=Me,o.wasmMemory=R,o.ExitStatus=Tr,ve=function e(){ar||Or(),ar||(ve=e)},o.run=Or,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return p&&(T=!1,Me.initWorker()),Or(),e.ready})},1281:(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{default:()=>o});const o=(n="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(e){var t,r,o=void 0!==(e=e||{})?e:{};o.ready=new Promise((function(e,n){t=e,r=n}));var i,a={};for(i in o)o.hasOwnProperty(i)&&(a[i]=o[i]);var s,u,c,l=[],d="./this.program",f=function(e,t){throw t},_="object"==typeof window,m="function"==typeof importScripts,h="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,p=o.ENVIRONMENT_IS_PTHREAD||!1,E="";function g(e){return o.locateFile?o.locateFile(e,E):E+e}(_||m)&&(m?E=self.location.href:"undefined"!=typeof document&&document.currentScript&&(E=document.currentScript.src),n&&(E=n),E=0!==E.indexOf("blob:")?E.substr(0,E.replace(/[?#].*/,"").lastIndexOf("/")+1):"",s=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},m&&(c=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),u=function(e,t,r){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)});var v=o.print||console.log.bind(console),w=o.printErr||console.warn.bind(console);for(i in a)a.hasOwnProperty(i)&&(o[i]=a[i]);function y(e){y.shown||(y.shown={}),y.shown[e]||(y.shown[e]=1,w(e))}a=null,o.arguments&&(l=o.arguments),o.thisProgram&&(d=o.thisProgram),o.quit&&(f=o.quit);var S,b,A=[];Atomics.load,Atomics.store,Atomics.compareExchange,o.wasmBinary&&(b=o.wasmBinary);var R,N,T=o.noExitRuntime||!0;"object"!=typeof WebAssembly&&Se("no native wasm support detected");var O,I=!1;function D(e,t){e||Se("Assertion failed: "+t)}function C(e){var t=o["_"+e];return D(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function M(e,t,r,n,o){var i={string:function(e){var t=0;if(null!=e&&0!==e){var r=1+(e.length<<2);H(e,t=br(r),r)}return t},array:function(e){var t=br(e.length);return re(e,t),t}},a=C(e),s=[],u=0;if(n)for(var c=0;c<n.length;c++){var l=i[r[c]];l?(0===u&&(u=yr()),s[c]=l(n[c])):s[c]=n[c]}var d=a.apply(null,s);return function(e){return 0!==u&&Sr(u),function(e){return"string"===t?x(e):"boolean"===t?Boolean(e):e}(e)}(d)}function L(e){var t=new TextDecoder(e);this.decode=function(e){return e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),t.decode.call(t,e)}}var k="undefined"!=typeof TextDecoder?new L("utf8"):void 0;function P(e,t,r){for(var n=t+r,o=t;e[o]&&!(o>=n);)++o;if(o-t>16&&e.subarray&&k)return k.decode(e.subarray(t,o));for(var i="";t<o;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var u=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|u:(7&a)<<18|s<<12|u<<6|63&e[t++])<65536)i+=String.fromCharCode(a);else{var c=a-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&a)<<6|s)}else i+=String.fromCharCode(a)}return i}function x(e,t){return e?P(B,e,t):""}function F(e,t,r,n){if(!(n>0))return 0;for(var o=r,i=r+n-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),s<=127){if(r>=i)break;t[r++]=s}else if(s<=2047){if(r+1>=i)break;t[r++]=192|s>>6,t[r++]=128|63&s}else if(s<=65535){if(r+2>=i)break;t[r++]=224|s>>12,t[r++]=128|s>>6&63,t[r++]=128|63&s}else{if(r+3>=i)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}}return t[r]=0,r-o}function H(e,t,r){return F(e,B,t,r)}function j(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++r)),n<=127?++t:t+=n<=2047?2:n<=65535?3:4}return t}var U,W,B,G,V,z,q,Z,K,Y="undefined"!=typeof TextDecoder?new L("utf-16le"):void 0;function X(e,t){for(var r=e,n=r>>1,o=n+t/2;!(n>=o)&&V[n];)++n;if((r=n<<1)-e>32&&Y)return Y.decode(B.subarray(e,r));for(var i="",a=0;!(a>=t/2);++a){var s=G[e+2*a>>1];if(0==s)break;i+=String.fromCharCode(s)}return i}function J(e,t,r){if(void 0===r&&(r=2147483647),r<2)return 0;for(var n=t,o=(r-=2)<2*e.length?r/2:e.length,i=0;i<o;++i){var a=e.charCodeAt(i);G[t>>1]=a,t+=2}return G[t>>1]=0,t-n}function Q(e){return 2*e.length}function $(e,t){for(var r=0,n="";!(r>=t/4);){var o=z[e+4*r>>2];if(0==o)break;if(++r,o>=65536){var i=o-65536;n+=String.fromCharCode(55296|i>>10,56320|1023&i)}else n+=String.fromCharCode(o)}return n}function ee(e,t,r){if(void 0===r&&(r=2147483647),r<4)return 0;for(var n=t,o=n+r-4,i=0;i<e.length;++i){var a=e.charCodeAt(i);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++i)),z[t>>2]=a,(t+=4)+4>o)break}return z[t>>2]=0,t-n}function te(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&++r,t+=4}return t}function re(e,t){W.set(e,t)}p&&(U=o.buffer);var ne,oe,ie=o.INITIAL_MEMORY||262144e3;if(p)R=o.wasmMemory,U=o.buffer;else if(o.wasmMemory)R=o.wasmMemory;else if(!((R=new WebAssembly.Memory({initial:ie/65536,maximum:ie/65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw w("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),h&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");R&&(U=R.buffer),ie=U.byteLength,U=ne=U,o.HEAP8=W=new Int8Array(ne),o.HEAP16=G=new Int16Array(ne),o.HEAP32=z=new Int32Array(ne),o.HEAPU8=B=new Uint8Array(ne),o.HEAPU16=V=new Uint16Array(ne),o.HEAPU32=q=new Uint32Array(ne),o.HEAPF32=Z=new Float32Array(ne),o.HEAPF64=K=new Float64Array(ne);var ae=[],se=[],ue=[],ce=[],le=!1,de=0;function fe(){return T||de>0}function _e(){p||(o.noFSInit||Ze.init.initialized||Ze.init(),Ze.ignorePermissions=!1,Ve.init(),Ne(se))}var me,he,pe,Ee=0,ge=null,ve=null;function we(e){Ee++,o.monitorRunDependencies&&o.monitorRunDependencies(Ee)}function ye(e){if(Ee--,o.monitorRunDependencies&&o.monitorRunDependencies(Ee),0==Ee&&(null!==ge&&(clearInterval(ge),ge=null),ve)){var t=ve;ve=null,t()}}function Se(e){p?postMessage({cmd:"onAbort",arg:e}):o.onAbort&&o.onAbort(e),w(e="Aborted("+e+")"),I=!0,O=1,e+=". Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(e);throw r(t),t}function be(e){return e.startsWith("data:application/octet-stream;base64,")}function Ae(e){try{if(e==me&&b)return new Uint8Array(b);if(c)return c(e);throw"both async and sync fetching of the wasm failed"}catch(e){Se(e)}}o.preloadedImages={},o.preloadedAudios={},be(me="a.simd.wasm")||(me=g(me));var Re={791197:function(e,t,r,n,o){window.binahConfig.onFaceDetected(e,t,r,n,o)},791259:function(e,t,r,n,o){window.binahConfig.onFaceDetected(e,t,r,n,o)},791321:function(e,t){window.binahConfig.onMessage(e,t)},791366:function(e,t){window.binahConfig.onMessage(e,t)},791411:function(e,t){window.binahConfig.onMessage(e,t)},791456:function(e,t){window.binahConfig.onMessage(e,t)},791501:function(e,t){window.binahConfig.onMessage(e,t)},791546:function(e){window.binahRuntimeData.postProcessingTime=e},791602:function(e,t,r,n,o,i,a,s,u,c,l,d,f,_,m){window.binahConfig.onReport(e,t,r,n,o,i,a,s,u,c,l,d,f,_,m)},791703:function(e,t,r,n,o,i,a,s,u,c,l,d){window.binahConfig.onReport2(e,t,r,n,o,i,a,s,u,c,l,d)},791790:function(e){console.log(x(e))}};function Ne(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?xe(r)():xe(r)(t.arg):r(void 0===t.arg?null:t.arg)}else t(o)}}function Te(e){var t=yr(),r=e();return Sr(t),r}function Oe(e,t){if(e<=0||e>W.length||!0&e||t<0)return-28;if(0==t)return 0;t>=2147483647&&(t=1/0);var r=Atomics.load(z,Nr>>2),n=0;if(r==e&&Atomics.compareExchange(z,Nr>>2,r,0)==r&&(n=1,--t<=0))return 1;var o=Atomics.notify(z,e>>2,t);if(o>=0)return o+n;throw"Atomics.notify returned an unexpected value "+o}function Ie(e){var t=Me.pthreads[e];if(t){z[e>>2]=0;var r=t.worker;Me.returnWorkerToPool(r)}}function De(e){!function(e,t){if(O=e,p)throw Le(e),"unwind";var r;fe()||p||(Me.terminateAllThreads(),le=!0),O=r=e,fe()||(Me.terminateAllThreads(),o.onExit&&o.onExit(r),I=!0),f(r,new Tr(r))}(e)}function Ce(e){if(e instanceof Tr||"unwind"==e)return O;f(1,e)}o._emscripten_futex_wake=Oe,o._exit=De;var Me={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],initMainThreadBlock:function(){for(var e=0;e<6;++e)Me.allocateUnusedWorker()},initWorker:function(){},pthreads:{},setExitStatus:function(e){O=e},terminateAllThreads:function(){for(var e in Me.pthreads){var t=Me.pthreads[e];t&&t.worker&&Me.returnWorkerToPool(t.worker)}for(var r=0;r<Me.unusedWorkers.length;++r)Me.unusedWorkers[r].terminate();Me.unusedWorkers=[]},returnWorkerToPool:function(e){Me.runWithoutMainThreadQueuedCalls((function(){delete Me.pthreads[e.pthread.threadInfoStruct],Me.unusedWorkers.push(e),Me.runningWorkers.splice(Me.runningWorkers.indexOf(e),1),Er(e.pthread.threadInfoStruct),e.pthread=void 0}))},runWithoutMainThreadQueuedCalls:function(e){z[Rr>>2]=0;try{e()}finally{z[Rr>>2]=1}},receiveObjectTransfer:function(e){},threadInit:function(){for(var e in Me.tlsInitFunctions)Me.tlsInitFunctions[e]()},loadWasmModuleToWorker:function(e,t){e.onmessage=function(r){var n,i=r.data,a=i.cmd;if(e.pthread&&(Me.currentProxiedOperationCallerThread=e.pthread.threadInfoStruct),i.targetThread&&i.targetThread!=dr()){var s=Me.pthreads[i.targetThread];return s?s.worker.postMessage(i,i.transferList):w('Internal error! Worker sent a message "'+a+'" to target pthread '+i.targetThread+", but that thread no longer exists!"),void(Me.currentProxiedOperationCallerThread=void 0)}"processQueuedMainThreadWork"===a?mr():"spawnThread"===a?We(i):"cleanupThread"===a?Ie(i.thread):"killThread"===a?function(e){z[e>>2]=0;var t=Me.pthreads[e];delete Me.pthreads[e],t.worker.terminate(),Er(e),Me.runningWorkers.splice(Me.runningWorkers.indexOf(t.worker),1),t.worker.pthread=void 0}(i.thread):"cancelThread"===a?(n=i.thread,Me.pthreads[n].worker.postMessage({cmd:"cancel"})):"loaded"===a?(e.loaded=!0,t&&t(e),e.runPthread&&(e.runPthread(),delete e.runPthread)):"print"===a?v("Thread "+i.threadId+": "+i.text):"printErr"===a?w("Thread "+i.threadId+": "+i.text):"alert"===a?alert("Thread "+i.threadId+": "+i.text):"detachedExit"===a||"cancelDone"===a?Me.returnWorkerToPool(e):"setimmediate"===i.target?e.postMessage(i):"onAbort"===a?o.onAbort&&o.onAbort(i.arg):w("worker sent an unknown command "+a),Me.currentProxiedOperationCallerThread=void 0},e.onerror=function(e){throw w("pthread sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},e.postMessage({cmd:"load",urlOrBlob:o.mainScriptUrlOrBlob,wasmMemory:R,wasmModule:N})},allocateUnusedWorker:function(){g("a.simd.worker.js"),Me.unusedWorkers.push(new Worker("./a.simd.worker.js"))},getNewWorker:function(){return 0==Me.unusedWorkers.length&&(Me.allocateUnusedWorker(),Me.loadWasmModuleToWorker(Me.unusedWorkers[0])),Me.unusedWorkers.pop()}};function Le(e){if(p)return kt(1,0,e);try{De(e)}catch(e){Ce(e)}}o.establishStackSpace=function(){var e=dr(),t=z[e+44>>2],r=z[e+48>>2];Ar(t,t-r),Sr(t)};var ke,Pe=[];function xe(e){var t=Pe[e];return t||(e>=Pe.length&&(Pe.length=e+1),Pe[e]=t=oe.get(e)),t}function Fe(e,t){oe.set(e,t),Pe[e]=t}function He(e){return z[lr()>>2]=e,e}function je(e,t){var r;if(0===e)r=Date.now();else{if(1!==e&&4!==e)return He(28),-1;r=ke()}return z[t>>2]=r/1e3|0,z[t+4>>2]=r%1e3*1e3*1e3|0,0}function Ue(e,t){if(p)return kt(2,1,e,t)}function We(e){var t=Me.getNewWorker();if(!t)return 6;Me.runningWorkers.push(t);var r=Me.pthreads[e.pthread_ptr]={worker:t,threadInfoStruct:e.pthread_ptr};t.pthread=r;var n={cmd:"run",start_routine:e.startRoutine,arg:e.arg,threadInfoStruct:e.pthread_ptr};return t.runPthread=function(){n.time=performance.now(),t.postMessage(n,e.transferList)},t.loaded&&(t.runPthread(),delete t.runPthread),0}o.invokeEntryPoint=function(e,t){return xe(e)(t)},ke=p?function(){return performance.now()-o.__performance_now_clock_drift}:function(){return performance.now()};var Be={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var r=0,n=e.length-1;n>=0;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),r="/"===e.substr(-1);return(e=Be.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=Be.splitPath(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},basename:function(e){if("/"===e)return"/";var t=(e=(e=Be.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return Be.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return Be.normalize(e.join("/"))},join2:function(e,t){return Be.normalize(e+"/"+t)}},Ge={resolve:function(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var n=r>=0?arguments[r]:Ze.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,t="/"===n.charAt(0)}return(t?"/":"")+(e=Be.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."},relative:function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=Ge.resolve(e).substr(1),t=Ge.resolve(t).substr(1);for(var n=r(e.split("/")),o=r(t.split("/")),i=Math.min(n.length,o.length),a=i,s=0;s<i;s++)if(n[s]!==o[s]){a=s;break}var u=[];for(s=a;s<n.length;s++)u.push("..");return(u=u.concat(o.slice(a))).join("/")}},Ve={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){Ve.ttys[e]={input:[],output:[],ops:t},Ze.registerDevice(e,Ve.stream_ops)},stream_ops:{open:function(e){var t=Ve.ttys[e.node.rdev];if(!t)throw new Ze.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,r,n,o){if(!e.tty||!e.tty.ops.get_char)throw new Ze.ErrnoError(60);for(var i=0,a=0;a<n;a++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new Ze.ErrnoError(29)}if(void 0===s&&0===i)throw new Ze.ErrnoError(6);if(null==s)break;i++,t[r+a]=s}return i&&(e.node.timestamp=Date.now()),i},write:function(e,t,r,n,o){if(!e.tty||!e.tty.ops.put_char)throw new Ze.ErrnoError(60);try{for(var i=0;i<n;i++)e.tty.ops.put_char(e.tty,t[r+i])}catch(e){throw new Ze.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),i}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n"),!t)return null;e.input=ir(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(v(P(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(v(P(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(w(P(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(w(P(e.output,0)),e.output=[])}}};var ze={ops_table:null,mount:function(e){return ze.createNode(null,"/",16895,0)},createNode:function(e,t,r,n){if(Ze.isBlkdev(r)||Ze.isFIFO(r))throw new Ze.ErrnoError(63);ze.ops_table||(ze.ops_table={dir:{node:{getattr:ze.node_ops.getattr,setattr:ze.node_ops.setattr,lookup:ze.node_ops.lookup,mknod:ze.node_ops.mknod,rename:ze.node_ops.rename,unlink:ze.node_ops.unlink,rmdir:ze.node_ops.rmdir,readdir:ze.node_ops.readdir,symlink:ze.node_ops.symlink},stream:{llseek:ze.stream_ops.llseek}},file:{node:{getattr:ze.node_ops.getattr,setattr:ze.node_ops.setattr},stream:{llseek:ze.stream_ops.llseek,read:ze.stream_ops.read,write:ze.stream_ops.write,allocate:ze.stream_ops.allocate,mmap:ze.stream_ops.mmap,msync:ze.stream_ops.msync}},link:{node:{getattr:ze.node_ops.getattr,setattr:ze.node_ops.setattr,readlink:ze.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ze.node_ops.getattr,setattr:ze.node_ops.setattr},stream:Ze.chrdev_stream_ops}});var o=Ze.createNode(e,t,r,n);return Ze.isDir(o.mode)?(o.node_ops=ze.ops_table.dir.node,o.stream_ops=ze.ops_table.dir.stream,o.contents={}):Ze.isFile(o.mode)?(o.node_ops=ze.ops_table.file.node,o.stream_ops=ze.ops_table.file.stream,o.usedBytes=0,o.contents=null):Ze.isLink(o.mode)?(o.node_ops=ze.ops_table.link.node,o.stream_ops=ze.ops_table.link.stream):Ze.isChrdev(o.mode)&&(o.node_ops=ze.ops_table.chrdev.node,o.stream_ops=ze.ops_table.chrdev.stream),o.timestamp=Date.now(),e&&(e.contents[t]=o,e.timestamp=o.timestamp),o},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var r=e.contents?e.contents.length:0;if(!(r>=t)){t=Math.max(t,r*(r<1048576?2:1.125)>>>0),0!=r&&(t=Math.max(t,256));var n=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(n.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t)if(0==t)e.contents=null,e.usedBytes=0;else{var r=e.contents;e.contents=new Uint8Array(t),r&&e.contents.set(r.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=Ze.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,Ze.isDir(e.mode)?t.size=4096:Ze.isFile(e.mode)?t.size=e.usedBytes:Ze.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&ze.resizeFileStorage(e,t.size)},lookup:function(e,t){throw Ze.genericErrors[44]},mknod:function(e,t,r,n){return ze.createNode(e,t,r,n)},rename:function(e,t,r){if(Ze.isDir(e.mode)){var n;try{n=Ze.lookupNode(t,r)}catch(e){}if(n)for(var o in n.contents)throw new Ze.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=r,t.contents[r]=e,t.timestamp=e.parent.timestamp,e.parent=t},unlink:function(e,t){delete e.contents[t],e.timestamp=Date.now()},rmdir:function(e,t){var r=Ze.lookupNode(e,t);for(var n in r.contents)throw new Ze.ErrnoError(55);delete e.contents[t],e.timestamp=Date.now()},readdir:function(e){var t=[".",".."];for(var r in e.contents)e.contents.hasOwnProperty(r)&&t.push(r);return t},symlink:function(e,t,r){var n=ze.createNode(e,t,41471,0);return n.link=r,n},readlink:function(e){if(!Ze.isLink(e.mode))throw new Ze.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,r,n,o){var i=e.node.contents;if(o>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-o,n);if(a>8&&i.subarray)t.set(i.subarray(o,o+a),r);else for(var s=0;s<a;s++)t[r+s]=i[o+s];return a},write:function(e,t,r,n,o,i){if(!n)return 0;var a=e.node;if(a.timestamp=Date.now(),t.subarray&&(!a.contents||a.contents.subarray)){if(i)return a.contents=t.subarray(r,r+n),a.usedBytes=n,n;if(0===a.usedBytes&&0===o)return a.contents=t.slice(r,r+n),a.usedBytes=n,n;if(o+n<=a.usedBytes)return a.contents.set(t.subarray(r,r+n),o),n}if(ze.expandFileStorage(a,o+n),a.contents.subarray&&t.subarray)a.contents.set(t.subarray(r,r+n),o);else for(var s=0;s<n;s++)a.contents[o+s]=t[r+s];return a.usedBytes=Math.max(a.usedBytes,o+n),n},llseek:function(e,t,r){var n=t;if(1===r?n+=e.position:2===r&&Ze.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new Ze.ErrnoError(28);return n},allocate:function(e,t,r){ze.expandFileStorage(e.node,t+r),e.node.usedBytes=Math.max(e.node.usedBytes,t+r)},mmap:function(e,t,r,n,o,i){if(0!==t)throw new Ze.ErrnoError(28);if(!Ze.isFile(e.node.mode))throw new Ze.ErrnoError(43);var a,s,u=e.node.contents;if(2&i||u.buffer!==U){if((n>0||n+r<u.length)&&(u=u.subarray?u.subarray(n,n+r):Array.prototype.slice.call(u,n,n+r)),s=!0,!(a=function(e){e=function(e,t){return 65536*Math.ceil(e/65536)}(e);var t=vr(65536,e);return t?(function(e,t){B.fill(0,e,e+t)}(t,e),t):0}(r)))throw new Ze.ErrnoError(48);W.set(u,a)}else s=!1,a=u.byteOffset;return{ptr:a,allocated:s}},msync:function(e,t,r,n,o){if(!Ze.isFile(e.node.mode))throw new Ze.ErrnoError(43);return 2&o||ze.stream_ops.write(e,t,0,n,r,!1),0}}},qe={DIR_MODE:16895,FILE_MODE:33279,CHUNK_SIZE:-1,codec:null,init:function(){qe.codec||(qe.codec=function(){var e={uncompress:function(e,t,r,n){for(var o=r=r||0,i=n=n||e.length-r,a=0;o<i;){var s=e[o++],u=s>>4;if(u>0){for(var c=u+240;255===c;)u+=c=e[o++];for(var l=o+u;o<l;)t[a++]=e[o++];if(o===i)return a}var d=e[o++]|e[o++]<<8;if(0===d)return a;if(d>a)return-(o-2);var f=15&s;for(c=f+240;255===c;)f+=c=e[o++];var _=a-d;for(l=a+f+4;a<l;)t[a++]=t[_++]}return a}},t=2113929216;D(!0);var r=new Int16Array(65536),n=new Int16Array(r.length);return e.compressBound=function(e){return e>t?0:e+e/255+16|0},e.compress=function(o,i,a,s){return r.set(n),function(n,o,i,a,s){var u=a,c=s-a,l=0;if(n.length>=t)throw new Error("input too large");if(n.length>12){var d=e.compressBound(n.length);if(c<d)throw Error("output too small: "+c+" < "+d);for(var f=67,_=n.length-12;i+4<_;){var m=n[i+1]<<8|n[i],h=n[i+3]<<8|n[i+2],p=Math.imul(m|h<<16,2654435761)>>>16,E=r[p]-1;if(r[p]=i+1,E<0||i-E>>>16>0||(n[E+3]<<8|n[E+2])!=h||(n[E+1]<<8|n[E])!=m)i+=f++>>6;else{f=67;var g=i-l,v=i-E;E+=4;for(var w=i+=4;i<_&&n[i]==n[E];)i++,E++;var y=(w=i-w)<15?w:15;if(g>=15){o[u++]=240+y;for(var S=g-15;S>254;S-=255)o[u++]=255;o[u++]=S}else o[u++]=(g<<4)+y;for(var b=0;b<g;b++)o[u++]=n[l+b];if(o[u++]=v,o[u++]=v>>8,w>=15){for(w-=15;w>=255;)w-=255,o[u++]=255;o[u++]=w}l=i}}}if(0==l)return 0;if((g=n.length-l)>=15){o[u++]=240;for(var A=g-15;A>254;A-=255)o[u++]=255;o[u++]=A}else o[u++]=g<<4;for(i=l;i<n.length;)o[u++]=n[i++];return u}(o,i,0,a||0,s||i.length)},e.CHUNK_SIZE=2048,e.compressPackage=function(t,r){if(r)var n=new Uint8Array(e.CHUNK_SIZE);D(t instanceof ArrayBuffer),t=new Uint8Array(t),console.log("compressing package of size "+t.length);for(var o=[],i=[],a=0,s=0;a<t.length;){var u=t.subarray(a,a+e.CHUNK_SIZE);a+=e.CHUNK_SIZE;var c=e.compressBound(u.length),l=new Uint8Array(c),d=e.compress(u,l);if(d>0){if(D(d<=c),l=l.subarray(0,d),o.push(l),s+=d,i.push(1),r){var f=e.uncompress(l,n);D(f===u.length,[f,u.length]);for(var _=0;_<u.length;_++)D(u[_]===n[_])}}else D(0===d),o.push(u),s+=u.length,i.push(0)}t=null;var m={data:new Uint8Array(s+2*e.CHUNK_SIZE),cachedOffset:s,cachedIndexes:[-1,-1],cachedChunks:[null,null],offsets:[],sizes:[],successes:i};for(a=0,_=0;_<o.length;_++)m.data.set(o[_],a),m.offsets[_]=a,m.sizes[_]=o[_].length,a+=o[_].length;return console.log("compressed package into "+[m.data.length]),D(a===s),m},D(e.CHUNK_SIZE<32768),e}(),qe.CHUNK_SIZE=qe.codec.CHUNK_SIZE)},loadPackage:function(e,t){qe.init();var r=e.compressedData;r||(r=qe.codec.compressPackage(e.data)),D(r.cachedIndexes.length===r.cachedChunks.length);for(var n=0;n<r.cachedIndexes.length;n++)r.cachedIndexes[n]=-1,r.cachedChunks[n]=r.data.subarray(r.cachedOffset+n*qe.CHUNK_SIZE,r.cachedOffset+(n+1)*qe.CHUNK_SIZE),D(r.cachedChunks[n].length===qe.CHUNK_SIZE);e.metadata.files.forEach((function(e){var t=Be.dirname(e.filename),n=Be.basename(e.filename);Ze.createPath("",t,!0,!0);var o=Ze.analyzePath(t).object;qe.createNode(o,n,qe.FILE_MODE,0,{compressedData:r,start:e.start,end:e.end})})),t&&(Browser.init(),e.metadata.files.forEach((function(e){var t=!1,r=e.filename;o.preloadPlugins.forEach((function(e){if(!t&&e.canHandle(r)){we();var n=function(){ye()},o=Ze.readFile(r);e.handle(o,r,n,n),t=!0}}))})))},createNode:function(e,t,r,n,o,i){var a=Ze.createNode(e,t,r);return a.mode=r,a.node_ops=qe.node_ops,a.stream_ops=qe.stream_ops,a.timestamp=(i||new Date).getTime(),D(qe.FILE_MODE!==qe.DIR_MODE),r===qe.FILE_MODE?(a.size=o.end-o.start,a.contents=o):(a.size=4096,a.contents={}),e&&(e.contents[t]=a),a},node_ops:{getattr:function(e){return{dev:1,ino:e.id,mode:e.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:e.size,atime:new Date(e.timestamp),mtime:new Date(e.timestamp),ctime:new Date(e.timestamp),blksize:4096,blocks:Math.ceil(e.size/4096)}},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp)},lookup:function(e,t){throw new Ze.ErrnoError(44)},mknod:function(e,t,r,n){throw new Ze.ErrnoError(63)},rename:function(e,t,r){throw new Ze.ErrnoError(63)},unlink:function(e,t){throw new Ze.ErrnoError(63)},rmdir:function(e,t){throw new Ze.ErrnoError(63)},readdir:function(e){throw new Ze.ErrnoError(63)},symlink:function(e,t,r){throw new Ze.ErrnoError(63)},readlink:function(e){throw new Ze.ErrnoError(63)}},stream_ops:{read:function(e,t,r,n,i){if((n=Math.min(n,e.node.size-i))<=0)return 0;for(var a=e.node.contents,s=a.compressedData,u=0;u<n;){var c,l=a.start+i+u,d=n-u,f=Math.floor(l/qe.CHUNK_SIZE),_=s.offsets[f],m=s.sizes[f];if(s.successes[f]){var h=s.cachedIndexes.indexOf(f);if(h>=0)c=s.cachedChunks[h];else{s.cachedIndexes.pop(),s.cachedIndexes.unshift(f),c=s.cachedChunks.pop(),s.cachedChunks.unshift(c),s.debug&&(v("decompressing chunk "+f),o.decompressedChunks=(o.decompressedChunks||0)+1);var p=s.data.subarray(_,_+m),E=qe.codec.uncompress(p,c);f<s.successes.length-1&&D(E===qe.CHUNK_SIZE)}}else c=s.data.subarray(_,_+qe.CHUNK_SIZE);var g=l%qe.CHUNK_SIZE,w=Math.min(g+d,qe.CHUNK_SIZE);t.set(c.subarray(g,w),r+u),u+=w-g}return u},write:function(e,t,r,n,o){throw new Ze.ErrnoError(29)},llseek:function(e,t,r){var n=t;if(1===r?n+=e.position:2===r&&Ze.isFile(e.node.mode)&&(n+=e.node.size),n<0)throw new Ze.ErrnoError(28);return n}}},Ze={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(e,t){if(t=t||{},!(e=Ge.resolve(Ze.cwd(),e)))return{path:"",node:null};var r={follow_mount:!0,recurse_count:0};for(var n in r)void 0===t[n]&&(t[n]=r[n]);if(t.recurse_count>8)throw new Ze.ErrnoError(32);for(var o=Be.normalizeArray(e.split("/").filter((function(e){return!!e})),!1),i=Ze.root,a="/",s=0;s<o.length;s++){var u=s===o.length-1;if(u&&t.parent)break;if(i=Ze.lookupNode(i,o[s]),a=Be.join2(a,o[s]),Ze.isMountpoint(i)&&(!u||u&&t.follow_mount)&&(i=i.mounted.root),!u||t.follow)for(var c=0;Ze.isLink(i.mode);){var l=Ze.readlink(a);if(a=Ge.resolve(Be.dirname(a),l),i=Ze.lookupPath(a,{recurse_count:t.recurse_count}).node,c++>40)throw new Ze.ErrnoError(32)}}return{path:a,node:i}},getPath:function(e){for(var t;;){if(Ze.isRoot(e)){var r=e.mount.mountpoint;return t?"/"!==r[r.length-1]?r+"/"+t:r+t:r}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var r=0,n=0;n<t.length;n++)r=(r<<5)-r+t.charCodeAt(n)|0;return(e+r>>>0)%Ze.nameTable.length},hashAddNode:function(e){var t=Ze.hashName(e.parent.id,e.name);e.name_next=Ze.nameTable[t],Ze.nameTable[t]=e},hashRemoveNode:function(e){var t=Ze.hashName(e.parent.id,e.name);if(Ze.nameTable[t]===e)Ze.nameTable[t]=e.name_next;else for(var r=Ze.nameTable[t];r;){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}},lookupNode:function(e,t){var r=Ze.mayLookup(e);if(r)throw new Ze.ErrnoError(r,e);for(var n=Ze.hashName(e.id,t),o=Ze.nameTable[n];o;o=o.name_next){var i=o.name;if(o.parent.id===e.id&&i===t)return o}return Ze.lookup(e,t)},createNode:function(e,t,r,n){var o=new Ze.FSNode(e,t,r,n);return Ze.hashAddNode(o),o},destroyNode:function(e){Ze.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(e){var t=Ze.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return Ze.ignorePermissions||(!t.includes("r")||292&e.mode)&&(!t.includes("w")||146&e.mode)&&(!t.includes("x")||73&e.mode)?0:2},mayLookup:function(e){return Ze.nodePermissions(e,"x")||(e.node_ops.lookup?0:2)},mayCreate:function(e,t){try{return Ze.lookupNode(e,t),20}catch(e){}return Ze.nodePermissions(e,"wx")},mayDelete:function(e,t,r){var n;try{n=Ze.lookupNode(e,t)}catch(e){return e.errno}var o=Ze.nodePermissions(e,"wx");if(o)return o;if(r){if(!Ze.isDir(n.mode))return 54;if(Ze.isRoot(n)||Ze.getPath(n)===Ze.cwd())return 10}else if(Ze.isDir(n.mode))return 31;return 0},mayOpen:function(e,t){return e?Ze.isLink(e.mode)?32:Ze.isDir(e.mode)&&("r"!==Ze.flagsToPermissionString(t)||512&t)?31:Ze.nodePermissions(e,Ze.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||Ze.MAX_OPEN_FDS;for(var r=e;r<=t;r++)if(!Ze.streams[r])return r;throw new Ze.ErrnoError(33)},getStream:function(e){return Ze.streams[e]},createStream:function(e,t,r){Ze.FSStream||(Ze.FSStream=function(){},Ze.FSStream.prototype={object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var n=new Ze.FSStream;for(var o in e)n[o]=e[o];e=n;var i=Ze.nextfd(t,r);return e.fd=i,Ze.streams[i]=e,e},closeStream:function(e){Ze.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=Ze.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new Ze.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){Ze.devices[e]={stream_ops:t}},getDevice:function(e){return Ze.devices[e]},getMounts:function(e){for(var t=[],r=[e];r.length;){var n=r.pop();t.push(n),r.push.apply(r,n.mounts)}return t},syncfs:function(e,t){"function"==typeof e&&(t=e,e=!1),Ze.syncFSRequests++,Ze.syncFSRequests>1&&w("warning: "+Ze.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var r=Ze.getMounts(Ze.root.mount),n=0;function o(e){return Ze.syncFSRequests--,t(e)}function i(e){if(e)return i.errored?void 0:(i.errored=!0,o(e));++n>=r.length&&o(null)}r.forEach((function(t){if(!t.type.syncfs)return i(null);t.type.syncfs(t,e,i)}))},mount:function(e,t,r){var n,o="/"===r,i=!r;if(o&&Ze.root)throw new Ze.ErrnoError(10);if(!o&&!i){var a=Ze.lookupPath(r,{follow_mount:!1});if(r=a.path,n=a.node,Ze.isMountpoint(n))throw new Ze.ErrnoError(10);if(!Ze.isDir(n.mode))throw new Ze.ErrnoError(54)}var s={type:e,opts:t,mountpoint:r,mounts:[]},u=e.mount(s);return u.mount=s,s.root=u,o?Ze.root=u:n&&(n.mounted=s,n.mount&&n.mount.mounts.push(s)),u},unmount:function(e){var t=Ze.lookupPath(e,{follow_mount:!1});if(!Ze.isMountpoint(t.node))throw new Ze.ErrnoError(28);var r=t.node,n=r.mounted,o=Ze.getMounts(n);Object.keys(Ze.nameTable).forEach((function(e){for(var t=Ze.nameTable[e];t;){var r=t.name_next;o.includes(t.mount)&&Ze.destroyNode(t),t=r}})),r.mounted=null;var i=r.mount.mounts.indexOf(n);r.mount.mounts.splice(i,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,r){var n=Ze.lookupPath(e,{parent:!0}).node,o=Be.basename(e);if(!o||"."===o||".."===o)throw new Ze.ErrnoError(28);var i=Ze.mayCreate(n,o);if(i)throw new Ze.ErrnoError(i);if(!n.node_ops.mknod)throw new Ze.ErrnoError(63);return n.node_ops.mknod(n,o,t,r)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,Ze.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,Ze.mknod(e,t,0)},mkdirTree:function(e,t){for(var r=e.split("/"),n="",o=0;o<r.length;++o)if(r[o]){n+="/"+r[o];try{Ze.mkdir(n,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,t,r){return void 0===r&&(r=t,t=438),t|=8192,Ze.mknod(e,t,r)},symlink:function(e,t){if(!Ge.resolve(e))throw new Ze.ErrnoError(44);var r=Ze.lookupPath(t,{parent:!0}).node;if(!r)throw new Ze.ErrnoError(44);var n=Be.basename(t),o=Ze.mayCreate(r,n);if(o)throw new Ze.ErrnoError(o);if(!r.node_ops.symlink)throw new Ze.ErrnoError(63);return r.node_ops.symlink(r,n,e)},rename:function(e,t){var r,n,o=Be.dirname(e),i=Be.dirname(t),a=Be.basename(e),s=Be.basename(t);if(r=Ze.lookupPath(e,{parent:!0}).node,n=Ze.lookupPath(t,{parent:!0}).node,!r||!n)throw new Ze.ErrnoError(44);if(r.mount!==n.mount)throw new Ze.ErrnoError(75);var u,c=Ze.lookupNode(r,a),l=Ge.relative(e,i);if("."!==l.charAt(0))throw new Ze.ErrnoError(28);if("."!==(l=Ge.relative(t,o)).charAt(0))throw new Ze.ErrnoError(55);try{u=Ze.lookupNode(n,s)}catch(e){}if(c!==u){var d=Ze.isDir(c.mode),f=Ze.mayDelete(r,a,d);if(f)throw new Ze.ErrnoError(f);if(f=u?Ze.mayDelete(n,s,d):Ze.mayCreate(n,s))throw new Ze.ErrnoError(f);if(!r.node_ops.rename)throw new Ze.ErrnoError(63);if(Ze.isMountpoint(c)||u&&Ze.isMountpoint(u))throw new Ze.ErrnoError(10);if(n!==r&&(f=Ze.nodePermissions(r,"w")))throw new Ze.ErrnoError(f);Ze.hashRemoveNode(c);try{r.node_ops.rename(c,n,s)}catch(e){throw e}finally{Ze.hashAddNode(c)}}},rmdir:function(e){var t=Ze.lookupPath(e,{parent:!0}).node,r=Be.basename(e),n=Ze.lookupNode(t,r),o=Ze.mayDelete(t,r,!0);if(o)throw new Ze.ErrnoError(o);if(!t.node_ops.rmdir)throw new Ze.ErrnoError(63);if(Ze.isMountpoint(n))throw new Ze.ErrnoError(10);t.node_ops.rmdir(t,r),Ze.destroyNode(n)},readdir:function(e){var t=Ze.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new Ze.ErrnoError(54);return t.node_ops.readdir(t)},unlink:function(e){var t=Ze.lookupPath(e,{parent:!0}).node,r=Be.basename(e),n=Ze.lookupNode(t,r),o=Ze.mayDelete(t,r,!1);if(o)throw new Ze.ErrnoError(o);if(!t.node_ops.unlink)throw new Ze.ErrnoError(63);if(Ze.isMountpoint(n))throw new Ze.ErrnoError(10);t.node_ops.unlink(t,r),Ze.destroyNode(n)},readlink:function(e){var t=Ze.lookupPath(e).node;if(!t)throw new Ze.ErrnoError(44);if(!t.node_ops.readlink)throw new Ze.ErrnoError(28);return Ge.resolve(Ze.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,t){var r=Ze.lookupPath(e,{follow:!t}).node;if(!r)throw new Ze.ErrnoError(44);if(!r.node_ops.getattr)throw new Ze.ErrnoError(63);return r.node_ops.getattr(r)},lstat:function(e){return Ze.stat(e,!0)},chmod:function(e,t,r){var n;if(!(n="string"==typeof e?Ze.lookupPath(e,{follow:!r}).node:e).node_ops.setattr)throw new Ze.ErrnoError(63);n.node_ops.setattr(n,{mode:4095&t|-4096&n.mode,timestamp:Date.now()})},lchmod:function(e,t){Ze.chmod(e,t,!0)},fchmod:function(e,t){var r=Ze.getStream(e);if(!r)throw new Ze.ErrnoError(8);Ze.chmod(r.node,t)},chown:function(e,t,r,n){var o;if(!(o="string"==typeof e?Ze.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new Ze.ErrnoError(63);o.node_ops.setattr(o,{timestamp:Date.now()})},lchown:function(e,t,r){Ze.chown(e,t,r,!0)},fchown:function(e,t,r){var n=Ze.getStream(e);if(!n)throw new Ze.ErrnoError(8);Ze.chown(n.node,t,r)},truncate:function(e,t){if(t<0)throw new Ze.ErrnoError(28);var r;if(!(r="string"==typeof e?Ze.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new Ze.ErrnoError(63);if(Ze.isDir(r.mode))throw new Ze.ErrnoError(31);if(!Ze.isFile(r.mode))throw new Ze.ErrnoError(28);var n=Ze.nodePermissions(r,"w");if(n)throw new Ze.ErrnoError(n);r.node_ops.setattr(r,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var r=Ze.getStream(e);if(!r)throw new Ze.ErrnoError(8);if(0==(2097155&r.flags))throw new Ze.ErrnoError(28);Ze.truncate(r.node,t)},utime:function(e,t,r){var n=Ze.lookupPath(e,{follow:!0}).node;n.node_ops.setattr(n,{timestamp:Math.max(t,r)})},open:function(e,t,r,n,i){if(""===e)throw new Ze.ErrnoError(44);var a;if(r=void 0===r?438:r,r=64&(t="string"==typeof t?Ze.modeStringToFlags(t):t)?4095&r|32768:0,"object"==typeof e)a=e;else{e=Be.normalize(e);try{a=Ze.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var s=!1;if(64&t)if(a){if(128&t)throw new Ze.ErrnoError(20)}else a=Ze.mknod(e,r,0),s=!0;if(!a)throw new Ze.ErrnoError(44);if(Ze.isChrdev(a.mode)&&(t&=-513),65536&t&&!Ze.isDir(a.mode))throw new Ze.ErrnoError(54);if(!s){var u=Ze.mayOpen(a,t);if(u)throw new Ze.ErrnoError(u)}512&t&&Ze.truncate(a,0),t&=-131713;var c=Ze.createStream({node:a,path:Ze.getPath(a),id:a.id,flags:t,mode:a.mode,seekable:!0,position:0,stream_ops:a.stream_ops,node_ops:a.node_ops,ungotten:[],error:!1},n,i);return c.stream_ops.open&&c.stream_ops.open(c),!o.logReadFiles||1&t||(Ze.readFiles||(Ze.readFiles={}),e in Ze.readFiles||(Ze.readFiles[e]=1)),c},close:function(e){if(Ze.isClosed(e))throw new Ze.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{Ze.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,r){if(Ze.isClosed(e))throw new Ze.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new Ze.ErrnoError(70);if(0!=r&&1!=r&&2!=r)throw new Ze.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,r),e.ungotten=[],e.position},read:function(e,t,r,n,o){if(n<0||o<0)throw new Ze.ErrnoError(28);if(Ze.isClosed(e))throw new Ze.ErrnoError(8);if(1==(2097155&e.flags))throw new Ze.ErrnoError(8);if(Ze.isDir(e.node.mode))throw new Ze.ErrnoError(31);if(!e.stream_ops.read)throw new Ze.ErrnoError(28);var i=void 0!==o;if(i){if(!e.seekable)throw new Ze.ErrnoError(70)}else o=e.position;var a=e.stream_ops.read(e,t,r,n,o);return i||(e.position+=a),a},write:function(e,t,r,n,o,i){if(n<0||o<0)throw new Ze.ErrnoError(28);if(Ze.isClosed(e))throw new Ze.ErrnoError(8);if(0==(2097155&e.flags))throw new Ze.ErrnoError(8);if(Ze.isDir(e.node.mode))throw new Ze.ErrnoError(31);if(!e.stream_ops.write)throw new Ze.ErrnoError(28);e.seekable&&1024&e.flags&&Ze.llseek(e,0,2);var a=void 0!==o;if(a){if(!e.seekable)throw new Ze.ErrnoError(70)}else o=e.position;var s=e.stream_ops.write(e,t,r,n,o,i);return a||(e.position+=s),s},allocate:function(e,t,r){if(Ze.isClosed(e))throw new Ze.ErrnoError(8);if(t<0||r<=0)throw new Ze.ErrnoError(28);if(0==(2097155&e.flags))throw new Ze.ErrnoError(8);if(!Ze.isFile(e.node.mode)&&!Ze.isDir(e.node.mode))throw new Ze.ErrnoError(43);if(!e.stream_ops.allocate)throw new Ze.ErrnoError(138);e.stream_ops.allocate(e,t,r)},mmap:function(e,t,r,n,o,i){if(0!=(2&o)&&0==(2&i)&&2!=(2097155&e.flags))throw new Ze.ErrnoError(2);if(1==(2097155&e.flags))throw new Ze.ErrnoError(2);if(!e.stream_ops.mmap)throw new Ze.ErrnoError(43);return e.stream_ops.mmap(e,t,r,n,o,i)},msync:function(e,t,r,n,o){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,r,n,o):0},munmap:function(e){return 0},ioctl:function(e,t,r){if(!e.stream_ops.ioctl)throw new Ze.ErrnoError(59);return e.stream_ops.ioctl(e,t,r)},readFile:function(e,t){if((t=t||{}).flags=t.flags||0,t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var r,n=Ze.open(e,t.flags),o=Ze.stat(e).size,i=new Uint8Array(o);return Ze.read(n,i,0,o,0),"utf8"===t.encoding?r=P(i,0):"binary"===t.encoding&&(r=i),Ze.close(n),r},writeFile:function(e,t,r){(r=r||{}).flags=r.flags||577;var n=Ze.open(e,r.flags,r.mode);if("string"==typeof t){var o=new Uint8Array(j(t)+1),i=F(t,o,0,o.length);Ze.write(n,o,0,i,void 0,r.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");Ze.write(n,t,0,t.byteLength,void 0,r.canOwn)}Ze.close(n)},cwd:function(){return Ze.currentPath},chdir:function(e){var t=Ze.lookupPath(e,{follow:!0});if(null===t.node)throw new Ze.ErrnoError(44);if(!Ze.isDir(t.node.mode))throw new Ze.ErrnoError(54);var r=Ze.nodePermissions(t.node,"x");if(r)throw new Ze.ErrnoError(r);Ze.currentPath=t.path},createDefaultDirectories:function(){Ze.mkdir("/tmp"),Ze.mkdir("/home"),Ze.mkdir("/home/web_user")},createDefaultDevices:function(){Ze.mkdir("/dev"),Ze.registerDevice(Ze.makedev(1,3),{read:function(){return 0},write:function(e,t,r,n,o){return n}}),Ze.mkdev("/dev/null",Ze.makedev(1,3)),Ve.register(Ze.makedev(5,0),Ve.default_tty_ops),Ve.register(Ze.makedev(6,0),Ve.default_tty1_ops),Ze.mkdev("/dev/tty",Ze.makedev(5,0)),Ze.mkdev("/dev/tty1",Ze.makedev(6,0));var e=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}return function(){Se("randomDevice")}}();Ze.createDevice("/dev","random",e),Ze.createDevice("/dev","urandom",e),Ze.mkdir("/dev/shm"),Ze.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){Ze.mkdir("/proc");var e=Ze.mkdir("/proc/self");Ze.mkdir("/proc/self/fd"),Ze.mount({mount:function(){var t=Ze.createNode(e,"fd",16895,73);return t.node_ops={lookup:function(e,t){var r=+t,n=Ze.getStream(r);if(!n)throw new Ze.ErrnoError(8);var o={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return n.path}}};return o.parent=o,o}},t}},{},"/proc/self/fd")},createStandardStreams:function(){o.stdin?Ze.createDevice("/dev","stdin",o.stdin):Ze.symlink("/dev/tty","/dev/stdin"),o.stdout?Ze.createDevice("/dev","stdout",null,o.stdout):Ze.symlink("/dev/tty","/dev/stdout"),o.stderr?Ze.createDevice("/dev","stderr",null,o.stderr):Ze.symlink("/dev/tty1","/dev/stderr"),Ze.open("/dev/stdin",0),Ze.open("/dev/stdout",1),Ze.open("/dev/stderr",1)},ensureErrnoError:function(){Ze.ErrnoError||(Ze.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},Ze.ErrnoError.prototype=new Error,Ze.ErrnoError.prototype.constructor=Ze.ErrnoError,[44].forEach((function(e){Ze.genericErrors[e]=new Ze.ErrnoError(e),Ze.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){Ze.ensureErrnoError(),Ze.nameTable=new Array(4096),Ze.mount(ze,{},"/"),Ze.createDefaultDirectories(),Ze.createDefaultDevices(),Ze.createSpecialDirectories(),Ze.filesystems={MEMFS:ze}},init:function(e,t,r){Ze.init.initialized=!0,Ze.ensureErrnoError(),o.stdin=e||o.stdin,o.stdout=t||o.stdout,o.stderr=r||o.stderr,Ze.createStandardStreams()},quit:function(){Ze.init.initialized=!1;var e=o._fflush;e&&e(0);for(var t=0;t<Ze.streams.length;t++){var r=Ze.streams[t];r&&Ze.close(r)}},getMode:function(e,t){var r=0;return e&&(r|=365),t&&(r|=146),r},findObject:function(e,t){var r=Ze.analyzePath(e,t);return r.exists?r.object:null},analyzePath:function(e,t){try{e=(n=Ze.lookupPath(e,{follow:!t})).path}catch(e){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=Ze.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=n.path,r.parentObject=n.node,r.name=Be.basename(e),n=Ze.lookupPath(e,{follow:!t}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.isRoot="/"===n.path}catch(e){r.error=e.errno}return r},createPath:function(e,t,r,n){e="string"==typeof e?e:Ze.getPath(e);for(var o=t.split("/").reverse();o.length;){var i=o.pop();if(i){var a=Be.join2(e,i);try{Ze.mkdir(a)}catch(e){}e=a}}return a},createFile:function(e,t,r,n,o){var i=Be.join2("string"==typeof e?e:Ze.getPath(e),t),a=Ze.getMode(n,o);return Ze.create(i,a)},createDataFile:function(e,t,r,n,o,i){var a=t?Be.join2("string"==typeof e?e:Ze.getPath(e),t):e,s=Ze.getMode(n,o),u=Ze.create(a,s);if(r){if("string"==typeof r){for(var c=new Array(r.length),l=0,d=r.length;l<d;++l)c[l]=r.charCodeAt(l);r=c}Ze.chmod(u,146|s);var f=Ze.open(u,577);Ze.write(f,r,0,r.length,0,i),Ze.close(f),Ze.chmod(u,s)}return u},createDevice:function(e,t,r,n){var o=Be.join2("string"==typeof e?e:Ze.getPath(e),t),i=Ze.getMode(!!r,!!n);Ze.createDevice.major||(Ze.createDevice.major=64);var a=Ze.makedev(Ze.createDevice.major++,0);return Ze.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){n&&n.buffer&&n.buffer.length&&n(10)},read:function(e,t,n,o,i){for(var a=0,s=0;s<o;s++){var u;try{u=r()}catch(e){throw new Ze.ErrnoError(29)}if(void 0===u&&0===a)throw new Ze.ErrnoError(6);if(null==u)break;a++,t[n+s]=u}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,r,o,i){for(var a=0;a<o;a++)try{n(t[r+a])}catch(e){throw new Ze.ErrnoError(29)}return o&&(e.node.timestamp=Date.now()),a}}),Ze.mkdev(o,i,a)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!s)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=ir(s(e.url),!0),e.usedBytes=e.contents.length}catch(e){throw new Ze.ErrnoError(29)}},createLazyFile:function(e,t,r,n,o){function i(){this.lengthKnown=!1,this.chunks=[]}if(i.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,r=e/this.chunkSize|0;return this.getter(r)[t]}},i.prototype.setDataGetter=function(e){this.getter=e},i.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",r,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+r+". Status: "+e.status);var t,n=Number(e.getResponseHeader("Content-length")),o=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,i=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,a=1048576;o||(a=n);var s=this;s.setDataGetter((function(e){var t=e*a,o=(e+1)*a-1;if(o=Math.min(o,n-1),void 0===s.chunks[e]&&(s.chunks[e]=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>n-1)throw new Error("only "+n+" bytes available! programmer error!");var o=new XMLHttpRequest;if(o.open("GET",r,!1),n!==a&&o.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(o.responseType="arraybuffer"),o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.send(null),!(o.status>=200&&o.status<300||304===o.status))throw new Error("Couldn't load "+r+". Status: "+o.status);return void 0!==o.response?new Uint8Array(o.response||[]):ir(o.responseText||"",!0)}(t,o)),void 0===s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]})),!i&&n||(a=n=1,n=this.getter(0).length,a=n,v("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!m)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new i;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var s={isDevice:!1,contents:a}}else s={isDevice:!1,url:r};var u=Ze.createFile(e,t,s,n,o);s.contents?u.contents=s.contents:s.url&&(u.contents=null,u.url=s.url),Object.defineProperties(u,{usedBytes:{get:function(){return this.contents.length}}});var c={};return Object.keys(u.stream_ops).forEach((function(e){var t=u.stream_ops[e];c[e]=function(){return Ze.forceLoadFile(u),t.apply(null,arguments)}})),c.read=function(e,t,r,n,o){Ze.forceLoadFile(u);var i=e.node.contents;if(o>=i.length)return 0;var a=Math.min(i.length-o,n);if(i.slice)for(var s=0;s<a;s++)t[r+s]=i[o+s];else for(s=0;s<a;s++)t[r+s]=i.get(o+s);return a},u.stream_ops=c,u},createPreloadedFile:function(e,t,r,n,i,a,s,c,l,d){Browser.init();var f=t?Ge.resolve(Be.join2(e,t)):e;function _(r){function u(r){d&&d(),c||Ze.createDataFile(e,t,r,n,i,l),a&&a(),ye()}var _=!1;o.preloadPlugins.forEach((function(e){_||e.canHandle(f)&&(e.handle(r,f,u,(function(){s&&s(),ye()})),_=!0)})),_||u(r)}we(),"string"==typeof r?function(e,t,r,n){var o="al "+e;u(e,(function(t){D(t,'Loading data file "'+e+'" failed (no arrayBuffer).'),_(new Uint8Array(t)),o&&ye()}),(function(t){if(!r)throw'Loading data file "'+e+'" failed.';r()})),o&&we()}(r,0,s):_(r)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,r){t=t||function(){},r=r||function(){};var n=Ze.indexedDB();try{var o=n.open(Ze.DB_NAME(),Ze.DB_VERSION)}catch(e){return r(e)}o.onupgradeneeded=function(){v("creating db"),o.result.createObjectStore(Ze.DB_STORE_NAME)},o.onsuccess=function(){var n=o.result.transaction([Ze.DB_STORE_NAME],"readwrite"),i=n.objectStore(Ze.DB_STORE_NAME),a=0,s=0,u=e.length;function c(){0==s?t():r()}e.forEach((function(e){var t=i.put(Ze.analyzePath(e).object.contents,e);t.onsuccess=function(){++a+s==u&&c()},t.onerror=function(){s++,a+s==u&&c()}})),n.onerror=r},o.onerror=r},loadFilesFromDB:function(e,t,r){t=t||function(){},r=r||function(){};var n=Ze.indexedDB();try{var o=n.open(Ze.DB_NAME(),Ze.DB_VERSION)}catch(e){return r(e)}o.onupgradeneeded=r,o.onsuccess=function(){var n=o.result;try{var i=n.transaction([Ze.DB_STORE_NAME],"readonly")}catch(e){return void r(e)}var a=i.objectStore(Ze.DB_STORE_NAME),s=0,u=0,c=e.length;function l(){0==u?t():r()}e.forEach((function(e){var t=a.get(e);t.onsuccess=function(){Ze.analyzePath(e).exists&&Ze.unlink(e),Ze.createDataFile(Be.dirname(e),Be.basename(e),t.result,!0,!0,!0),++s+u==c&&l()},t.onerror=function(){u++,s+u==c&&l()}})),i.onerror=r},o.onerror=r}},Ke={mappings:{},DEFAULT_POLLMASK:5,calculateAt:function(e,t,r){if("/"===t[0])return t;var n;if(-100===e)n=Ze.cwd();else{var o=Ze.getStream(e);if(!o)throw new Ze.ErrnoError(8);n=o.path}if(0==t.length){if(!r)throw new Ze.ErrnoError(44);return n}return Be.join2(n,t)},doStat:function(e,t,r){try{var n=e(t)}catch(e){if(e&&e.node&&Be.normalize(t)!==Be.normalize(Ze.getPath(e.node)))return-54;throw e}return z[r>>2]=n.dev,z[r+4>>2]=0,z[r+8>>2]=n.ino,z[r+12>>2]=n.mode,z[r+16>>2]=n.nlink,z[r+20>>2]=n.uid,z[r+24>>2]=n.gid,z[r+28>>2]=n.rdev,z[r+32>>2]=0,pe=[n.size>>>0,(he=n.size,+Math.abs(he)>=1?he>0?(0|Math.min(+Math.floor(he/4294967296),4294967295))>>>0:~~+Math.ceil((he-+(~~he>>>0))/4294967296)>>>0:0)],z[r+40>>2]=pe[0],z[r+44>>2]=pe[1],z[r+48>>2]=4096,z[r+52>>2]=n.blocks,z[r+56>>2]=n.atime.getTime()/1e3|0,z[r+60>>2]=0,z[r+64>>2]=n.mtime.getTime()/1e3|0,z[r+68>>2]=0,z[r+72>>2]=n.ctime.getTime()/1e3|0,z[r+76>>2]=0,pe=[n.ino>>>0,(he=n.ino,+Math.abs(he)>=1?he>0?(0|Math.min(+Math.floor(he/4294967296),4294967295))>>>0:~~+Math.ceil((he-+(~~he>>>0))/4294967296)>>>0:0)],z[r+80>>2]=pe[0],z[r+84>>2]=pe[1],0},doMsync:function(e,t,r,n,o){var i=B.slice(e,e+r);Ze.msync(t,i,o,r,n)},doMkdir:function(e,t){return"/"===(e=Be.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),Ze.mkdir(e,t,0),0},doMknod:function(e,t,r){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return Ze.mknod(e,t,r),0},doReadlink:function(e,t,r){if(r<=0)return-28;var n=Ze.readlink(e),o=Math.min(r,j(n)),i=W[t+o];return H(n,t,r+1),W[t+o]=i,o},doAccess:function(e,t){if(-8&t)return-28;var r=Ze.lookupPath(e,{follow:!0}).node;if(!r)return-44;var n="";return 4&t&&(n+="r"),2&t&&(n+="w"),1&t&&(n+="x"),n&&Ze.nodePermissions(r,n)?-2:0},doDup:function(e,t,r){var n=Ze.getStream(r);return n&&Ze.close(n),Ze.open(e,t,0,r,r).fd},doReadv:function(e,t,r,n){for(var o=0,i=0;i<r;i++){var a=z[t+8*i>>2],s=z[t+(8*i+4)>>2],u=Ze.read(e,W,a,s,n);if(u<0)return-1;if(o+=u,u<s)break}return o},doWritev:function(e,t,r,n){for(var o=0,i=0;i<r;i++){var a=z[t+8*i>>2],s=z[t+(8*i+4)>>2],u=Ze.write(e,W,a,s,n);if(u<0)return-1;o+=u}return o},varargs:void 0,get:function(){return Ke.varargs+=4,z[Ke.varargs-4>>2]},getStr:function(e){return x(e)},getStreamFromFD:function(e){var t=Ze.getStream(e);if(!t)throw new Ze.ErrnoError(8);return t},get64:function(e,t){return e}};function Ye(e,t,r,n,o){if(p)return kt(3,1,e,t,r,n,o);try{for(var i=0,a=t?z[t>>2]:0,s=t?z[t+4>>2]:0,u=r?z[r>>2]:0,c=r?z[r+4>>2]:0,l=n?z[n>>2]:0,d=n?z[n+4>>2]:0,f=0,_=0,m=0,h=0,E=0,g=0,v=(t?z[t>>2]:0)|(r?z[r>>2]:0)|(n?z[n>>2]:0),w=(t?z[t+4>>2]:0)|(r?z[r+4>>2]:0)|(n?z[n+4>>2]:0),y=function(e,t,r,n){return e<32?t&n:r&n},S=0;S<e;S++){var b=1<<S%32;if(y(S,v,w,b)){var A=Ze.getStream(S);if(!A)throw new Ze.ErrnoError(8);var R=Ke.DEFAULT_POLLMASK;A.stream_ops.poll&&(R=A.stream_ops.poll(A)),1&R&&y(S,a,s,b)&&(S<32?f|=b:_|=b,i++),4&R&&y(S,u,c,b)&&(S<32?m|=b:h|=b,i++),2&R&&y(S,l,d,b)&&(S<32?E|=b:g|=b,i++)}}return t&&(z[t>>2]=f,z[t+4>>2]=_),r&&(z[r>>2]=m,z[r+4>>2]=h),n&&(z[n>>2]=E,z[n+4>>2]=g),i}catch(e){if(void 0===Ze||!(e instanceof Ze.ErrnoError))throw e;return-e.errno}}function Xe(e,t,r){if(p)return kt(4,1,e,t,r);Ke.varargs=r;try{var n=Ke.getStreamFromFD(e);switch(t){case 0:return(o=Ke.get())<0?-28:Ze.open(n.path,n.flags,0,o).fd;case 1:case 2:return 0;case 3:return n.flags;case 4:var o=Ke.get();return n.flags|=o,0;case 5:return o=Ke.get(),G[o+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return He(28),-1;default:return-28}}catch(e){if(void 0===Ze||!(e instanceof Ze.ErrnoError))throw e;return-e.errno}}function Je(e,t){if(p)return kt(5,1,e,t);try{var r=Ke.getStreamFromFD(e);return Ke.doStat(Ze.stat,r.path,t)}catch(e){if(void 0===Ze||!(e instanceof Ze.ErrnoError))throw e;return-e.errno}}function Qe(e,t,r,n){if(p)return kt(6,1,e,t,r,n);try{t=Ke.getStr(t);var o=256&n,i=4096&n;return n&=-4353,t=Ke.calculateAt(e,t,i),Ke.doStat(o?Ze.lstat:Ze.stat,t,r)}catch(e){if(void 0===Ze||!(e instanceof Ze.ErrnoError))throw e;return-e.errno}}function $e(e,t,r){if(p)return kt(7,1,e,t,r);Ke.varargs=r;try{var n=Ke.getStreamFromFD(e);switch(t){case 21509:case 21505:return n.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return n.tty?0:-59;case 21519:if(!n.tty)return-59;var o=Ke.get();return z[o>>2]=0,0;case 21520:return n.tty?-28:-59;case 21531:return o=Ke.get(),Ze.ioctl(n,t,o);case 21523:case 21524:return n.tty?0:-59;default:Se("bad ioctl syscall "+t)}}catch(e){if(void 0===Ze||!(e instanceof Ze.ErrnoError))throw e;return-e.errno}}function et(e,t){if(p)return kt(8,1,e,t);try{return e=Ke.getStr(e),Ke.doStat(Ze.lstat,e,t)}catch(e){if(void 0===Ze||!(e instanceof Ze.ErrnoError))throw e;return-e.errno}}function tt(e,t,r){if(p)return kt(9,1,e,t,r);Ke.varargs=r;try{var n=Ke.getStr(e),o=r?Ke.get():0;return Ze.open(n,t,o).fd}catch(e){if(void 0===Ze||!(e instanceof Ze.ErrnoError))throw e;return-e.errno}}function rt(e){if(p)return kt(10,1,e);try{return e=Ke.getStr(e),Ze.rmdir(e),0}catch(e){if(void 0===Ze||!(e instanceof Ze.ErrnoError))throw e;return-e.errno}}function nt(e,t){if(p)return kt(11,1,e,t);try{return e=Ke.getStr(e),Ke.doStat(Ze.stat,e,t)}catch(e){if(void 0===Ze||!(e instanceof Ze.ErrnoError))throw e;return-e.errno}}function ot(e){if(p)return kt(12,1,e);try{return e=Ke.getStr(e),Ze.unlink(e),0}catch(e){if(void 0===Ze||!(e instanceof Ze.ErrnoError))throw e;return-e.errno}}var it={};function at(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function st(e){return this.fromWireType(q[e>>2])}var ut={},ct={},lt={};function dt(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=48&&t<=57?"_"+e:e}function ft(e,t){return e=dt(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function _t(e,t){var r=ft(t,(function(e){this.name=t,this.message=e;var r=new Error(e).stack;void 0!==r&&(this.stack=this.toString()+"\n"+r.replace(/^Error(:[^\n]*)?\n/,""))}));return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},r}var mt=void 0;function ht(e){throw new mt(e)}function pt(e,t,r){function n(t){var n=r(t);n.length!==e.length&&ht("Mismatched type converter count");for(var o=0;o<e.length;++o)St(e[o],n[o])}e.forEach((function(e){lt[e]=t}));var o=new Array(t.length),i=[],a=0;t.forEach((function(e,t){ct.hasOwnProperty(e)?o[t]=ct[e]:(i.push(e),ut.hasOwnProperty(e)||(ut[e]=[]),ut[e].push((function(){o[t]=ct[e],++a===i.length&&n(o)})))})),0===i.length&&n(o)}function Et(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}var gt=void 0;function vt(e){for(var t="",r=e;B[r];)t+=gt[B[r++]];return t}var wt=void 0;function yt(e){throw new wt(e)}function St(e,t,r){if(r=r||{},!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var n=t.name;if(e||yt('type "'+n+'" must have a positive integer typeid pointer'),ct.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;yt("Cannot register type '"+n+"' twice")}if(ct[e]=t,delete lt[e],ut.hasOwnProperty(e)){var o=ut[e];delete ut[e],o.forEach((function(e){e()}))}}var bt=[],At=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Rt(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function Nt(e,t){switch(t){case 2:return function(e){return this.fromWireType(Z[e>>2])};case 3:return function(e){return this.fromWireType(K[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function Tt(e,t,r){return e.includes("j")?function(e,t,r){var n=o["dynCall_"+e];return r&&r.length?n.apply(null,[t].concat(r)):n.call(null,t)}(e,t,r):xe(t).apply(null,r)}function Ot(e,t){var r,n,o,i=(e=vt(e)).includes("j")?(r=e,n=t,o=[],function(){o.length=arguments.length;for(var e=0;e<arguments.length;e++)o[e]=arguments[e];return Tt(r,n,o)}):xe(t);return"function"!=typeof i&&yt("unknown function pointer with signature "+e+": "+t),i}var It=void 0;function Dt(e){var t=fr(e),r=vt(t);return ur(t),r}function Ct(e,t,r){switch(t){case 0:return r?function(e){return W[e]}:function(e){return B[e]};case 1:return r?function(e){return G[e>>1]}:function(e){return V[e>>1]};case 2:return r?function(e){return z[e>>2]}:function(e){return q[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}var Mt=[];function Lt(e,t){var r;for(Mt.length=0,t>>=2;r=B[e++];){var n=r<105;n&&1&t&&t++,Mt.push(n?K[t++>>1]:z[t]),++t}return Mt}function kt(e,t){var r=arguments.length-2,n=arguments;return Te((function(){for(var o=r,i=br(8*o),a=i>>3,s=0;s<r;s++){var u=n[2+s];K[a+s]=u}return hr(e,o,i,t)}))}var Pt=[],xt={inEventHandler:0,removeAllEventListeners:function(){for(var e=xt.eventHandlers.length-1;e>=0;--e)xt._removeHandler(e);xt.eventHandlers=[],xt.deferredCalls=[]},registerRemoveEventListeners:function(){xt.removeEventListenersRegistered||(ue.push(xt.removeAllEventListeners),xt.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(e,t,r){function n(e,t){if(e.length!=t.length)return!1;for(var r in e)if(e[r]!=t[r])return!1;return!0}for(var o in xt.deferredCalls){var i=xt.deferredCalls[o];if(i.targetFunction==e&&n(i.argsList,r))return}xt.deferredCalls.push({targetFunction:e,precedence:t,argsList:r}),xt.deferredCalls.sort((function(e,t){return e.precedence<t.precedence}))},removeDeferredCalls:function(e){for(var t=0;t<xt.deferredCalls.length;++t)xt.deferredCalls[t].targetFunction==e&&(xt.deferredCalls.splice(t,1),--t)},canPerformEventHandlerRequests:function(){return xt.inEventHandler&&xt.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(xt.canPerformEventHandlerRequests())for(var e=0;e<xt.deferredCalls.length;++e){var t=xt.deferredCalls[e];xt.deferredCalls.splice(e,1),--e,t.targetFunction.apply(null,t.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(e,t){for(var r=0;r<xt.eventHandlers.length;++r)xt.eventHandlers[r].target!=e||t&&t!=xt.eventHandlers[r].eventTypeString||xt._removeHandler(r--)},_removeHandler:function(e){var t=xt.eventHandlers[e];t.target.removeEventListener(t.eventTypeString,t.eventListenerFunc,t.useCapture),xt.eventHandlers.splice(e,1)},registerOrRemoveHandler:function(e){var t=function(t){++xt.inEventHandler,xt.currentEventHandler=e,xt.runDeferredCalls(),e.handlerFunc(t),xt.runDeferredCalls(),--xt.inEventHandler};if(e.callbackfunc)e.eventListenerFunc=t,e.target.addEventListener(e.eventTypeString,t,e.useCapture),xt.eventHandlers.push(e),xt.registerRemoveEventListeners();else for(var r=0;r<xt.eventHandlers.length;++r)xt.eventHandlers[r].target==e.target&&xt.eventHandlers[r].eventTypeString==e.eventTypeString&&xt._removeHandler(r--)},queueEventHandlerOnThread_iiii:function(e,t,r,n,o){Te((function(){var i=br(12);z[i>>2]=r,z[i+4>>2]=n,z[i+8>>2]=o,pr(0,e,637534208,t,n,i)}))},getTargetThreadForEventCallback:function(e){switch(e){case 1:return 0;case 2:return Me.currentProxiedOperationCallerThread;default:return e}},getNodeNameForTarget:function(e){return e?e==window?"#window":e==screen?"#screen":e&&e.nodeName?e.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};var Ft=[0,"undefined"!=typeof document?document:0,"undefined"!=typeof window?window:0];function Ht(e){return function(e){var t;return e=(t=e)>2?x(t):t,Ft[e]||("undefined"!=typeof document?document.querySelector(e):void 0)}(e)}function jt(e,t,r){var n=Ht(e);if(!n)return-4;if(n.canvasSharedPtr&&(z[n.canvasSharedPtr>>2]=t,z[n.canvasSharedPtr+4>>2]=r),!n.offscreenCanvas&&n.controlTransferredOffscreen)return n.canvasSharedPtr?(function(e,t,r,n){!function(e,t,r,n){Te((function(){var o,i,a,s=br(12),u=0;t&&(i=j(o=t)+1,H(o,a=cr(i),i),u=a),z[s>>2]=u,z[s+4>>2]=r,z[s+8>>2]=n,pr(0,e,657457152,0,u,s)}))}(e,t=t?x(t):"",r,n)}(z[n.canvasSharedPtr+8>>2],e,t,r),1):-4;n.offscreenCanvas&&(n=n.offscreenCanvas);var o=!1;if(n.GLctxObject&&n.GLctxObject.GLctx){var i=n.GLctxObject.GLctx.getParameter(2978);o=0===i[0]&&0===i[1]&&i[2]===n.width&&i[3]===n.height}return n.width=t,n.height=r,o&&n.GLctxObject.GLctx.viewport(0,0,t,r),0}function Ut(e,t,r){return p?kt(13,1,e,t,r):jt(e,t,r)}var Wt={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:{},offscreenCanvases:{},queries:[],stringCache:{},unpackAlignment:4,recordError:function(e){Wt.lastError||(Wt.lastError=e)},getNewId:function(e){for(var t=Wt.counter++,r=e.length;r<t;r++)e[r]=null;return t},getSource:function(e,t,r,n){for(var o="",i=0;i<t;++i){var a=n?z[n+4*i>>2]:-1;o+=x(z[r+4*i>>2],a<0?void 0:a)}return o},createContext:function(e,t){e.getContextSafariWebGL2Fixed||(e.getContextSafariWebGL2Fixed=e.getContext,e.getContext=function(t,r){var n=e.getContextSafariWebGL2Fixed(t,r);return"webgl"==t==n instanceof WebGLRenderingContext?n:null});var r=e.getContext("webgl",t);return r?Wt.registerContext(r,t):0},registerContext:function(e,t){var r=cr(8);z[r+4>>2]=dr();var n={handle:r,attributes:t,version:t.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=n),Wt.contexts[r]=n,(void 0===t.enableExtensionsByDefault||t.enableExtensionsByDefault)&&Wt.initExtensions(n),r},makeContextCurrent:function(e){return Wt.currentContext=Wt.contexts[e],o.ctx=rr=Wt.currentContext&&Wt.currentContext.GLctx,!(e&&!rr)},getContext:function(e){return Wt.contexts[e]},deleteContext:function(e){Wt.currentContext===Wt.contexts[e]&&(Wt.currentContext=null),"object"==typeof xt&&xt.removeAllHandlersOnTarget(Wt.contexts[e].GLctx.canvas),Wt.contexts[e]&&Wt.contexts[e].GLctx.canvas&&(Wt.contexts[e].GLctx.canvas.GLctxObject=void 0),ur(Wt.contexts[e].handle),Wt.contexts[e]=null},initExtensions:function(e){if(e||(e=Wt.currentContext),!e.initExtensionsDone){e.initExtensionsDone=!0;var t,r=e.GLctx;!function(e){var t=e.getExtension("ANGLE_instanced_arrays");t&&(e.vertexAttribDivisor=function(e,r){t.vertexAttribDivisorANGLE(e,r)},e.drawArraysInstanced=function(e,r,n,o){t.drawArraysInstancedANGLE(e,r,n,o)},e.drawElementsInstanced=function(e,r,n,o,i){t.drawElementsInstancedANGLE(e,r,n,o,i)})}(r),function(e){var t=e.getExtension("OES_vertex_array_object");t&&(e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(e){t.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){t.bindVertexArrayOES(e)},e.isVertexArray=function(e){return t.isVertexArrayOES(e)})}(r),function(e){var t=e.getExtension("WEBGL_draw_buffers");t&&(e.drawBuffers=function(e,r){t.drawBuffersWEBGL(e,r)})}(r),r.disjointTimerQueryExt=r.getExtension("EXT_disjoint_timer_query"),(t=r).multiDrawWebgl=t.getExtension("WEBGL_multi_draw"),(r.getSupportedExtensions()||[]).forEach((function(e){e.includes("lose_context")||e.includes("debug")||r.getExtension(e)}))}}},Bt=["default","low-power","high-performance"],Gt={};function Vt(){if(!Vt.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"};for(var t in Gt)void 0===Gt[t]?delete e[t]:e[t]=Gt[t];var r=[];for(var t in e)r.push(t+"="+e[t]);Vt.strings=r}return Vt.strings}function zt(e,t){if(p)return kt(14,1,e,t);var r=0;return Vt().forEach((function(n,o){var i=t+r;z[e+4*o>>2]=i,function(e,t,r){for(var n=0;n<e.length;++n)W[t++>>0]=e.charCodeAt(n);W[t>>0]=0}(n,i),r+=n.length+1})),0}function qt(e,t){if(p)return kt(15,1,e,t);var r=Vt();z[e>>2]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),z[t>>2]=n,0}function Zt(e){if(p)return kt(16,1,e);try{var t=Ke.getStreamFromFD(e);return Ze.close(t),0}catch(e){if(void 0===Ze||!(e instanceof Ze.ErrnoError))throw e;return e.errno}}function Kt(e,t,r,n){if(p)return kt(17,1,e,t,r,n);try{var o=Ke.getStreamFromFD(e),i=Ke.doReadv(o,t,r);return z[n>>2]=i,0}catch(e){if(void 0===Ze||!(e instanceof Ze.ErrnoError))throw e;return e.errno}}function Yt(e,t,r,n,o){if(p)return kt(18,1,e,t,r,n,o);try{var i=Ke.getStreamFromFD(e),a=4294967296*r+(t>>>0),s=9007199254740992;return a<=-s||a>=s?-61:(Ze.llseek(i,a,n),pe=[i.position>>>0,(he=i.position,+Math.abs(he)>=1?he>0?(0|Math.min(+Math.floor(he/4294967296),4294967295))>>>0:~~+Math.ceil((he-+(~~he>>>0))/4294967296)>>>0:0)],z[o>>2]=pe[0],z[o+4>>2]=pe[1],i.getdents&&0===a&&0===n&&(i.getdents=null),0)}catch(e){if(void 0===Ze||!(e instanceof Ze.ErrnoError))throw e;return e.errno}}function Xt(e,t,r,n){if(p)return kt(19,1,e,t,r,n);try{var o=Ke.getStreamFromFD(e),i=Ke.doWritev(o,t,r);return z[n>>2]=i,0}catch(e){if(void 0===Ze||!(e instanceof Ze.ErrnoError))throw e;return e.errno}}function Jt(e){return e%4==0&&(e%100!=0||e%400==0)}function Qt(e,t){for(var r=0,n=0;n<=t;r+=e[n++]);return r}var $t=[31,29,31,30,31,30,31,31,30,31,30,31],er=[31,28,31,30,31,30,31,31,30,31,30,31];function tr(e,t){for(var r=new Date(e.getTime());t>0;){var n=Jt(r.getFullYear()),o=r.getMonth(),i=(n?$t:er)[o];if(!(t>i-r.getDate()))return r.setDate(r.getDate()+t),r;t-=i-r.getDate()+1,r.setDate(1),o<11?r.setMonth(o+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1))}return r}p||Me.initMainThreadBlock();var rr,nr=function(e,t,r,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=Ze.nextInode++,this.name=t,this.mode=r,this.node_ops={},this.stream_ops={},this.rdev=n};Object.defineProperties(nr.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return Ze.isDir(this.mode)}},isDevice:{get:function(){return Ze.isChrdev(this.mode)}}}),Ze.FSNode=nr,Ze.staticInit(),mt=o.InternalError=_t(Error,"InternalError"),function(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);gt=e}(),wt=o.BindingError=_t(Error,"BindingError"),o.count_emval_handles=function(){for(var e=0,t=5;t<At.length;++t)void 0!==At[t]&&++e;return e},o.get_first_emval=function(){for(var e=5;e<At.length;++e)if(void 0!==At[e])return At[e];return null},It=o.UnboundTypeError=_t(Error,"UnboundTypeError");var or=[null,Le,Ue,Ye,Xe,Je,Qe,$e,et,tt,rt,nt,ot,Ut,zt,qt,Zt,Kt,Yt,Xt];function ir(e,t,r){var n=r>0?r:j(e)+1,o=new Array(n),i=F(e,o,0,o.length);return t&&(o.length=i),o}var ar,sr={StringReturnValue:function(){const e=location.hostname,t=j(e)+1,r=cr(t);return H(e,r,t),r},__assert_fail:function(e,t,r,n){Se("Assertion failed: "+x(e)+", at: "+[t?x(t):"unknown filename",r,n?x(n):"unknown function"])},__clock_gettime:function(e,t){return je(e,t)},__cxa_atexit:function(e,t){return Ue(e,t)},__emscripten_init_main_thread_js:function(e){wr(e,!m,1),Me.threadInit()},__emscripten_thread_cleanup:function(e){p?postMessage({cmd:"cleanupThread",thread:e}):Ie(e)},__pthread_create_js:function(e,t,r,n){if("undefined"==typeof SharedArrayBuffer)return w("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var o=[];if(p&&0===o.length)return _r(687865856,e,t,r,n);var i={startRoutine:r,pthread_ptr:e,arg:n,transferList:o};return p?(i.cmd="spawnThread",postMessage(i,o),0):We(i)},__pthread_detached_exit:function(){postMessage({cmd:"detachedExit"})},__syscall__newselect:Ye,__syscall_fcntl64:Xe,__syscall_fstat64:Je,__syscall_fstatat64:Qe,__syscall_getuid32:function(){return 0},__syscall_ioctl:$e,__syscall_lstat64:et,__syscall_open:tt,__syscall_rmdir:rt,__syscall_stat64:nt,__syscall_unlink:ot,_dlopen_js:function(e,t){Se("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},_dlsym_js:function(e,t){Se("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},_embind_finalize_value_object:function(e){var t=it[e];delete it[e];var r=t.rawConstructor,n=t.rawDestructor,o=t.fields;pt([e],o.map((function(e){return e.getterReturnType})).concat(o.map((function(e){return e.setterArgumentType}))),(function(e){var i={};return o.forEach((function(t,r){var n=t.fieldName,a=e[r],s=t.getter,u=t.getterContext,c=e[r+o.length],l=t.setter,d=t.setterContext;i[n]={read:function(e){return a.fromWireType(s(u,e))},write:function(e,t){var r=[];l(d,e,c.toWireType(r,t)),at(r)}}})),[{name:t.name,fromWireType:function(e){var t={};for(var r in i)t[r]=i[r].read(e);return n(e),t},toWireType:function(e,t){for(var o in i)if(!(o in t))throw new TypeError('Missing field:  "'+o+'"');var a=r();for(o in i)i[o].write(a,t[o]);return null!==e&&e.push(n,a),a},argPackAdvance:8,readValueFromPointer:st,destructorFunction:n}]}))},_embind_register_bigint:function(e,t,r,n,o){},_embind_register_bool:function(e,t,r,n,o){var i=Et(r);St(e,{name:t=vt(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?n:o},argPackAdvance:8,readValueFromPointer:function(e){var n;if(1===r)n=W;else if(2===r)n=G;else{if(4!==r)throw new TypeError("Unknown boolean type size: "+t);n=z}return this.fromWireType(n[e>>i])},destructorFunction:null})},_embind_register_emval:function(e,t){St(e,{name:t=vt(t),fromWireType:function(e){var t=function(e){return e||yt("Cannot use deleted val. handle = "+e),At[e].value}(e);return function(e){e>4&&0==--At[e].refcount&&(At[e]=void 0,bt.push(e))}(e),t},toWireType:function(e,t){return function(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=bt.length?bt.pop():At.length;return At[t]={refcount:1,value:e},t}}(t)},argPackAdvance:8,readValueFromPointer:st,destructorFunction:null})},_embind_register_float:function(e,t,r){var n=Et(r);St(e,{name:t=vt(t),fromWireType:function(e){return e},toWireType:function(e,t){return t},argPackAdvance:8,readValueFromPointer:Nt(t,n),destructorFunction:null})},_embind_register_function:function(e,t,r,n,i,a){var s=function(e,t){for(var r=[],n=0;n<e;n++)r.push(z[(t>>2)+n]);return r}(t,r);e=vt(e),i=Ot(n,i),function(e,t,r){o.hasOwnProperty(e)?((void 0===r||void 0!==o[e].overloadTable&&void 0!==o[e].overloadTable[r])&&yt("Cannot register public name '"+e+"' twice"),function(e,t,r){if(void 0===e[t].overloadTable){var n=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||yt("Function '"+r+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}}(o,e,e),o.hasOwnProperty(r)&&yt("Cannot register multiple overloads of a function with the same number of arguments ("+r+")!"),o[e].overloadTable[r]=t):(o[e]=t,void 0!==r&&(o[e].numArguments=r))}(e,(function(){!function(e,t){var r=[],n={};throw t.forEach((function e(t){n[t]||ct[t]||(lt[t]?lt[t].forEach(e):(r.push(t),n[t]=!0))})),new It(e+": "+r.map(Dt).join([", "]))}("Cannot call "+e+" due to unbound types",s)}),t-1),pt([],s,(function(r){var n=[r[0],null].concat(r.slice(1));return function(e,t,r){o.hasOwnProperty(e)||ht("Replacing nonexistant public symbol"),void 0!==o[e].overloadTable&&void 0!==r?o[e].overloadTable[r]=t:(o[e]=t,o[e].argCount=r)}(e,function(e,t,r,n,o){var i=t.length;i<2&&yt("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==t[1]&&null!==r,s=!1,u=1;u<t.length;++u)if(null!==t[u]&&void 0===t[u].destructorFunction){s=!0;break}var c="void"!==t[0].name,l="",d="";for(u=0;u<i-2;++u)l+=(0!==u?", ":"")+"arg"+u,d+=(0!==u?", ":"")+"arg"+u+"Wired";var f="return function "+dt(e)+"("+l+") {\nif (arguments.length !== "+(i-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(i-2)+" args!');\n}\n";s&&(f+="var destructors = [];\n");var _=s?"destructors":"null",m=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],h=[yt,n,o,at,t[0],t[1]];for(a&&(f+="var thisWired = classParam.toWireType("+_+", this);\n"),u=0;u<i-2;++u)f+="var arg"+u+"Wired = argType"+u+".toWireType("+_+", arg"+u+"); // "+t[u+2].name+"\n",m.push("argType"+u),h.push(t[u+2]);if(a&&(d="thisWired"+(d.length>0?", ":"")+d),f+=(c?"var rv = ":"")+"invoker(fn"+(d.length>0?", ":"")+d+");\n",s)f+="runDestructors(destructors);\n";else for(u=a?1:2;u<t.length;++u){var p=1===u?"thisWired":"arg"+(u-2)+"Wired";null!==t[u].destructorFunction&&(f+=p+"_dtor("+p+"); // "+t[u].name+"\n",m.push(p+"_dtor"),h.push(t[u].destructorFunction))}return c&&(f+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),f+="}\n",m.push(f),function(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var r=ft(e.name||"unknownFunctionName",(function(){}));r.prototype=e.prototype;var n=new r,o=e.apply(n,t);return o instanceof Object?o:n}(Function,m).apply(null,h)}(e,n,null,i,a),t-1),[]}))},_embind_register_integer:function(e,t,r,n,o){t=vt(t),-1===o&&(o=4294967295);var i=Et(r),a=function(e){return e};if(0===n){var s=32-8*r;a=function(e){return e<<s>>>s}}var u=t.includes("unsigned");St(e,{name:t,fromWireType:a,toWireType:function(e,r){if("number"!=typeof r&&"boolean"!=typeof r)throw new TypeError('Cannot convert "'+Rt(r)+'" to '+this.name);if(r<n||r>o)throw new TypeError('Passing a number "'+Rt(r)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+n+", "+o+"]!");return u?r>>>0:0|r},argPackAdvance:8,readValueFromPointer:Ct(t,i,0!==n),destructorFunction:null})},_embind_register_memory_view:function(e,t,r){var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function o(e){var t=q,r=t[e>>=2],o=t[e+1];return new n(U,o,r)}St(e,{name:r=vt(r),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},_embind_register_std_string:function(e,t){var r="std::string"===(t=vt(t));St(e,{name:t,fromWireType:function(e){var t,n=q[e>>2];if(r)for(var o=e+4,i=0;i<=n;++i){var a=e+4+i;if(i==n||0==B[a]){var s=x(o,a-o);void 0===t?t=s:(t+=String.fromCharCode(0),t+=s),o=a+1}}else{var u=new Array(n);for(i=0;i<n;++i)u[i]=String.fromCharCode(B[e+4+i]);t=u.join("")}return ur(e),t},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var n="string"==typeof t;n||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||yt("Cannot pass non-string to std::string");var o=(r&&n?function(){return j(t)}:function(){return t.length})(),i=cr(4+o+1);if(q[i>>2]=o,r&&n)H(t,i+4,o+1);else if(n)for(var a=0;a<o;++a){var s=t.charCodeAt(a);s>255&&(ur(i),yt("String has UTF-16 code units that do not fit in 8 bits")),B[i+4+a]=s}else for(a=0;a<o;++a)B[i+4+a]=t[a];return null!==e&&e.push(ur,i),i},argPackAdvance:8,readValueFromPointer:st,destructorFunction:function(e){ur(e)}})},_embind_register_std_wstring:function(e,t,r){var n,o,i,a,s;r=vt(r),2===t?(n=X,o=J,a=Q,i=function(){return V},s=1):4===t&&(n=$,o=ee,a=te,i=function(){return q},s=2),St(e,{name:r,fromWireType:function(e){for(var r,o=q[e>>2],a=i(),u=e+4,c=0;c<=o;++c){var l=e+4+c*t;if(c==o||0==a[l>>s]){var d=n(u,l-u);void 0===r?r=d:(r+=String.fromCharCode(0),r+=d),u=l+t}}return ur(e),r},toWireType:function(e,n){"string"!=typeof n&&yt("Cannot pass non-string to C++ string type "+r);var i=a(n),u=cr(4+i+t);return q[u>>2]=i>>s,o(n,u+4,i+t),null!==e&&e.push(ur,u),u},argPackAdvance:8,readValueFromPointer:st,destructorFunction:function(e){ur(e)}})},_embind_register_value_object:function(e,t,r,n,o,i){it[e]={name:vt(t),rawConstructor:Ot(r,n),rawDestructor:Ot(o,i),fields:[]}},_embind_register_value_object_field:function(e,t,r,n,o,i,a,s,u,c){it[e].fields.push({fieldName:vt(t),getterReturnType:r,getter:Ot(n,o),getterContext:i,setterArgumentType:a,setter:Ot(s,u),setterContext:c})},_embind_register_void:function(e,t){St(e,{isVoid:!0,name:t=vt(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})},_emscripten_default_pthread_stack_size:function(){return 2097152},_emscripten_notify_thread_queue:function(e,t){if(e==t)postMessage({cmd:"processQueuedMainThreadWork"});else if(p)postMessage({targetThread:e,cmd:"processThreadQueue"});else{var r=Me.pthreads[e],n=r&&r.worker;if(!n)return;n.postMessage({cmd:"processThreadQueue"})}return 1},abort:function(){Se("")},atexit:Ue,clock_gettime:je,emscripten_asm_const_async_on_main_thread:function(e,t,r){return function(e,t,r,n){var o=Lt(t,r);return p?kt.apply(null,[-1-e,0].concat(o)):Re[e].apply(null,o)}(e,t,r)},emscripten_asm_const_int:function(e,t,r){var n=Lt(t,r);return Re[e].apply(null,n)},emscripten_check_blocking_allowed:function(){m||y("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")},emscripten_conditional_set_current_thread_status:function(e,t){},emscripten_futex_wait:function(e,t,r){if(e<=0||e>W.length||!0&e)return-28;if(_){if(Atomics.load(z,e>>2)!=t)return-6;var n=performance.now(),o=n+r;for(Atomics.exchange(z,Nr>>2,e);;){if((n=performance.now())>o)return Atomics.exchange(z,Nr>>2,0),-73;if(0==Atomics.exchange(z,Nr>>2,0))break;if(mr(),Atomics.load(z,e>>2)!=t)return-6;Atomics.exchange(z,Nr>>2,e)}return 0}var i=Atomics.wait(z,e>>2,t,r);if("timed-out"===i)return-73;if("not-equal"===i)return-6;if("ok"===i)return 0;throw"Atomics.wait returned an unexpected value "+i},emscripten_futex_wake:Oe,emscripten_get_heap_max:function(){return B.length},emscripten_get_now:ke,emscripten_memcpy_big:function(e,t,r){B.copyWithin(e,t,t+r)},emscripten_num_logical_cores:function(){return navigator.hardwareConcurrency},emscripten_receive_on_main_thread_js:function(e,t,r){Pt.length=t;for(var n=r>>3,o=0;o<t;o++)Pt[o]=K[n+o];return(e<0?Re[-e-1]:or[e]).apply(null,Pt)},emscripten_resize_heap:function(e){B.length,Se("OOM")},emscripten_set_canvas_element_size:function(e,t,r){return Ht(e)?jt(e,t,r):Ut(e,t,r)},emscripten_set_current_thread_status:function(e){},emscripten_set_timeout:function(e,t,r){return de+=1,setTimeout((function(){de-=1,function(e,t){if(!le&&!I)if(t)e();else try{e(),p&&function(){if(!fe())try{p?gr(O):De(O)}catch(e){Ce(e)}}()}catch(e){Ce(e)}}((function(){xe(e)(r)}))}),t)},emscripten_unwind_to_js_event_loop:function(){throw"unwind"},emscripten_webgl_create_context:function(e,t){return r=e,o=z[6+(n=t>>2)],i={alpha:!!z[n+0],depth:!!z[n+1],stencil:!!z[n+2],antialias:!!z[n+3],premultipliedAlpha:!!z[n+4],preserveDrawingBuffer:!!z[n+5],powerPreference:Bt[o],failIfMajorPerformanceCaveat:!!z[n+7],majorVersion:z[n+8],minorVersion:z[n+9],enableExtensionsByDefault:z[n+10],explicitSwapControl:z[n+11],proxyContextToMainThread:z[n+12],renderViaOffscreenBackBuffer:z[n+13]},(a=Ht(r))?i.explicitSwapControl?0:Wt.createContext(a,i):0;var r,n,o,i,a},environ_get:zt,environ_sizes_get:qt,exit:De,fd_close:Zt,fd_read:Kt,fd_seek:Yt,fd_write:Xt,gettimeofday:function(e){var t=Date.now();return z[e>>2]=t/1e3|0,z[e+4>>2]=t%1e3*1e3|0,0},memory:R||o.wasmMemory,setTempRet0:function(e){},strftime_l:function(e,t,r,n){return function(e,t,r,n){var o=z[n+40>>2],i={tm_sec:z[n>>2],tm_min:z[n+4>>2],tm_hour:z[n+8>>2],tm_mday:z[n+12>>2],tm_mon:z[n+16>>2],tm_year:z[n+20>>2],tm_wday:z[n+24>>2],tm_yday:z[n+28>>2],tm_isdst:z[n+32>>2],tm_gmtoff:z[n+36>>2],tm_zone:o?x(o):""},a=x(r),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var u in s)a=a.replace(new RegExp(u,"g"),s[u]);var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"];function d(e,t,r){for(var n="number"==typeof e?e.toString():e||"";n.length<t;)n=r[0]+n;return n}function f(e,t){return d(e,t,"0")}function _(e,t){function r(e){return e<0?-1:e>0?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function m(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function h(e){var t=tr(new Date(e.tm_year+1900,0,1),e.tm_yday),r=new Date(t.getFullYear(),0,4),n=new Date(t.getFullYear()+1,0,4),o=m(r),i=m(n);return _(o,t)<=0?_(i,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var p={"%a":function(e){return c[e.tm_wday].substring(0,3)},"%A":function(e){return c[e.tm_wday]},"%b":function(e){return l[e.tm_mon].substring(0,3)},"%B":function(e){return l[e.tm_mon]},"%C":function(e){return f((e.tm_year+1900)/100|0,2)},"%d":function(e){return f(e.tm_mday,2)},"%e":function(e){return d(e.tm_mday,2," ")},"%g":function(e){return h(e).toString().substring(2)},"%G":function(e){return h(e)},"%H":function(e){return f(e.tm_hour,2)},"%I":function(e){var t=e.tm_hour;return 0==t?t=12:t>12&&(t-=12),f(t,2)},"%j":function(e){return f(e.tm_mday+Qt(Jt(e.tm_year+1900)?$t:er,e.tm_mon-1),3)},"%m":function(e){return f(e.tm_mon+1,2)},"%M":function(e){return f(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return e.tm_hour>=0&&e.tm_hour<12?"AM":"PM"},"%S":function(e){return f(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return e.tm_wday||7},"%U":function(e){var t=new Date(e.tm_year+1900,0,1),r=0===t.getDay()?t:tr(t,7-t.getDay()),n=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(_(r,n)<0){var o=Qt(Jt(n.getFullYear())?$t:er,n.getMonth()-1)-31,i=31-r.getDate()+o+n.getDate();return f(Math.ceil(i/7),2)}return 0===_(r,t)?"01":"00"},"%V":function(e){var t,r=new Date(e.tm_year+1900,0,4),n=new Date(e.tm_year+1901,0,4),o=m(r),i=m(n),a=tr(new Date(e.tm_year+1900,0,1),e.tm_yday);return _(a,o)<0?"53":_(i,a)<=0?"01":(t=o.getFullYear()<e.tm_year+1900?e.tm_yday+32-o.getDate():e.tm_yday+1-o.getDate(),f(Math.ceil(t/7),2))},"%w":function(e){return e.tm_wday},"%W":function(e){var t=new Date(e.tm_year,0,1),r=1===t.getDay()?t:tr(t,0===t.getDay()?1:7-t.getDay()+1),n=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(_(r,n)<0){var o=Qt(Jt(n.getFullYear())?$t:er,n.getMonth()-1)-31,i=31-r.getDate()+o+n.getDate();return f(Math.ceil(i/7),2)}return 0===_(r,t)?"01":"00"},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var t=e.tm_gmtoff,r=t>=0;return t=(t=Math.abs(t)/60)/60*100+t%60,(r?"+":"-")+String("0000"+t).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var u in p)a.includes(u)&&(a=a.replace(new RegExp(u,"g"),p[u](i)));var E=ir(a,!1);return E.length>t?0:(re(E,e),E.length-1)}(e,t,r,n)},time:function(e){var t=Date.now()/1e3|0;return e&&(z[e>>2]=t),t}},ur=(function(){var e={env:sr,wasi_snapshot_preview1:sr};function t(e,t){var r,n,i=e.exports;if(o.asm=i,r=o.asm.emscripten_tls_init,Me.tlsInitFunctions.push(r),oe=o.asm.__indirect_function_table,n=o.asm.__wasm_call_ctors,se.unshift(n),N=t,!p){var a=Me.unusedWorkers.length;Me.unusedWorkers.forEach((function(e){Me.loadWasmModuleToWorker(e,(function(){--a||ye()}))}))}}function n(e){t(e.instance,e.module)}function i(t){return(b||!_&&!m||"function"!=typeof fetch?Promise.resolve().then((function(){return Ae(me)})):fetch(me,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+me+"'";return e.arrayBuffer()})).catch((function(){return Ae(me)}))).then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){w("failed to asynchronously prepare wasm: "+e),Se(e)}))}if(p||we(),o.instantiateWasm)try{return o.instantiateWasm(e,t)}catch(e){return w("Module.instantiateWasm callback failed with error: "+e),!1}(b||"function"!=typeof WebAssembly.instantiateStreaming||be(me)||"function"!=typeof fetch?i(n):fetch(me,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return w("wasm streaming compile failed: "+e),w("falling back to ArrayBuffer instantiation"),i(n)}))}))).catch(r)}(),o.___wasm_call_ctors=function(){return(o.___wasm_call_ctors=o.asm.__wasm_call_ctors).apply(null,arguments)},o._free=function(){return(ur=o._free=o.asm.free).apply(null,arguments)}),cr=(o._init_engine=function(){return(o._init_engine=o.asm.init_engine).apply(null,arguments)},o._start_hrv=function(){return(o._start_hrv=o.asm.start_hrv).apply(null,arguments)},o._version=function(){return(o._version=o.asm.version).apply(null,arguments)},o._process_rppg=function(){return(o._process_rppg=o.asm.process_rppg).apply(null,arguments)},o._set_rect_callback=function(){return(o._set_rect_callback=o.asm.set_rect_callback).apply(null,arguments)},o._set_message_callback=function(){return(o._set_message_callback=o.asm.set_message_callback).apply(null,arguments)},o._set_report_callback=function(){return(o._set_report_callback=o.asm.set_report_callback).apply(null,arguments)},o._finish_rppg=function(){return(o._finish_rppg=o.asm.finish_rppg).apply(null,arguments)},o._malloc=function(){return(cr=o._malloc=o.asm.malloc).apply(null,arguments)}),lr=o.___errno_location=function(){return(lr=o.___errno_location=o.asm.__errno_location).apply(null,arguments)},dr=(o._ntohs=function(){return(o._ntohs=o.asm.ntohs).apply(null,arguments)},o._saveSetjmp=function(){return(o._saveSetjmp=o.asm.saveSetjmp).apply(null,arguments)},o._pthread_self=function(){return(dr=o._pthread_self=o.asm.pthread_self).apply(null,arguments)}),fr=(o._emscripten_tls_init=function(){return(o._emscripten_tls_init=o.asm.emscripten_tls_init).apply(null,arguments)},o.___getTypeName=function(){return(fr=o.___getTypeName=o.asm.__getTypeName).apply(null,arguments)}),_r=(o.___embind_register_native_and_builtin_types=function(){return(o.___embind_register_native_and_builtin_types=o.asm.__embind_register_native_and_builtin_types).apply(null,arguments)},o._emscripten_current_thread_process_queued_calls=function(){return(o._emscripten_current_thread_process_queued_calls=o.asm.emscripten_current_thread_process_queued_calls).apply(null,arguments)},o._emscripten_main_browser_thread_id=function(){return(o._emscripten_main_browser_thread_id=o.asm.emscripten_main_browser_thread_id).apply(null,arguments)},o._emscripten_sync_run_in_main_thread_2=function(){return(o._emscripten_sync_run_in_main_thread_2=o.asm.emscripten_sync_run_in_main_thread_2).apply(null,arguments)},o._emscripten_sync_run_in_main_thread_4=function(){return(_r=o._emscripten_sync_run_in_main_thread_4=o.asm.emscripten_sync_run_in_main_thread_4).apply(null,arguments)}),mr=o._emscripten_main_thread_process_queued_calls=function(){return(mr=o._emscripten_main_thread_process_queued_calls=o.asm.emscripten_main_thread_process_queued_calls).apply(null,arguments)},hr=o._emscripten_run_in_main_runtime_thread_js=function(){return(hr=o._emscripten_run_in_main_runtime_thread_js=o.asm.emscripten_run_in_main_runtime_thread_js).apply(null,arguments)},pr=o.__emscripten_call_on_thread=function(){return(pr=o.__emscripten_call_on_thread=o.asm._emscripten_call_on_thread).apply(null,arguments)},Er=(o.___emscripten_init_main_thread=function(){return(o.___emscripten_init_main_thread=o.asm.__emscripten_init_main_thread).apply(null,arguments)},o.__emscripten_thread_free_data=function(){return(Er=o.__emscripten_thread_free_data=o.asm._emscripten_thread_free_data).apply(null,arguments)}),gr=o.__emscripten_thread_exit=function(){return(gr=o.__emscripten_thread_exit=o.asm._emscripten_thread_exit).apply(null,arguments)},vr=o._memalign=function(){return(vr=o._memalign=o.asm.memalign).apply(null,arguments)},wr=o.__emscripten_thread_init=function(){return(wr=o.__emscripten_thread_init=o.asm._emscripten_thread_init).apply(null,arguments)},yr=(o._pthread_testcancel=function(){return(o._pthread_testcancel=o.asm.pthread_testcancel).apply(null,arguments)},o._emscripten_get_global_libc=function(){return(o._emscripten_get_global_libc=o.asm.emscripten_get_global_libc).apply(null,arguments)},o._htons=function(){return(o._htons=o.asm.htons).apply(null,arguments)},o._htonl=function(){return(o._htonl=o.asm.htonl).apply(null,arguments)},o.___dl_seterr=function(){return(o.___dl_seterr=o.asm.__dl_seterr).apply(null,arguments)},o.__get_tzname=function(){return(o.__get_tzname=o.asm._get_tzname).apply(null,arguments)},o.__get_daylight=function(){return(o.__get_daylight=o.asm._get_daylight).apply(null,arguments)},o.__get_timezone=function(){return(o.__get_timezone=o.asm._get_timezone).apply(null,arguments)},o.stackSave=function(){return(yr=o.stackSave=o.asm.stackSave).apply(null,arguments)}),Sr=o.stackRestore=function(){return(Sr=o.stackRestore=o.asm.stackRestore).apply(null,arguments)},br=o.stackAlloc=function(){return(br=o.stackAlloc=o.asm.stackAlloc).apply(null,arguments)},Ar=o._emscripten_stack_set_limits=function(){return(Ar=o._emscripten_stack_set_limits=o.asm.emscripten_stack_set_limits).apply(null,arguments)},Rr=(o._setThrew=function(){return(o._setThrew=o.asm.setThrew).apply(null,arguments)},o.dynCall_jii=function(){return(o.dynCall_jii=o.asm.dynCall_jii).apply(null,arguments)},o.dynCall_viij=function(){return(o.dynCall_viij=o.asm.dynCall_viij).apply(null,arguments)},o.dynCall_viijii=function(){return(o.dynCall_viijii=o.asm.dynCall_viijii).apply(null,arguments)},o.dynCall_viji=function(){return(o.dynCall_viji=o.asm.dynCall_viji).apply(null,arguments)},o.dynCall_ji=function(){return(o.dynCall_ji=o.asm.dynCall_ji).apply(null,arguments)},o.dynCall_jiii=function(){return(o.dynCall_jiii=o.asm.dynCall_jiii).apply(null,arguments)},o.dynCall_jiji=function(){return(o.dynCall_jiji=o.asm.dynCall_jiji).apply(null,arguments)},o.dynCall_iiiiij=function(){return(o.dynCall_iiiiij=o.asm.dynCall_iiiiij).apply(null,arguments)},o.dynCall_iiiiijj=function(){return(o.dynCall_iiiiijj=o.asm.dynCall_iiiiijj).apply(null,arguments)},o.dynCall_iiiiiijj=function(){return(o.dynCall_iiiiiijj=o.asm.dynCall_iiiiiijj).apply(null,arguments)},o.__emscripten_allow_main_runtime_queued_calls=790492),Nr=o.__emscripten_main_thread_futex=1485996;function Tr(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Or(e){if(e=e||l,!(Ee>0)){if(p)return t(o),_e(),void postMessage({cmd:"loaded"});!function(){if(!p){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)e=o.preRun.shift(),ae.unshift(e);var e;Ne(ae)}}(),Ee>0||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),r()}),1)):r())}function r(){ar||(ar=!0,o.calledRun=!0,I||(_e(),t(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),function(){if(!p){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)e=o.postRun.shift(),ce.unshift(e);var e;Ne(ce)}}()))}}if(o.ccall=M,o.cwrap=function(e,t,r,n){var o=(r=r||[]).every((function(e){return"number"===e}));return"string"!==t&&o&&!n?C(e):function(){return M(e,t,r,arguments)}},o.stringToUTF8=H,o.lengthBytesUTF8=j,o.addFunction=function(e,t){if(S||(S=new WeakMap,function(e,t){for(var r=0;r<0+t;r++){var n=xe(r);n&&S.set(n,r)}}(0,oe.length)),S.has(e))return S.get(e);var r=function(){if(A.length)return A.pop();try{oe.grow(1)}catch(e){if(!(e instanceof RangeError))throw e;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return oe.length-1}();try{Fe(r,e)}catch(n){if(!(n instanceof TypeError))throw n;Fe(r,function(e,t){if("function"==typeof WebAssembly.Function){for(var r={i:"i32",j:"i64",f:"f32",d:"f64"},n={parameters:[],results:"v"==t[0]?[]:[r[t[0]]]},o=1;o<t.length;++o)n.parameters.push(r[t[o]]);return new WebAssembly.Function(n,e)}var i=[1,0,1,96],a=t.slice(0,1),s=t.slice(1),u={i:127,j:126,f:125,d:124};for(i.push(s.length),o=0;o<s.length;++o)i.push(u[s[o]]);"v"==a?i.push(0):i=i.concat([1,u[a]]),i[1]=i.length-2;var c=new Uint8Array([0,97,115,109,1,0,0,0].concat(i,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),l=new WebAssembly.Module(c);return new WebAssembly.Instance(l,{e:{f:e}}).exports.f}(e,t))}return S.set(e,r),r},o.keepRuntimeAlive=fe,o.FS=Ze,o.PThread=Me,o.LZ4=qe,o.PThread=Me,o.wasmMemory=R,o.ExitStatus=Tr,ve=function e(){ar||Or(),ar||(ve=e)},o.run=Or,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return p&&(T=!1,Me.initWorker()),Or(),e.ready})},9068:(e,t,r)=>{"use strict";var n={},o=!1,i=function(){var e=Array.prototype.slice.call(arguments).join(" ");console.error(e)};self.alert=function(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:n._pthread_self()})},n.instantiateWasm=function(e,t){var r=new WebAssembly.Instance(n.wasmModule,e);return t(r),n.wasmModule=null,r.exports},self.onmessage=function(e){try{if("load"===e.data.cmd)n.wasmModule=e.data.wasmModule,n.wasmMemory=e.data.wasmMemory,n.buffer=n.wasmMemory.buffer,n.ENVIRONMENT_IS_PTHREAD=!0,(e.data.urlOrBlob,Promise.resolve().then(r.bind(r,1281))).then((function(e){return e.default(n)})).then((function(e){n=e}));else if("run"===e.data.cmd){n.__performance_now_clock_drift=performance.now()-e.data.time,n.__emscripten_thread_init(e.data.threadInfoStruct,0,0),n.establishStackSpace(),n.PThread.receiveObjectTransfer(e.data),n.PThread.threadInit(),o||(n.___embind_register_native_and_builtin_types(),o=!0);try{var t=n.invokeEntryPoint(e.data.start_routine,e.data.arg);n.keepRuntimeAlive()?n.PThread.setExitStatus(t):n.__emscripten_thread_exit(t)}catch(e){if("unwind"!=e){if(!(e instanceof n.ExitStatus))throw e;n.keepRuntimeAlive()||n.__emscripten_thread_exit(e.status)}}}else"cancel"===e.data.cmd?(n._pthread_self()&&n.__emscripten_thread_exit(-1),postMessage({cmd:"cancelDone"})):"setimmediate"===e.data.target||"processThreadQueue"===e.data.cmd&&n._pthread_self()&&n._emscripten_current_thread_process_queued_calls()}catch(e){throw i("worker.js onmessage() captured an uncaught exception: "+e),e&&e.stack&&i(e.stack),e}}},6107:(e,t,r)=>{"use strict";var n={},o=!1,i=function(){var e=Array.prototype.slice.call(arguments).join(" ");console.error(e)};self.alert=function(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:n._pthread_self()})},n.instantiateWasm=function(e,t){var r=new WebAssembly.Instance(n.wasmModule,e);return t(r),n.wasmModule=null,r.exports},self.onmessage=function(e){try{if("load"===e.data.cmd)n.wasmModule=e.data.wasmModule,n.wasmMemory=e.data.wasmMemory,n.buffer=n.wasmMemory.buffer,n.ENVIRONMENT_IS_PTHREAD=!0,(e.data.urlOrBlob,Promise.resolve().then(r.bind(r,8384))).then((function(e){return e.default(n)})).then((function(e){n=e}));else if("run"===e.data.cmd){n.__performance_now_clock_drift=performance.now()-e.data.time,n.__emscripten_thread_init(e.data.threadInfoStruct,0,0),n.establishStackSpace(),n.PThread.receiveObjectTransfer(e.data),n.PThread.threadInit(),o||(n.___embind_register_native_and_builtin_types(),o=!0);try{var t=n.invokeEntryPoint(e.data.start_routine,e.data.arg);n.keepRuntimeAlive()?n.PThread.setExitStatus(t):n.__emscripten_thread_exit(t)}catch(e){if("unwind"!=e){if(!(e instanceof n.ExitStatus))throw e;n.keepRuntimeAlive()||n.__emscripten_thread_exit(e.status)}}}else"cancel"===e.data.cmd?(n._pthread_self()&&n.__emscripten_thread_exit(-1),postMessage({cmd:"cancelDone"})):"setimmediate"===e.data.target||"processThreadQueue"===e.data.cmd&&n._pthread_self()&&n._emscripten_current_thread_process_queued_calls()}catch(e){throw i("worker.js onmessage() captured an uncaught exception: "+e),e&&e.stack&&i(e.stack),e}}},8435:(e,t,r)=>{var n={"./D1.caffemodel":2695,"./D1.prototxt":430,"./D2.caffemodel":6926,"./D2.prototxt":6880,"./D3.caffemodel":9943,"./D3.prototxt":7649,"./D4.caffemodel":5872,"./D4.prototxt":927,"./bp_30_fps.model.android.bin":6745,"./bp_30_fps.model.input.android.bin":3245,"./bp_30_fps_2.model.android.bin":7710,"./bp_60_fps_10bit.model.input.ios.bin":8134,"./bp_60_fps_10bit.model.ios.bin":4472,"./bp_60_fps_2_10bit.model.ios.bin":3512,"./bp_60_fps_2_8bit.model.ios.bin":5124,"./bp_60_fps_8bit.model.input.ios.bin":4945,"./bp_60_fps_8bit.model.ios.bin":5401,"./chl_30_fps.model.android.bin":4803,"./chl_60_fps.model.ios.bin":5725,"./decimation.filters.reference.bin":857,"./hb_30_fps.model.android.bin":438,"./hb_60_fps.model.ios.bin":6844,"./hba1c_30_fps.model.android.bin":8024,"./hba1c_60_fps.model.ios.bin":7066,"./pns.reference.bin":1157,"./sns.reference.bin":4096,"./spo2.model.web.bin":6405};function o(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=i,e.exports=o,o.id=8435},306:e=>{"use strict";e.exports=JSON.parse('{"name":"@binah/web-sdk","version":"4.12.1-8","license":"UNLICENSED","main":"dist/main.js","files":["dist/**/*"],"scripts":{"prebuild":"rimraf dist && rimraf binah-web-sdk-v4.12.1-8.tgz","build":"cross-env NODE_ENV=production NODE_OPTIONS=--max-old-space-size=16384 webpack --progress && npm pack","build-yarn":"cross-env NODE_ENV=production NODE_OPTIONS=--max-old-space-size=16384 webpack --progress && yarn pack"},"devDependencies":{"filemanager-webpack-plugin":"^6.1.7","@binah/wasm":"4.12.1-8"},"dependencies":{"@types/dom-mediacapture-transform":"^0.1.4","@types/dom-webcodecs":"^0.1.5","ua-parser-js":"^1.0.2"}}')},2053:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"a.simd.wasm"},6536:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"a.wasm"},2695:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/D1.caffemodel"},430:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/D1.prototxt"},6926:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/D2.caffemodel"},6880:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/D2.prototxt"},9943:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/D3.caffemodel"},7649:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/D3.prototxt"},5872:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/D4.caffemodel"},927:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/D4.prototxt"},6745:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/bp_30_fps.model.android.bin"},3245:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/bp_30_fps.model.input.android.bin"},7710:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/bp_30_fps_2.model.android.bin"},8134:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/bp_60_fps_10bit.model.input.ios.bin"},4472:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/bp_60_fps_10bit.model.ios.bin"},3512:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/bp_60_fps_2_10bit.model.ios.bin"},5124:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/bp_60_fps_2_8bit.model.ios.bin"},4945:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/bp_60_fps_8bit.model.input.ios.bin"},5401:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/bp_60_fps_8bit.model.ios.bin"},4803:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/chl_30_fps.model.android.bin"},5725:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/chl_60_fps.model.ios.bin"},857:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/decimation.filters.reference.bin"},438:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/hb_30_fps.model.android.bin"},6844:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/hb_60_fps.model.ios.bin"},8024:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/hba1c_30_fps.model.android.bin"},7066:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/hba1c_60_fps.model.ios.bin"},1157:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/pns.reference.bin"},4096:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/sns.reference.bin"},6405:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=r.p+"models/spo2.model.web.bin"},7894:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlgoAdapter=void 0;const n=r(9077),o=r(1920),i=r(3377),a=r(306),s=r(1951),u=r(2119),c=r(6366);class l{static initWasm(){return new Promise((async e=>{await i.EmscriptenModule.init(),e({type:n.AlgoResultTypes.WASM_READY})}))}static async initEngine(e){var t,r,s,c;const{fps:l,doLogging:d,doPerformance:f,doRecording:_,doMeasuring:m,osType:h,subjectDemographic:p,frameDimensions:E,cameraId:g}=e;try{const e=i.EmscriptenModule.get().ccall("init_engine","number",["number","boolean","boolean","boolean","boolean","string","string","number","number","number","number","number","string","string"],[l,d,f,_,!1!==m,h,a.version.split("-")[0]+"."+(null===(t=window.binahMetaData)||void 0===t?void 0:t.commitHash),null!==(r=null==p?void 0:p.gender)&&void 0!==r?r:o.Gender.UNSPECIFIED,null!==(s=null==p?void 0:p.age)&&void 0!==s?s:0,null!==(c=null==p?void 0:p.weight)&&void 0!==c?c:0,E.width,E.height,g,u.SESSION_FOLDER]);return i.EmscriptenModule.setEnginePointer(e),window.binahConfig=window.binahConfig||{},window.binahMetaData=window.binahMetaData||{},window.binahRuntimeData=window.binahRuntimeData||{},this.setOnFaceDetectedCallback(),this.setOnMessageCallback(),this.setOnReportCallback(),{type:n.AlgoResultTypes.INIT_ENGINE_RESULT}}catch(e){return{type:n.AlgoResultTypes.INIT_ENGINE_ERROR,error:Object.assign(Object.assign({},e),{errorCode:7001})}}}static setOnFaceDetectedCallback(){window.binahConfig.onFaceDetected=(e,t,r,n,o)=>{let i=Date.now();i-this.lastFrameTime<67||(this.lastFrameTime=i,l.onFaceDetected(o))}}static setOnMessageCallback(){window.binahConfig.onMessage=(e,t)=>{l.onAlgoMessage({type:e,value:Math.round(t)})}}static setOnReportCallback(){let e={};const t=e=>0===e;window.binahConfig.onReport=(r,n,o,i,a,s,u,l,d,f,_,m,h,p,E)=>{e={},r&&n>c.ConfidenceLevel.LOW&&(e.heartRate={value:r,confidenceLevel:n}),o&&(e.oxygenSaturation={value:o}),i&&a>c.ConfidenceLevel.LOW&&(e.breathingRate={value:i,confidenceLevel:a}),s&&u>c.ConfidenceLevel.LOW&&(e.sdnn={value:s,confidenceLevel:u}),t(l)||(e.stressLevel={value:l}),t(d)||(e.stressIndex={value:d}),m&&h>c.ConfidenceLevel.LOW&&(e.meanRri={value:m,confidenceLevel:h}),p&&(e.rmssd={value:p}),E&&(e.sd1={value:E}),f&&_&&(e.bloodPressure={value:{systolic:f,diastolic:_}})},window.binahConfig.onReport2=(r,n,o,i,a,s,u,d,f,_,m,h)=>{r&&(e.sd2={value:r}),n&&o>c.ConfidenceLevel.LOW&&(e.prq={value:n,confidenceLevel:o}),i&&(e.pnsIndex={value:i}),t(a)||(e.pnsZone={value:a}),s&&(e.snsIndex={value:s}),t(u)||(e.snsZone={value:u}),t(d)||(e.wellnessLevel={value:d}),t(f)||(e.wellnessIndex={value:f}),_&&(e.lfhf={value:_}),m&&(e.hemoglobin={value:m}),m&&(e.hemoglobinA1c={value:h}),l.onReport(e)}}static getConfig(){return window.binahConfig}static formatRequestMessage(e){return e?JSON.parse(e):e}static initLicense(){const e=i.EmscriptenModule.get().initLicense();return e.requestMessage=this.formatRequestMessage(e.requestMessage),e}static updateLicense(){const e=i.EmscriptenModule.get().updateLicense();return e.requestMessage=this.formatRequestMessage(e.requestMessage),e}static onLicenseServerToken(e){const t=i.EmscriptenModule.get().onLicenseServerToken(e);return t.requestMessage=this.formatRequestMessage(t.requestMessage),t}static async setLicenseServerData(e){return i.EmscriptenModule.get().setLicenseServerData(e)}static async onLicenseServerError(e){const t=i.EmscriptenModule.get().onLicenseServerError(e);return t.requestMessage=this.formatRequestMessage(t.requestMessage),t}static start(){i.EmscriptenModule.get().ccall("start_hrv","",["number","number"],[i.EmscriptenModule.getEnginePointer(),(0,s.isIpadOS)()])}static processRppg(e,t){const{buffer:r,size:n,timestamp:o,format:a}=e,s=this.allocatePointer(r.byteLength);i.EmscriptenModule.get().HEAPU8.set(r,s),i.EmscriptenModule.get().ccall("process_rppg","",["number","number","number","number","number","number","number","string"],[i.EmscriptenModule.getEnginePointer(),s,a,n.height,n.width,0,o,t]),this.deallocatePointer(s)}static allocatePointer(e){return i.EmscriptenModule.get()._malloc(e)}static deallocatePointer(e){i.EmscriptenModule.get()._free(e)}static finishRppg(e,t){return i.EmscriptenModule.get().ccall("finish_rppg","",["number","number","number"],[i.EmscriptenModule.getEnginePointer(),e,t]),{type:n.AlgoResultTypes.FINISH_RPPG_ENDED}}static readAlgoFilesRppg(){return i.EmscriptenModule.get().FS.readdir(u.SESSION_FOLDER).filter((e=>![".",".."].includes(e))).map((e=>{const t={fileName:e,data:i.EmscriptenModule.get().FS.readFile(`${u.SESSION_FOLDER}/${e}`,{encoding:/\.(ovr)$/.test(e)?"binary":"utf8"})};return i.EmscriptenModule.get().FS.unlink(`${u.SESSION_FOLDER}/${e}`),t}))}static setFaceListener(e){l.onFaceDetected=e}static setMessageListener(e){l.onAlgoMessage=e}static setReportListener(e){l.onReport=e}}t.AlgoAdapter=l,l.lastFrameTime=0},9077:(e,t)=>{"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.AlgoResultTypes=t.AlgoCommandTypes=t.AlgoCommand=void 0,t.AlgoCommand=class{},(n=t.AlgoCommandTypes||(t.AlgoCommandTypes={}))[n.INIT_WASM=0]="INIT_WASM",n[n.INIT_ENGINE=1]="INIT_ENGINE",n[n.START=2]="START",n[n.PROCESS_RPPG=3]="PROCESS_RPPG",n[n.FINISH_RPPG=4]="FINISH_RPPG",n[n.INIT_LICENSE=5]="INIT_LICENSE",n[n.UPDATE_LICENSE=6]="UPDATE_LICENSE",n[n.ON_LICENSE_SERVER_TOKEN=7]="ON_LICENSE_SERVER_TOKEN",n[n.ON_LICENSE_SERVER_ERROR=8]="ON_LICENSE_SERVER_ERROR",n[n.SET_LICENSE_SERVER_DATA=9]="SET_LICENSE_SERVER_DATA",(r=t.AlgoResultTypes||(t.AlgoResultTypes={}))[r.WASM_READY=0]="WASM_READY",r[r.FACE_RECT=1]="FACE_RECT",r[r.MESSAGE=2]="MESSAGE",r[r.REPORT=3]="REPORT",r[r.FINISH_RPPG_ENDED=4]="FINISH_RPPG_ENDED",r[r.INIT_LICENSE=5]="INIT_LICENSE",r[r.INIT_ENGINE_RESULT=6]="INIT_ENGINE_RESULT",r[r.INIT_ENGINE_ERROR=7]="INIT_ENGINE_ERROR",r[r.UPDATE_LICENSE=8]="UPDATE_LICENSE",r[r.ON_LICENSE_SERVER_ERROR_RESULT=9]="ON_LICENSE_SERVER_ERROR_RESULT",r[r.ON_LICENSE_SERVER_TOKEN_RESULT=10]="ON_LICENSE_SERVER_TOKEN_RESULT",r[r.SET_LICENSE_SERVER_DATA_RESULT=11]="SET_LICENSE_SERVER_DATA_RESULT"},8354:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageFormat=t.HealthMonitorMessage=t.MonitorFeatures=t.AlgoMessageType=t.PnsZone=t.SnsZone=t.StressLevel=t.WellnessLevel=void 0;const n=r(1920);var o,i,a,s;Object.defineProperty(t,"WellnessLevel",{enumerable:!0,get:function(){return n.WellnessLevel}}),Object.defineProperty(t,"StressLevel",{enumerable:!0,get:function(){return n.StressLevel}}),Object.defineProperty(t,"SnsZone",{enumerable:!0,get:function(){return n.SnsZone}}),Object.defineProperty(t,"PnsZone",{enumerable:!0,get:function(){return n.PnsZone}}),(s=t.AlgoMessageType||(t.AlgoMessageType={}))[s.MESSAGE_NONE=-1]="MESSAGE_NONE",s[s.MESSAGE_HEART_RATE=0]="MESSAGE_HEART_RATE",s[s.MESSAGE_BREATHING_RATE=1]="MESSAGE_BREATHING_RATE",s[s.MESSAGE_OXYGEN_SATURATION=2]="MESSAGE_OXYGEN_SATURATION",s[s.MESSAGE_BLOOD_PRESSURE=3]="MESSAGE_BLOOD_PRESSURE",s[s.MESSAGE_SNR=4]="MESSAGE_SNR",s[s.MESSAGE_ERROR=5]="MESSAGE_ERROR",s[s.MESSAGE_WARNING=6]="MESSAGE_WARNING",s[s.MESSAGE_RESET=7]="MESSAGE_RESET",s[s.MESSAGE_DONE=8]="MESSAGE_DONE",(a=t.MonitorFeatures||(t.MonitorFeatures={}))[a.HEART_RATE_ENABLE_CODE=1]="HEART_RATE_ENABLE_CODE",a[a.BREATHING_RATE_ENABLE_CODE=2]="BREATHING_RATE_ENABLE_CODE",a[a.OXYGEN_SATURATION_ENABLE_CODE=4]="OXYGEN_SATURATION_ENABLE_CODE",a[a.SDNN_ENABLE_CODE=8]="SDNN_ENABLE_CODE",a[a.STRESS_LEVEL_ENABLE_CODE=16]="STRESS_LEVEL_ENABLE_CODE",a[a.BLOOD_PRESSURE_ENABLE_CODE=64]="BLOOD_PRESSURE_ENABLE_CODE",a[a.STRESS_INDEX_ENABLE_CODE=128]="STRESS_INDEX_ENABLE_CODE",a[a.MEAN_RRI_ENABLE_CODE=256]="MEAN_RRI_ENABLE_CODE",a[a.RMSSD_ENABLE_CODE=512]="RMSSD_ENABLE_CODE",a[a.SD1_ENABLE_CODE=1024]="SD1_ENABLE_CODE",a[a.SD2_ENABLE_CODE=2048]="SD2_ENABLE_CODE",a[a.PRQ_ENABLE_CODE=4096]="PRQ_ENABLE_CODE",a[a.PNS_INDEX_ENABLE_CODE=8192]="PNS_INDEX_ENABLE_CODE",a[a.PNS_ZONE_ENABLE_CODE=16384]="PNS_ZONE_ENABLE_CODE",a[a.SNS_INDEX_ENABLE_CODE=32768]="SNS_INDEX_ENABLE_CODE",a[a.SNS_ZONE_ENABLE_CODE=65536]="SNS_ZONE_ENABLE_CODE",a[a.WELLNESS_INDEX_ENABLE_CODE=131072]="WELLNESS_INDEX_ENABLE_CODE",a[a.WELLNESS_LEVEL_ENABLE_CODE=262144]="WELLNESS_LEVEL_ENABLE_CODE",a[a.LFHF_ENABLE_CODE=524288]="LFHF_ENABLE_CODE",a[a.HEMOGLOBIN_ENABLE_CODE=1048576]="HEMOGLOBIN_ENABLE_CODE",a[a.HEMOGLOBIN_A1C_ENABLE_CODE=2097152]="HEMOGLOBIN_A1C_ENABLE_CODE",(i=t.HealthMonitorMessage||(t.HealthMonitorMessage={}))[i.HEALTH_MONITOR_HEART_RATE=1]="HEALTH_MONITOR_HEART_RATE",i[i.HEALTH_MONITOR_BREATHING_RATE=3]="HEALTH_MONITOR_BREATHING_RATE",i[i.HEALTH_MONITOR_SDNN=4]="HEALTH_MONITOR_SDNN",i[i.HEALTH_MONITOR_STRESS_LEVEL=5]="HEALTH_MONITOR_STRESS_LEVEL",i[i.HEALTH_MONITOR_REPORT=100]="HEALTH_MONITOR_REPORT",(o=t.ImageFormat||(t.ImageFormat={}))[o.RGBA=0]="RGBA",o[o.NV12=1]="NV12",o[o.I420=2]="I420"},2119:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SESSION_FOLDER=void 0,t.SESSION_FOLDER="log-measurements"},3377:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EmscriptenModule=void 0;const o=n(r(6536)),i=n(r(8384)),a=n(r(6107)),s=n(r(2053)),u=n(r(1281)),c=n(r(9068)),l=r(2119);class d{static async init(){d.instance||(window.chrome?d.instance=await new u.default({locateFile:e=>"a.simd.wasm"===e?s.default:"a.simd.worker.js"===e?c.default:e}):d.instance=await new i.default({locateFile:e=>"a.wasm"===e?o.default:"a.worker.js"===e?a.default:e}),d.instance.FS.createPath("/",l.SESSION_FOLDER),await this.loadModels())}static get(){if(!d.instance)throw new Error("Wasm is not initialized");return d.instance}static setEnginePointer(e){d.enginePointer=e}static getEnginePointer(){return d.enginePointer}static async loadModels(){d.instance.FS.createPath("/","/models");const e=r(8435).keys().map((async e=>{const t=await fetch("models/"+e),r=await t.blob(),n=new Uint8Array(await r.arrayBuffer());d.instance.FS.createDataFile("/models",e,n,!0,!0,!0)}));return Promise.all(e)}}t.EmscriptenModule=d},8477:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.AlgoAdapter=void 0;var i=r(7894);Object.defineProperty(t,"AlgoAdapter",{enumerable:!0,get:function(){return i.AlgoAdapter}}),o(r(8354),t)},7632:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_PROCESSING_TIME=t.MIN_PROCESSING_TIME=t.DEFAULT_FPS=t.DEFAULT_HEIGHT=t.DEFAULT_WIDTH=void 0,t.DEFAULT_WIDTH=640,t.DEFAULT_HEIGHT=480,t.DEFAULT_FPS=15,t.MIN_PROCESSING_TIME=20,t.MAX_PROCESSING_TIME=180},1105:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HealthMonitorCameraFactory=void 0;const n=r(3311),o=r(2357),i=r(1074);t.HealthMonitorCameraFactory=class{static create({videoElement:e,cameraDeviceId:t,frameDimensions:r}){const a=new o.VideoStreamProvider,s=new i.VideoFrameExtractor(e);return new n.HealthMonitorCameraImpl({videoElement:e,cameraDeviceId:t,frameDimensions:r,mediaStreamProvider:a,frameExtractor:s})}}},3311:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HealthMonitorCameraImpl=void 0;const n=r(7223);t.HealthMonitorCameraImpl=class{constructor({videoElement:e,cameraDeviceId:t,frameDimensions:r,mediaStreamProvider:n,frameExtractor:o}){this.video=e,this.deviceId=t,this.frameDimensions=r,this.mediaStreamProvider=n,this.frameExtractor=o}close(){}setFrameHandler(e){this.frameExtractor.setFrameHandler(e)}async open(){try{this.stream=await this.mediaStreamProvider.getStream(this.frameDimensions,this.deviceId)}catch(e){throw new n.MonitorError(e.errorCode,e.message)}this.connectStreamToVideo(),await this.startVideo(),this.frameExtractor.start()}resetTime(){this.frameExtractor.resetTime()}connectStreamToVideo(){this.video.srcObject=this.stream}async startVideo(){return this.video.play()}}},1074:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoFrameExtractor=void 0;const n=r(7632),o=r(1951),i=r(8477);t.VideoFrameExtractor=class{constructor(e){this.video=e,this.lastProcessedFrameTime=0,this.firstTimeStamp=-1}setFrameHandler(e){this.handleFrame=e}start(){if("chrome"===(0,o.getBrowser)())this.startAsync();else{this.lastFrameTime=this.video.currentTime;const e=()=>{if(this.hasFrameDimensionsChanged()&&this.setupCanvasContext(),this.isNewFrameReady()){const e=this.extractFrameData();this.handleFrame(e)}requestAnimationFrame(e)};requestAnimationFrame(e)}}hasFrameDimensionsChanged(){return(this.video.videoWidth!=this.width||this.video.videoHeight!=this.height)&&(this.width=this.video.videoWidth,this.height=this.video.videoHeight,!0)}convertImageFormatToNative(e){switch(e){case"NV12":return i.ImageFormat.NV12;case"I420":return i.ImageFormat.I420;default:return i.ImageFormat.RGBA}}async startAsync(){const e="getVideoTracks"in this.video.srcObject&&this.video.srcObject.getVideoTracks()[0],t=new MediaStreamTrackProcessor({track:e,maxBufferSize:10}).readable.getReader();for(;;){const e=await t.read();if(e.done)break;const r=e.value;this.firstTimeStamp<0&&(this.firstTimeStamp=r.timestamp);const o=r.timestamp,i=1/n.DEFAULT_FPS,a=(o-this.lastProcessedFrameTime)/1e6||0;if(this.log("delta="+a+"  threshold="+.8*i),this.lastFrameTime=o,a>=.8*i){this.log("handling frame"),this.lastProcessedFrameTime=o;const e=new Uint8Array(r.allocationSize());r.copyTo(e);const t=this.convertImageFormatToNative(r.format),n={width:r.codedWidth,height:r.codedHeight};r.close();const i={buffer:e,timestamp:(o-this.firstTimeStamp)/1e6,size:n,format:t};this.handleFrame(i)}else r.close(),this.log("dropped frame")}}resetTime(){this.startTime=0,this.firstTimeStamp=-1}isNewFrameReady(){const e=this.video.currentTime,t=1/n.DEFAULT_FPS;return e-this.lastFrameTime>=.8*t&&(this.lastFrameTime=e,!0)}extractFrameData(){this.context.drawImage(this.video,0,0),this.startTime||(this.startTime=this.lastFrameTime);const e=this.lastFrameTime-this.startTime,{data:t,width:r,height:n}=this.context.getImageData(0,0,this.video.videoWidth,this.video.videoHeight);return{buffer:t,size:{width:r,height:n},timestamp:e,format:i.ImageFormat.RGBA}}setupCanvasContext(){const e=document.createElement("canvas");e.width=this.video.videoWidth,e.height=this.video.videoHeight,this.context=e.getContext("2d",{willReadFrequently:!0})}logFrame(){const e=1e3*(this.video.currentTime-this.lastFrameTime);console.log("actualFrameRate = ",1e3/e)}log(e){}}},2357:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoStreamProvider=void 0;const n=r(7223),o=r(1920),i=r(1951);t.VideoStreamProvider=class{async getStream(e,t){await this.getCameraDeviceId(t);const r=this.getUserMediaConstraints(e,t);return await this.validateCameraPermission(r)}async getCameraDeviceId(e){const t=(await navigator.mediaDevices.enumerateDevices()).filter((e=>"videoinput"===e.kind));if(e&&!t.some((({deviceId:t})=>t===e)))throw new n.MonitorError(o.HealthMonitorCodes.CAMERA_CODE_NO_CAMERA_ERROR,"camera not found")}async validateCameraPermission(e){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new n.MonitorError(o.HealthMonitorCodes.CAMERA_CODE_CAMERA_OPEN_ERROR,"Couldn't get user media");try{return await navigator.mediaDevices.getUserMedia(e)}catch(e){if("OverconstrainedError"===e.name)throw new n.MonitorError(o.HealthMonitorCodes.CAMERA_CODE_CAMERA_OPEN_ERROR,"No matching camera found");throw new n.MonitorError(o.HealthMonitorCodes.CAMERA_CODE_CAMERA_MISSING_PERMISSIONS_ERROR,"Camera permissions not granted")}}getUserMediaConstraints(e,t){const{width:r,height:n}=e,o="chrome"===(0,i.getBrowser)()?30:15;return{video:{width:{exact:r},height:{exact:n},deviceId:t,frameRate:{min:o,exact:o,max:o,ideal:o},facingMode:"user"}}}}},9396:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionError=void 0;class r extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,r.prototype)}}t.ConnectionError=r},7223:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonitorError=void 0;class r extends Error{constructor(e,t){super(t),this.errorCode=e,Object.setPrototypeOf(this,r.prototype)}}t.MonitorError=r},6366:(e,t)=>{"use strict";var r,n,o,i,a,s,u,c;Object.defineProperty(t,"__esModule",{value:!0}),t.AlertDomains=t.VitalSignType=t.PnsZone=t.SnsZone=t.WellnessLevel=t.StressLevel=t.ConfidenceLevel=t.HealthMonitorMessage=void 0,(c=t.HealthMonitorMessage||(t.HealthMonitorMessage={}))[c.HEALTH_MONITOR_HEART_RATE=1]="HEALTH_MONITOR_HEART_RATE",c[c.HEALTH_MONITOR_BREATHING_RATE=3]="HEALTH_MONITOR_BREATHING_RATE",c[c.HEALTH_MONITOR_SDNN=4]="HEALTH_MONITOR_SDNN",c[c.HEALTH_MONITOR_STRESS_LEVEL=5]="HEALTH_MONITOR_STRESS_LEVEL",c[c.HEALTH_MONITOR_REPORT=100]="HEALTH_MONITOR_REPORT",(u=t.ConfidenceLevel||(t.ConfidenceLevel={}))[u.UNKNOWN=0]="UNKNOWN",u[u.LOW=1]="LOW",u[u.MEDIUM=2]="MEDIUM",u[u.HIGH=3]="HIGH",(s=t.StressLevel||(t.StressLevel={}))[s.UNKNOWN=0]="UNKNOWN",s[s.LOW=1]="LOW",s[s.NORMAL=2]="NORMAL",s[s.MILD=3]="MILD",s[s.HIGH=4]="HIGH",s[s.EXTREME=5]="EXTREME",(a=t.WellnessLevel||(t.WellnessLevel={}))[a.UNKNOWN=0]="UNKNOWN",a[a.LOW=1]="LOW",a[a.NORMAL=2]="NORMAL",a[a.HIGH=3]="HIGH",(i=t.SnsZone||(t.SnsZone={}))[i.UNKNOWN=0]="UNKNOWN",i[i.LOW=1]="LOW",i[i.NORMAL=2]="NORMAL",i[i.HIGH=3]="HIGH",(o=t.PnsZone||(t.PnsZone={}))[o.UNKNOWN=0]="UNKNOWN",o[o.LOW=1]="LOW",o[o.NORMAL=2]="NORMAL",o[o.HIGH=3]="HIGH",(n=t.VitalSignType||(t.VitalSignType={})).HEART_RATE="heartRate",n.OXYGEN_SATURATION="oxygenSaturation",n.BREATHING_RATE="breathingRate",n.SDNN="sdnn",n.STRESS_LEVEL="stressLevel",n.STRESS_INDEX="stressIndex",n.RRI="rri",n.MEAN_RRI="meanRri",n.BLOOD_PRESSURE="bloodPressure",n.RMSSD="rmssd",n.SD1="sd1",n.SD2="sd2",n.PRQ="prq",n.PNS_INDEX="pnsIndex",n.PNS_ZONE="pnsZone",n.SNS_INDEX="snsIndex",n.SNS_ZONE="snsZone",n.WELLNESS_INDEX="wellnessIndex",n.WELLNESS_LEVEL="wellnessLevel",n.LFHF="lfhf",n.HEMOGLOBIN="hemoglobin",n.HEMOGLOBIN_A1C="hemoglobinA1c",(r=t.AlertDomains||(t.AlertDomains={}))[r.ALERT_DOMAIN_DEVICE=0]="ALERT_DOMAIN_DEVICE",r[r.ALERT_DOMAIN_CAMERA=1e3]="ALERT_DOMAIN_CAMERA",r[r.ALERT_DOMAIN_LICENSE=2e3]="ALERT_DOMAIN_LICENSE",r[r.ALERT_DOMAIN_MEASUREMENT=3e3]="ALERT_DOMAIN_MEASUREMENT",r[r.ALERT_DOMAIN_VITAL_SIGNS=4e3]="ALERT_DOMAIN_VITAL_SIGNS",r[r.ALERT_DOMAIN_RECORDER=5e3]="ALERT_DOMAIN_RECORDER",r[r.ALERT_DOMAIN_SESSION=6e3]="ALERT_DOMAIN_SESSION",r[r.ALERT_DOMAIN_INITIALIZATION=7e3]="ALERT_DOMAIN_INITIALIZATION"},5069:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ALGO_MESSAGE_TO_VITAL_SIGN_NAME=void 0;const n=r(8477);t.ALGO_MESSAGE_TO_VITAL_SIGN_NAME={[n.AlgoMessageType.MESSAGE_HEART_RATE]:"heartRate",[n.AlgoMessageType.MESSAGE_BREATHING_RATE]:"breathingRate"}},8497:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ALGO_TO_HEALTH_MONITOR_MSG_MAPPING=void 0;const n=r(6366),o=r(8477);t.ALGO_TO_HEALTH_MONITOR_MSG_MAPPING={[o.AlgoMessageType.MESSAGE_HEART_RATE]:n.HealthMonitorMessage.HEALTH_MONITOR_HEART_RATE,[o.AlgoMessageType.MESSAGE_BREATHING_RATE]:n.HealthMonitorMessage.HEALTH_MONITOR_BREATHING_RATE}},4441:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Api=void 0;const n=r(1920),o=r(9396);class i{static post(e,t){const r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return i.fetch(e,r)}static patch(e,t){const r={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return i.fetch(e,r)}static async fetch(e,t,r=1e4){const i=new Promise((async(r,n)=>{try{r(await fetch(e,t))}catch(e){n(e)}})),a=new Promise(((e,t)=>setTimeout((()=>t(new o.ConnectionError(n.HealthMonitorCodes.LICENSE_CODE_NETWORK_TIMEOUT_ERROR,"fetch timeout"))),r)));return await Promise.race([i,a])}}t.Api=i},7746:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldPublishAlert=void 0,t.shouldPublishAlert=e=>{var t;return!!(null===(t=window.binahConfig)||void 0===t?void 0:t.reportDevErrors)||e<4e4}},242:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUuidV4=void 0,t.getUuidV4=()=>([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))},3780:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConstantOrientationHelper=t.DefaultOrientationHelper=void 0;const n=r(1951),o=r(1903);t.DefaultOrientationHelper=class{constructor(){this.resetValid=this.resetValidOrientation,this.isValid=this.isOrientationValid}resetValidOrientation(){this.validOrientation=(0,n.getOrientation)()}isOrientationValid(){return this.validOrientation===(0,n.getOrientation)()}},t.ConstantOrientationHelper=class{constructor(e){this.validOrientations=o.MAP_CONSTANT_ORIENTATION_TO_IMAGE_ROTATION[e],this.resetValid=this.resetValidOrientation,this.isValid=this.isOrientationValid}resetValidOrientation(){}isOrientationValid(){var e;return null===(e=this.validOrientations)||void 0===e?void 0:e.includes((0,n.getOrientation)())}}},1951:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getBrowserVersionMajorAndMinor=t.getBrowserVersion=t.getBrowser=t.getOSVersion=t.getOS=t.getOrientation=t.isPortrait=t.isIpadOS=t.isTablet=t.isIos=t.isMobile=void 0;const o=n(r(6353)),i=r(1903);t.isMobile=()=>"mobile"===(0,o.default)(navigator.userAgent).device.type||"android"===(0,t.getOS)()||"ios"===(0,t.getOS)(),t.isIos=()=>"ios"===(0,t.getOS)(),t.isTablet=()=>"tablet"===(0,o.default)(navigator.userAgent).device.type||(0,t.isIpadOS)(),t.isIpadOS=()=>navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&"macos"===(0,t.getOS)(),t.isPortrait=()=>window.matchMedia("(orientation:portrait)").matches,t.getOrientation=()=>{const{orientation:e}=screen;return e?e.angle:void 0!==window.orientation?"number"==typeof window.orientation?window.orientation:0:(console.log("window.orientation is deprecated. LANDSCAPE_LEFT and LANDSCAPE_RIGHT fallback to LANDSCAPE"),(0,t.isPortrait)()?i.ImageRotation.ROTATION_0:i.ImageRotation.ROTATION_LANDSCAPE_FALLBACK)},t.getOS=()=>{const e=new o.default(navigator.userAgent),{name:t}=e.getOS();return"Mac OS"===t?"macos":"iOS"===t?"ios":"Windows"===t?"windows":"Android"===t?"android":"linux"},t.getOSVersion=()=>(0,o.default)(navigator.userAgent).os.version,t.getBrowser=()=>{const e=new o.default(navigator.userAgent),{name:t}=e.getBrowser();return t.includes("Opera")?"opera":t.includes("Chrome")||"Chromium"===t?"chrome":t.includes("Safari")?"safari":t.includes("Firefox")?"firefox":"unknown"},t.getBrowserVersion=()=>(0,o.default)(navigator.userAgent).browser.version,t.getBrowserVersionMajorAndMinor=()=>{var e;const r=null===(e=(0,t.getBrowserVersion)())||void 0===e?void 0:e.match(/\d+((\.|,)\d+)?/);return r&&r[0]}},1903:(e,t)=>{"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.MAP_CONSTANT_ORIENTATION_TO_IMAGE_ROTATION=t.ImageRotation=t.DeviceOrientation=void 0,function(e){e[e.PORTRAIT=0]="PORTRAIT",e[e.LANDSCAPE_LEFT=1]="LANDSCAPE_LEFT",e[e.LANDSCAPE_RIGHT=2]="LANDSCAPE_RIGHT"}(r=t.DeviceOrientation||(t.DeviceOrientation={})),function(e){e[e.ROTATION_0=0]="ROTATION_0",e[e.ROTATION_90=90]="ROTATION_90",e[e.ROTATION_270=270]="ROTATION_270",e[e.ROTATION_NEGATIVE_90=-90]="ROTATION_NEGATIVE_90",e[e.ROTATION_LANDSCAPE_FALLBACK=1]="ROTATION_LANDSCAPE_FALLBACK"}(n=t.ImageRotation||(t.ImageRotation={})),t.MAP_CONSTANT_ORIENTATION_TO_IMAGE_ROTATION={[r.PORTRAIT]:[n.ROTATION_0],[r.LANDSCAPE_RIGHT]:[n.ROTATION_90,n.ROTATION_LANDSCAPE_FALLBACK],[r.LANDSCAPE_LEFT]:[n.ROTATION_270,n.ROTATION_NEGATIVE_90,n.ROTATION_LANDSCAPE_FALLBACK]}},744:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.HealthMonitorCodes=void 0,(r=t.HealthMonitorCodes||(t.HealthMonitorCodes={}))[r.NO_ERROR=0]="NO_ERROR",r[r.DEVICE_CODE_INTERNAL_ERROR_1=10]="DEVICE_CODE_INTERNAL_ERROR_1",r[r.DEVICE_CODE_INTERNAL_ERROR_2=11]="DEVICE_CODE_INTERNAL_ERROR_2",r[r.DEVICE_CODE_INTERNAL_ERROR_3=12]="DEVICE_CODE_INTERNAL_ERROR_3",r[r.DEVICE_CODE_INTERNAL_ERROR_4=13]="DEVICE_CODE_INTERNAL_ERROR_4",r[r.DEVICE_CODE_MINIMUM_BROWSER_VERSION_ERROR=18]="DEVICE_CODE_MINIMUM_BROWSER_VERSION_ERROR",r[r.CAMERA_CODE_NO_CAMERA_ERROR=1001]="CAMERA_CODE_NO_CAMERA_ERROR",r[r.CAMERA_CODE_CAMERA_OPEN_ERROR=1002]="CAMERA_CODE_CAMERA_OPEN_ERROR",r[r.CAMERA_CODE_CAMERA_MISSING_PERMISSIONS_ERROR=1005]="CAMERA_CODE_CAMERA_MISSING_PERMISSIONS_ERROR",r[r.LICENSE_CODE_INTERNAL_ERROR_18=2001]="LICENSE_CODE_INTERNAL_ERROR_18",r[r.LICENSE_CODE_ACTIVATION_LIMIT_REACHED_ERROR=2002]="LICENSE_CODE_ACTIVATION_LIMIT_REACHED_ERROR",r[r.LICENSE_CODE_METER_ATTRIBUTE_USES_LIMIT_REACHED_ERROR=2003]="LICENSE_CODE_METER_ATTRIBUTE_USES_LIMIT_REACHED_ERROR",r[r.LICENSE_CODE_AUTHENTICATION_FAILED_ERROR=2004]="LICENSE_CODE_AUTHENTICATION_FAILED_ERROR",r[r.LICENSE_CODE_INTERNAL_ERROR_1=2006]="LICENSE_CODE_INTERNAL_ERROR_1",r[r.LICENSE_CODE_INVALID_LICENSE_KEY_ERROR=2007]="LICENSE_CODE_INVALID_LICENSE_KEY_ERROR",r[r.LICENSE_CODE_INTERNAL_ERROR_2=2008]="LICENSE_CODE_INTERNAL_ERROR_2",r[r.LICENSE_CODE_INTERNAL_ERROR_3=2009]="LICENSE_CODE_INTERNAL_ERROR_3",r[r.LICENSE_CODE_REVOKED_LICENSE_ERROR=2010]="LICENSE_CODE_REVOKED_LICENSE_ERROR",r[r.LICENSE_CODE_INTERNAL_ERROR_4=2011]="LICENSE_CODE_INTERNAL_ERROR_4",r[r.LICENSE_CODE_INTERNAL_ERROR_5=2012]="LICENSE_CODE_INTERNAL_ERROR_5",r[r.LICENSE_CODE_INTERNAL_ERROR_7=2014]="LICENSE_CODE_INTERNAL_ERROR_7",r[r.LICENSE_CODE_INTERNAL_ERROR_8=2015]="LICENSE_CODE_INTERNAL_ERROR_8",r[r.LICENSE_CODE_INTERNAL_ERROR_9=2016]="LICENSE_CODE_INTERNAL_ERROR_9",r[r.LICENSE_CODE_LICENSE_EXPIRED_ERROR=2017]="LICENSE_CODE_LICENSE_EXPIRED_ERROR",r[r.LICENSE_CODE_LICENSE_SUSPENDED_ERROR=2018]="LICENSE_CODE_LICENSE_SUSPENDED_ERROR",r[r.LICENSE_CODE_TOKEN_EXPIRED_ERROR=2020]="LICENSE_CODE_TOKEN_EXPIRED_ERROR",r[r.LICENSE_CODE_DEVICE_DEACTIVATED_ERROR=2021]="LICENSE_CODE_DEVICE_DEACTIVATED_ERROR",r[r.LICENSE_CODE_INTERNAL_ERROR_10=2022]="LICENSE_CODE_INTERNAL_ERROR_10",r[r.LICENSE_CODE_INTERNAL_ERROR_11=2023]="LICENSE_CODE_INTERNAL_ERROR_11",r[r.LICENSE_CODE_NETWORK_ISSUES_ERROR=2024]="LICENSE_CODE_NETWORK_ISSUES_ERROR",r[r.LICENSE_CODE_SSL_HANDSHAKE_ERROR=2025]="LICENSE_CODE_SSL_HANDSHAKE_ERROR",r[r.LICENSE_CODE_INTERNAL_ERROR_16=2030]="LICENSE_CODE_INTERNAL_ERROR_16",r[r.LICENSE_CODE_INPUT_LICENSE_KEY_EMPTY_ERROR=2032]="LICENSE_CODE_INPUT_LICENSE_KEY_EMPTY_ERROR",r[r.LICENSE_CODE_INPUT_FINGERPRINT_EMPTY_ERROR=2033]="LICENSE_CODE_INPUT_FINGERPRINT_EMPTY_ERROR",r[r.LICENSE_CODE_INPUT_PRODUCT_ID_ILLEGAL_ERROR=2034]="LICENSE_CODE_INPUT_PRODUCT_ID_ILLEGAL_ERROR",r[r.LICENSE_CODE_CANNOT_OPEN_FILE_FOR_READ_ERROR=2035]="LICENSE_CODE_CANNOT_OPEN_FILE_FOR_READ_ERROR",r[r.LICENSE_CODE_MONTHLY_USAGE_TRACKING_REQUIRES_SYNC_ERROR=2036]="LICENSE_CODE_MONTHLY_USAGE_TRACKING_REQUIRES_SYNC_ERROR",r[r.LICENSE_CODE_SSL_HANDSHAKE_DEVICE_DATE_ERROR=2037]="LICENSE_CODE_SSL_HANDSHAKE_DEVICE_DATE_ERROR",r[r.LICENSE_CODE_SSL_HANDSHAKE_CERTIFICATE_EXPIRED_ERROR=2038]="LICENSE_CODE_SSL_HANDSHAKE_CERTIFICATE_EXPIRED_ERROR",r[r.LICENSE_CODE_MIN_SDK_ERROR=2039]="LICENSE_CODE_MIN_SDK_ERROR",r[r.LICENSE_CODE_MISSING_SDK_VERSION=2040]="LICENSE_CODE_MISSING_SDK_VERSION",r[r.LICENSE_CODE_FORBIDDEN_LICENSE_TYPE_ERROR=2041]="LICENSE_CODE_FORBIDDEN_LICENSE_TYPE_ERROR",r[r.LICENSE_CODE_NETWORK_TIMEOUT_ERROR=2042]="LICENSE_CODE_NETWORK_TIMEOUT_ERROR",r[r.MEASUREMENT_CODE_MISDETECTION_DURATION_EXCEEDS_LIMIT_ERROR=3003]="MEASUREMENT_CODE_MISDETECTION_DURATION_EXCEEDS_LIMIT_ERROR",r[r.MEASUREMENT_CODE_INVALID_RECENT_DETECTION_RATE_ERROR=3004]="MEASUREMENT_CODE_INVALID_RECENT_DETECTION_RATE_ERROR",r[r.MEASUREMENT_CODE_LICENSE_ACTIVATION_FAILED_ERROR=3006]="MEASUREMENT_CODE_LICENSE_ACTIVATION_FAILED_ERROR",r[r.MEASUREMENT_CODE_INVALID_MEASUREMENT_AVERAGE_DETECTION_RATE_ERROR=3008]="MEASUREMENT_CODE_INVALID_MEASUREMENT_AVERAGE_DETECTION_RATE_ERROR",r[r.MEASUREMENT_CODE_TOO_MANY_FRAMES_INORDER_ERROR=3009]="MEASUREMENT_CODE_TOO_MANY_FRAMES_INORDER_ERROR",r[r.MEASUREMENT_CODE_MISDETECTION_DURATION_EXCEEDS_LIMIT_WARNING=3500]="MEASUREMENT_CODE_MISDETECTION_DURATION_EXCEEDS_LIMIT_WARNING",r[r.MEASUREMENT_CODE_UNSUPPORTED_ORIENTATION_WARNING=3504]="MEASUREMENT_CODE_UNSUPPORTED_ORIENTATION_WARNING",r[r.MEASUREMENT_CODE_INVALID_RECENT_FPS_RATE_WARNING=3505]="MEASUREMENT_CODE_INVALID_RECENT_FPS_RATE_WARNING",r[r.MEASUREMENT_CODE_MEASUREMENT_MISPLACED_FRAME_WARNING=3506]="MEASUREMENT_CODE_MEASUREMENT_MISPLACED_FRAME_WARNING",r[r.VITAL_SIGN_CODE_BLOOD_PRESSURE_PROCESSING_FAILED_WARNING=4505]="VITAL_SIGN_CODE_BLOOD_PRESSURE_PROCESSING_FAILED_WARNING",r[r.VITAL_SIGN_CODE_MEASURING_WITH_NO_ENABLED_VITAL_SIGNS_WARNING=4506]="VITAL_SIGN_CODE_MEASURING_WITH_NO_ENABLED_VITAL_SIGNS_WARNING",r[r.INITIALIZATION_CODE_INTERNAL_ERROR_1=7001]="INITIALIZATION_CODE_INTERNAL_ERROR_1",r[r.INITIALIZATION_CODE_INVALID_PROCESSING_TIME_ERROR=7002]="INITIALIZATION_CODE_INVALID_PROCESSING_TIME_ERROR",r[r.INITIALIZATION_CODE_SESSION_LISTENERS_MISMATCH=7003]="INITIALIZATION_CODE_SESSION_LISTENERS_MISMATCH",r[r.INITIALIZATION_CODE_INVALID_LICENSE_FORMAT=7005]="INITIALIZATION_CODE_INVALID_LICENSE_FORMAT",r[r.INITIALIZATION_CODE_UNSUPPORTED_USER_WEIGHT=7007]="INITIALIZATION_CODE_UNSUPPORTED_USER_WEIGHT",r[r.INITIALIZATION_CODE_UNSUPPORTED_USER_AGE=7008]="INITIALIZATION_CODE_UNSUPPORTED_USER_AGE"},5066:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HealthMonitorManager=void 0;const n=r(744),o=r(7053),i=r(8362),a=r(8477),s=r(7223),u=r(7746),c=r(1951);class l{constructor(){this.sessions=new Set}async initialize({licenseKey:e,productId:t,licenseInfo:r}){if(1!==navigator.maxTouchPoints){if("safari"===(0,c.getBrowser)()&&(0,c.getBrowserVersionMajorAndMinor)()<l.MINIMUM_SAFARI_VERSION)throw new s.MonitorError(n.HealthMonitorCodes.DEVICE_CODE_MINIMUM_BROWSER_VERSION_ERROR,"Safari Version must be at least 15.2 (or greater)");if("chrome"===(0,c.getBrowser)()&&(0,c.getBrowserVersionMajorAndMinor)()<l.MINIMUM_CHROME_VERSION)throw new s.MonitorError(n.HealthMonitorCodes.DEVICE_CODE_MINIMUM_BROWSER_VERSION_ERROR,"Chrome Version must be at least 95 (or greater)")}this.onLicenseError=this.onLicenseError.bind(this),this.reset(),this.validateOptions({licenseKey:e}),await a.AlgoAdapter.initWasm(),await this.initLicense({licenseKey:e,productId:t,licenseInfo:r,onLicenseError:this.onLicenseError})}async initLicense(e){return i.LicenseManagerProvider.createLicenseManager(e)}reset(){this.sessions.forEach((e=>e.terminate()))}stopAll(){this.sessions.forEach((e=>e.stop()))}onLicenseError(e){var t,r;null===(t=this.stopAll)||void 0===t||t.call(this),(0,u.shouldPublishAlert)(e.code)&&(null===(r=this.onError)||void 0===r||r.call(this,e))}getMaxSessions(){return l.MAX_SESSIONS}async createFaceSession(e){this.onError=null==e?void 0:e.onError;const t=await o.SessionFactory.createFaceSession(e);return this.sessions.add(t),t}validateOptions({licenseKey:e}){if("string"!=typeof e)throw new s.MonitorError(n.HealthMonitorCodes.LICENSE_CODE_INVALID_LICENSE_KEY_ERROR,"licenseKey is not valid")}}t.HealthMonitorManager=l,l.MAX_SESSIONS=1,l.MINIMUM_SAFARI_VERSION=15.2,l.MINIMUM_CHROME_VERSION=95},1920:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isIos=t.isTablet=t.isMobile=t.getOS=t.SUBJECT_DEMOGRAHIC_THRESHOLD=t.Gender=t.SessionState=t.HealthMonitorCodes=t.DeviceOrientation=t.ConfidenceLevel=t.WellnessLevel=t.VitalSignType=t.StressLevel=t.SnsZone=t.PnsZone=void 0;const n=r(5066);var o=r(6366);Object.defineProperty(t,"PnsZone",{enumerable:!0,get:function(){return o.PnsZone}}),Object.defineProperty(t,"SnsZone",{enumerable:!0,get:function(){return o.SnsZone}}),Object.defineProperty(t,"StressLevel",{enumerable:!0,get:function(){return o.StressLevel}}),Object.defineProperty(t,"VitalSignType",{enumerable:!0,get:function(){return o.VitalSignType}}),Object.defineProperty(t,"WellnessLevel",{enumerable:!0,get:function(){return o.WellnessLevel}}),Object.defineProperty(t,"ConfidenceLevel",{enumerable:!0,get:function(){return o.ConfidenceLevel}});var i=r(1903);Object.defineProperty(t,"DeviceOrientation",{enumerable:!0,get:function(){return i.DeviceOrientation}});var a=r(744);Object.defineProperty(t,"HealthMonitorCodes",{enumerable:!0,get:function(){return a.HealthMonitorCodes}});var s=r(778);Object.defineProperty(t,"SessionState",{enumerable:!0,get:function(){return s.SessionState}}),Object.defineProperty(t,"Gender",{enumerable:!0,get:function(){return s.Gender}}),Object.defineProperty(t,"SUBJECT_DEMOGRAHIC_THRESHOLD",{enumerable:!0,get:function(){return s.SUBJECT_DEMOGRAHIC_THRESHOLD}});var u=r(1951);Object.defineProperty(t,"getOS",{enumerable:!0,get:function(){return u.getOS}}),Object.defineProperty(t,"isMobile",{enumerable:!0,get:function(){return u.isMobile}}),Object.defineProperty(t,"isTablet",{enumerable:!0,get:function(){return u.isTablet}}),Object.defineProperty(t,"isIos",{enumerable:!0,get:function(){return u.isIos}}),t.default=new n.HealthMonitorManager},8480:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getJwtRequestData=void 0;const n=r(1951),o=r(306),i=r(242);t.getJwtRequestData=(e,t="")=>({licenseKey:e,productId:t,deviceFingerprint:(0,i.getUuidV4)()+"-"+(0,i.getUuidV4)(),os:(0,n.getOS)(),hostname:(0,n.getBrowser)(),appVersion:o.version.split("-")[0],userHash:"DefUser",osVersion:(0,n.getOSVersion)()})},8362:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LicenseManagerProvider=void 0;const n=r(8021);class o{static createLicenseManager(e){return o.instance=new n.LicenseManager,o.instance.init(e)}static get(){return o.instance}}t.LicenseManagerProvider=o},8021:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LicenseManager=void 0;const n=r(8477),o=r(8077),i=r(744),a=r(4441),s=r(8480),u=r(7223),c=r(6366);t.LicenseManager=class{constructor(){this.licenseData={status:i.HealthMonitorCodes.LICENSE_CODE_INVALID_LICENSE_KEY_ERROR}}async init({licenseKey:e,productId:t,licenseInfo:r,onLicenseError:o}){this.onEnabledVitalSigns=null==r?void 0:r.onEnabledVitalSigns,this.onOfflineMeasurement=null==r?void 0:r.onOfflineMeasurement,this.onActivation=null==r?void 0:r.onActivation,this.onLicenseError=o,this.throwIfInvalidLicenseFormat(e,t);const i=(0,s.getJwtRequestData)(e,t),a=await n.AlgoAdapter.setLicenseServerData(i);if(0!==a)throw new u.MonitorError(a,a);if(this.licenseData=await n.AlgoAdapter.initLicense(),await this.goToServer(),this.sendInfoMessages(),!this.isMeasuringAllowed())throw new u.MonitorError(this.getLicenseStatus(),"License is not valid")}async update(){this.licenseData=await n.AlgoAdapter.updateLicense(),await this.goToServer(),this.sendInfoMessages(),this.isMeasuringAllowed()||this.onLicenseError({code:this.getLicenseStatus(),domain:c.AlertDomains.ALERT_DOMAIN_LICENSE})}isMeasuringAllowed(){var e;return null===(e=this.licenseData)||void 0===e?void 0:e.isMeasuringAllowed}sendInfoMessages(){var e,t,r,n,o;const i={isEnabledHeartRate:this.licenseData.isEnabledHeartRate,isEnabledBreathingRate:this.licenseData.isEnabledBreathingRate,isEnabledSpo2:this.licenseData.isEnabledSpo2,isEnabledSdnn:this.licenseData.isEnabledSdnn,isEnabledStressLevel:this.licenseData.isEnabledStressLevel,isEnabledStressIndex:this.licenseData.isEnabledStressIndex,isEnabledBloodPressure:this.licenseData.isEnabledBloodPressure,isEnabledRri:this.licenseData.isEnabledRri,isEnabledMeanRri:this.licenseData.isEnabledMeanRri,isEnabledRmssd:this.licenseData.isEnabledRmssd,isEnabledSd1:this.licenseData.isEnabledSd1,isEnabledSd2:this.licenseData.isEnabledSd2,isEnabledPrq:this.licenseData.isEnabledPrq,isEnabledPnsIndex:this.licenseData.isEnabledPnsIndex,isEnabledPnsZone:this.licenseData.isEnabledPnsZone,isEnabledSnsIndex:this.licenseData.isEnabledSnsIndex,isEnabledSnsZone:this.licenseData.isEnabledSnsZone,isEnabledWellnessLevel:this.licenseData.isEnabledWellnessLevel,isEnabledWellnessIndex:this.licenseData.isEnabledWellnessIndex,isEnabledLfhf:this.licenseData.isEnabledLfhf,isEnabledHemoglobin:this.licenseData.isEnabledHemoglobin,isEnabledHemoglobinA1c:this.licenseData.isEnabledHemoglobinA1c},a={offlineMeasurements:null===(e=this.licenseData)||void 0===e?void 0:e.offlineMeasurements,offlineMeasurementsRemaining:null===(t=this.licenseData)||void 0===t?void 0:t.offlineMeasurementsRemaining,measurementSecondsEnd:this.calculateSecondsToEnd()};null===(r=this.onEnabledVitalSigns)||void 0===r||r.call(this,i),a.offlineMeasurements&&(null===(n=this.onOfflineMeasurement)||void 0===n||n.call(this,a)),null===(o=this.onActivation)||void 0===o||o.call(this,this.licenseData.activationId)}calculateSecondsToEnd(){var e,t;if(!(null===(e=this.licenseData)||void 0===e?void 0:e.measurementSecondsEnd))return 0;const r=+new Date(1e3*(null===(t=this.licenseData)||void 0===t?void 0:t.measurementSecondsEnd)),n=new Date(r-+(new Date).valueOf());return 60*n.getMinutes()+n.getSeconds()}getLicenseStatus(){return this.licenseData.status}async goToServer(){for(var e;null===(e=this.licenseData)||void 0===e?void 0:e.shouldGoToServer;){let e;try{e=await(this.licenseData.isPatch?a.Api.patch(this.licenseData.serverUrl,this.licenseData.requestMessage):a.Api.post(this.licenseData.serverUrl,this.licenseData.requestMessage))}catch(e){if(console.log("Error:",e),e.code===i.HealthMonitorCodes.LICENSE_CODE_NETWORK_TIMEOUT_ERROR)return void this.onLicenseError({code:e.code})}await this.handleServerResponse(e)}}async handleServerResponse(e){if(e)if(200===(null==e?void 0:e.status)){const{activationToken:t}=await(null==e?void 0:e.json());this.licenseData=await n.AlgoAdapter.onLicenseServerToken(t)}else{const t=await(null==e?void 0:e.json()),r=null==t?void 0:t.code,a=r?o.CryptlexErrors[r]:i.HealthMonitorCodes.LICENSE_CODE_NETWORK_ISSUES_ERROR;this.licenseData=await n.AlgoAdapter.onLicenseServerError(a)}else this.licenseData=await n.AlgoAdapter.onLicenseServerError(i.HealthMonitorCodes.LICENSE_CODE_NETWORK_ISSUES_ERROR)}throwIfInvalidLicenseFormat(e,t){{const r=/^[a-zA-Z0-9]{8}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{12}$/;if(!/^[a-zA-Z0-9]{6}-[a-zA-Z0-9]{6}-[a-zA-Z0-9]{6}-[a-zA-Z0-9]{6}-[a-zA-Z0-9]{6}-[a-zA-Z0-9]{6}$/.test(e)||t&&!r.test(t))throw new u.MonitorError(i.HealthMonitorCodes.INITIALIZATION_CODE_INVALID_LICENSE_FORMAT,"License key or Product Id are not valid")}}}},8077:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CryptlexErrors=void 0,r(1920),(n=t.CryptlexErrors||(t.CryptlexErrors={}))[n.NO_ERROR=0]="NO_ERROR",n[n.ACTIVATION_LIMIT_REACHED=2002]="ACTIVATION_LIMIT_REACHED",n[n.METER_ATTRIBUTE_USES_LIMIT_REACHED=2003]="METER_ATTRIBUTE_USES_LIMIT_REACHED",n[n.AUTHENTICATION_FAILED=2004]="AUTHENTICATION_FAILED",n[n.INVALID_PRODUCT_ID=2006]="INVALID_PRODUCT_ID",n[n.INVALID_LICENSE_KEY=2007]="INVALID_LICENSE_KEY",n[n.INVALID_LICENSE_TYPE=2008]="INVALID_LICENSE_TYPE",n[n.VM_ACTIVATION_NOT_ALLOWED=2009]="VM_ACTIVATION_NOT_ALLOWED",n[n.REVOKED_LICENSE=2010]="REVOKED_LICENSE",n[n.COUNTRY_NOT_ALLOWED=2011]="COUNTRY_NOT_ALLOWED",n[n.IP_ADDRESS_NOT_ALLOWED=2012]="IP_ADDRESS_NOT_ALLOWED",n[n.TRIAL_NOT_ALLOWED=2014]="TRIAL_NOT_ALLOWED",n[n.TRIAL_ACTIVATION_LIMIT_REACHED=2015]="TRIAL_ACTIVATION_LIMIT_REACHED",n[n.SERVER_RESPONSE_FAILED_AUTHENTICATION=2016]="SERVER_RESPONSE_FAILED_AUTHENTICATION",n[n.LICENSE_EXPIRED=2017]="LICENSE_EXPIRED",n[n.LICENSE_SUSPENDED=2018]="LICENSE_SUSPENDED",n[n.TOKEN_EXPIRED=2020]="TOKEN_EXPIRED",n[n.DEVICE_WAS_DEACTIVATED=2021]="DEVICE_WAS_DEACTIVATED",n[n.UNKNOWN_ERROR_OCCURRED=2023]="UNKNOWN_ERROR_OCCURRED"},3613:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logFaceMeasurements=void 0;const n=r(8477);t.logFaceMeasurements=()=>n.AlgoAdapter.readAlgoFilesRppg()},4808:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerBuilder=void 0;const n=r(3613),o=r(7082),i=r(8689),a=r(778),s=r(8477);t.LoggerBuilder=class{static async getAlgoMeasurementLogger(e){const t=await s.AlgoAdapter.getConfig();if(!(null==t?void 0:t.isMeasurementLogsEnabled)&&!(null==t?void 0:t.isPerformanceLogsEnabled)&&!(null==t?void 0:t.isRecordingEnabled))return()=>Promise.resolve([]);if(e===a.HealthMonitorSessionMode.FACE_FRONT_CAMERA)return n.logFaceMeasurements;throw new Error("Only face logger is supported")}static async getSdkLogger(e){const t=await s.AlgoAdapter.getConfig();if(!(null==t?void 0:t.isMeasurementLogsEnabled))return new i.SdkEmptyLogger;if(e===a.HealthMonitorSessionMode.FACE_FRONT_CAMERA)return new o.SdkLogger(e);throw new Error("Only face Sdk Logger is supported")}}},8689:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SdkEmptyLogger=void 0,t.SdkEmptyLogger=class{logError(e){}logMessage(e,t){}logReport(e){}start(){this.startDate=new Date}stop(){return[]}getFileFormattedDate(){return new Date(this.startDate.getTime()-6e4*this.startDate.getTimezoneOffset()).toISOString().slice(0,-5).replace("T","_").replaceAll(":","-")}logWarning(e){}}},7082:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SdkLogger=void 0;const n=r(744),o=r(8477),i=r(306);class a{constructor(e){this.mode=e,this.log=Object.assign({},a.EMPTY_LOG),this.rows=[a.HEADERS]}start(){this.startDate=new Date,this.startTimer()}startTimer(){this.timerId=setInterval((()=>{this.addLog()}),1e3)}addLog(){this.log.index++,this.log.time=this.getTime(),this.rows.push(Object.values(this.log)),this.log.warningsErrorsCode=NaN,this.log.batteryLevel=NaN}stop(){this.stopTimer();const e=this.formatLogsToCsv();return this.log=Object.assign({},a.EMPTY_LOG),this.rows=[a.HEADERS],[{fileName:this.getFileName(),data:e}]}getFileName(){return`AppLogFile_Web_${i.version.replace("-","(").concat(")")}_${0===this.mode?"rppg":"ppg"}_${this.getFileFormattedDate()}.csv`}getFileFormattedDate(){return new Date(this.startDate.getTime()-6e4*this.startDate.getTimezoneOffset()).toISOString().slice(0,-5).replace("T","_").replaceAll(":","-")}formatLogsToCsv(){return this.rows.map((e=>e.join(","))).join("\n")}stopTimer(){clearInterval(this.timerId)}logMessage(e,t){switch(e){case o.HealthMonitorMessage.HEALTH_MONITOR_HEART_RATE:this.setHeartRate(t);break;case o.HealthMonitorMessage.HEALTH_MONITOR_BREATHING_RATE:this.setBreathingRate(t);break;case o.HealthMonitorMessage.HEALTH_MONITOR_STRESS_LEVEL:this.setStressLevel(t);break;case o.HealthMonitorMessage.HEALTH_MONITOR_SDNN:this.setHrvSdnn(t)}}logReport(e){this.setReport(e),this.addLog()}logWarning(e){this.log.warningsErrorsCode=e,e===n.HealthMonitorCodes.MEASUREMENT_CODE_MISDETECTION_DURATION_EXCEEDS_LIMIT_WARNING&&this.resetMeasurements()}logError(e){this.log.warningsErrorsCode=e,this.addLog()}resetMeasurements(){this.log.heartRate=NaN,this.log.breathingRate=NaN,this.log.oxygenSaturation=NaN,this.log.sdnn=NaN,this.log.stressLevel=NaN,this.log.stressIndex=NaN,this.log.bloodPressureSYS=NaN,this.log.bloodPressureDIA=NaN,this.log.meanRri=NaN,this.log.rmssd=NaN,this.log.sd1=NaN,this.log.sd2=NaN,this.log.prq=NaN,this.log.snsIndex=NaN,this.log.snsZone=NaN,this.log.pnsIndex=NaN,this.log.pnsZone=NaN,this.log.wellnessIndex=NaN,this.log.wellnessLevel=NaN,this.log.lfhf=NaN,this.log.hemoglobin=NaN,this.log.hemoglobinA1c=NaN}setHeartRate(e){this.log.heartRate=e||NaN}setOxygen(e){this.log.oxygenSaturation=e||NaN}setBreathingRate(e){this.log.breathingRate=e||NaN}setStressLevel(e){this.log.stressLevel=e||NaN}setStressIndex(e){this.log.stressIndex=e||NaN}setHrvSdnn(e){this.log.sdnn=e||NaN}setBloodPressure(e){this.log.bloodPressureSYS=(null==e?void 0:e.systolic)||NaN,this.log.bloodPressureDIA=(null==e?void 0:e.diastolic)||NaN}setMeanRri(e){this.log.meanRri=e||NaN}setRmssd(e){this.log.rmssd=e||NaN}setSd1(e){this.log.sd1=e||NaN}setSd2(e){this.log.sd2=e||NaN}setPrq(e){this.log.prq=e||NaN}setPnsIndex(e){this.log.pnsIndex=e||NaN}setPnsZone(e){this.log.pnsZone=e||NaN}setSnsIndex(e){this.log.snsIndex=e||NaN}setSnsZone(e){this.log.snsZone=e||NaN}setWellnessIndex(e){this.log.wellnessIndex=e||NaN}setWellnessLevel(e){this.log.wellnessLevel=e||NaN}setLfhf(e){this.log.lfhf=e||NaN}setHemoglobin(e){this.log.hemoglobin=e||NaN}setHemoglobinA1c(e){this.log.hemoglobinA1c=e||NaN}setReport(e){var t,r,n,o,i,a,s,u,c,l,d,f,_,m,h,p,E,g,v,w;this.setHeartRate(null===(t=null==e?void 0:e.heartRate)||void 0===t?void 0:t.value),this.setBreathingRate(null===(r=null==e?void 0:e.breathingRate)||void 0===r?void 0:r.value),this.setStressLevel(null===(n=null==e?void 0:e.stressLevel)||void 0===n?void 0:n.value),this.setStressIndex(null===(o=null==e?void 0:e.stressIndex)||void 0===o?void 0:o.value),this.setHrvSdnn(null===(i=null==e?void 0:e.sdnn)||void 0===i?void 0:i.value),this.setBloodPressure(null===(a=null==e?void 0:e.bloodPressure)||void 0===a?void 0:a.value),this.setMeanRri(null===(s=null==e?void 0:e.meanRri)||void 0===s?void 0:s.value),this.setRmssd(null===(u=null==e?void 0:e.rmssd)||void 0===u?void 0:u.value),this.setSd1(null===(c=null==e?void 0:e.sd1)||void 0===c?void 0:c.value),this.setSd2(null===(l=null==e?void 0:e.sd2)||void 0===l?void 0:l.value),this.setPrq(null===(d=null==e?void 0:e.prq)||void 0===d?void 0:d.value),this.setPnsIndex(null===(f=null==e?void 0:e.pnsIndex)||void 0===f?void 0:f.value),this.setPnsZone(null===(_=null==e?void 0:e.pnsZone)||void 0===_?void 0:_.value),this.setSnsIndex(null===(m=null==e?void 0:e.snsIndex)||void 0===m?void 0:m.value),this.setSnsZone(null===(h=null==e?void 0:e.snsZone)||void 0===h?void 0:h.value),this.setWellnessIndex(null===(p=null==e?void 0:e.wellnessIndex)||void 0===p?void 0:p.value),this.setWellnessLevel(null===(E=null==e?void 0:e.wellnessLevel)||void 0===E?void 0:E.value),this.setLfhf(null===(g=null==e?void 0:e.lfhf)||void 0===g?void 0:g.value),this.setHemoglobin(null===(v=null==e?void 0:e.hemoglobin)||void 0===v?void 0:v.value),this.setHemoglobinA1c(null===(w=null==e?void 0:e.hemoglobinA1c)||void 0===w?void 0:w.value)}getTime(){const e=new Date;return new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().slice(0,-1).replace("T"," ").concat("00")}}t.SdkLogger=a,a.EMPTY_LOG={index:-1,time:null,heartRate:NaN,breathingRate:NaN,oxygenSaturation:NaN,sdnn:NaN,stressLevel:NaN,stressIndex:NaN,bloodPressureSYS:NaN,bloodPressureDIA:NaN,meanRri:NaN,rmssd:NaN,sd1:NaN,sd2:NaN,prq:NaN,pnsIndex:NaN,pnsZone:NaN,snsIndex:NaN,snsZone:NaN,wellnessIndex:NaN,wellnessLevel:NaN,lfhf:NaN,hemoglobin:NaN,hemoglobinA1c:NaN,warningsErrorsCode:NaN,batteryLevel:NaN,temperature:NaN},a.HEADERS=["Index","Time","HeartRate","BreathingRate","OxygenSaturation","SDNN","StressLevel","StressIndex","BloodPressureSYS","BloodPressureDIA","MeanRRI","RMSSD","SD1","SD2","PRQ","PNSIndex","PNSZone","SNSIndex","SNSZone","WellnessIndex","WellnessLevel","LFHF","Hemoglobin","HemoglobinA1C","WarningsErrorsCode","BatteryLevel","Temperature"]},5430:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveFeatures=void 0;const n=r(8477);t.resolveFeatures=e=>{let t=0;return e>=20&&(t|=n.MonitorFeatures.HEART_RATE_ENABLE_CODE),e>=37&&(t|=n.MonitorFeatures.BREATHING_RATE_ENABLE_CODE),e>=50&&(t|=n.MonitorFeatures.SDNN_ENABLE_CODE),e>=50&&(t|=n.MonitorFeatures.STRESS_LEVEL_ENABLE_CODE),e>=50&&(t|=n.MonitorFeatures.STRESS_INDEX_ENABLE_CODE),e>=35&&(t|=n.MonitorFeatures.BLOOD_PRESSURE_ENABLE_CODE),e>=50&&(t|=n.MonitorFeatures.MEAN_RRI_ENABLE_CODE),e>=50&&(t|=n.MonitorFeatures.RMSSD_ENABLE_CODE),e>=37&&(t|=n.MonitorFeatures.PRQ_ENABLE_CODE),e>=50&&(t|=n.MonitorFeatures.SD1_ENABLE_CODE),e>=50&&(t|=n.MonitorFeatures.SD2_ENABLE_CODE),e>=50&&(t|=n.MonitorFeatures.PNS_INDEX_ENABLE_CODE),e>=50&&(t|=n.MonitorFeatures.PNS_ZONE_ENABLE_CODE),e>=50&&(t|=n.MonitorFeatures.SNS_INDEX_ENABLE_CODE),e>=50&&(t|=n.MonitorFeatures.SNS_ZONE_ENABLE_CODE),e>=20&&(t|=n.MonitorFeatures.WELLNESS_INDEX_ENABLE_CODE),e>=20&&(t|=n.MonitorFeatures.WELLNESS_LEVEL_ENABLE_CODE),e>=50&&(t|=n.MonitorFeatures.LFHF_ENABLE_CODE),e>=50&&(t|=n.MonitorFeatures.HEMOGLOBIN_ENABLE_CODE),e>=50&&(t|=n.MonitorFeatures.HEMOGLOBIN_A1C_ENABLE_CODE),t}},7648:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HealthMonitorProcessorManagerBuilder=void 0;const n=r(8275),o=r(4808),i=r(5430),a=r(778),s=r(8477);t.HealthMonitorProcessorManagerBuilder=class{static async build(e){const{mode:t,onFaceDetected:r,onVitalSign:u,onFinalResults:c,onError:l,onWarning:d,orientation:f,subjectDemographic:_,cameraId:m}=e;if(t!==a.HealthMonitorSessionMode.FACE_FRONT_CAMERA)throw new Error(`mode = ${t}. Only ${a.HealthMonitorSessionMode.FACE_FRONT_CAMERA} mode is supported`);const h=await s.AlgoAdapter.getConfig(),p=await o.LoggerBuilder.getAlgoMeasurementLogger(t),E=await o.LoggerBuilder.getSdkLogger(t),g=new n.ProcessorManager({onFaceDetected:r,onVitalSign:u,onFinalResults:c,onError:l,onWarning:d,resolveFeatures:i.resolveFeatures,logAlgoMeasurements:p,doLogging:null==h?void 0:h.isMeasurementLogsEnabled,doPerformance:null==h?void 0:h.isPerformanceLogsEnabled,doRecording:null==h?void 0:h.isRecordingEnabled,doMeasuring:null==h?void 0:h.isMeasuringEnabled,sdkLogger:E,requestedOrientation:f,subjectDemographic:_,cameraId:m});return await g.init(),g}}},8275:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessorManager=void 0;const n=r(7294),o=r(6366),i=r(6646),a=r(8497),s=r(5069),u=r(8477),c=r(1951),l=r(7632),d=r(7746);t.ProcessorManager=class{constructor({onFaceDetected:e,onVitalSign:t,onFinalResults:r,onError:n,onWarning:o,resolveFeatures:a,logAlgoMeasurements:s,doLogging:u,doPerformance:l,doRecording:d,doMeasuring:f,sdkLogger:_,subjectDemographic:m,cameraId:h}){this.logs=[],this.setErrorListener=e=>{this.errorListener=e},this.onFaceDetected=e,this.onVitalSign=t,this.onFinalResults=r,this.onError=n,this.onWarning=o,this.resolveFeatures=a,this.logAlgoMeasurements=s,this.doLogging=u,this.doPerformance=l,this.doRecording=d,this.doMeasuring=f,this.sdkLogger=_,this.state=new i.ProcessorStateHolder,this.osType=(0,c.getOS)(),this.subjectDemographic=m,this.cameraId=h}async init(){this.setMessageListener(),this.setFaceListener(),this.setReportListener()}setReportListener(){u.AlgoAdapter.setReportListener((e=>{var t;this.sdkLogger.logReport(e);const r=this.sdkLogger.stop();this.logs.push(...r);const n={results:e};null===(t=this.onFinalResults)||void 0===t||t.call(this,n)}))}setFaceListener(){u.AlgoAdapter.setFaceListener((e=>{var t,r;this.state.get()===n.ProcessorState.PROCESSING?null===(t=this.onFaceDetected)||void 0===t||t.call(this,e):null===(r=this.onFaceDetected)||void 0===r||r.call(this,!1)}))}setMessageListener(){u.AlgoAdapter.setMessageListener((e=>{var t;switch(e.type){case u.AlgoMessageType.MESSAGE_ERROR:this.sdkLogger.logError(e.value),null===(t=this.errorListener)||void 0===t||t.call(this),this.publishError(e);break;case u.AlgoMessageType.MESSAGE_WARNING:this.sdkLogger.logWarning(e.value),this.publishWarning(e);break;default:this.publishAlgoMessage(e)}}))}publishError(e){var t;(0,d.shouldPublishAlert)(e.value)&&(null===(t=this.onError)||void 0===t||t.call(this,{code:e.value,domain:o.AlertDomains.ALERT_DOMAIN_MEASUREMENT}))}publishWarning(e){var t;(0,d.shouldPublishAlert)(e.value)&&(null===(t=this.onWarning)||void 0===t||t.call(this,{code:e.value,domain:o.AlertDomains.ALERT_DOMAIN_MEASUREMENT}))}publishAlgoMessage(e){var t;const r=a.ALGO_TO_HEALTH_MONITOR_MSG_MAPPING[e.type];e.type!==u.AlgoMessageType.MESSAGE_OXYGEN_SATURATION&&(this.sdkLogger.logMessage(r,e.value),null===(t=this.onVitalSign)||void 0===t||t.call(this,{[s.ALGO_MESSAGE_TO_VITAL_SIGN_NAME[e.type]]:{value:e.value}}))}hasFrameDimensionsChanged(e){return(e.width!=this.lastImageWidth||e.height!=this.lastImageHeight)&&(this.lastImageWidth=e.width,this.lastImageHeight=e.height,!0)}async initEngine(e){await u.AlgoAdapter.initEngine({fps:l.DEFAULT_FPS,doLogging:this.doLogging,doPerformance:this.doPerformance,doRecording:this.doRecording,doMeasuring:this.doMeasuring,osType:this.osType,subjectDemographic:this.subjectDemographic,frameDimensions:e,cameraId:this.cameraId})}close(){this.state.onClose()}process(e){this.state.get()!==n.ProcessorState.PROCESSING&&this.hasFrameDimensionsChanged(e.size)&&this.initEngine(e.size),this.state.get()===n.ProcessorState.PROCESSING&&u.AlgoAdapter.processRppg(e,this.cameraId)}start(){this.state.onStart(),this.measurementStartTime=Date.now(),u.AlgoAdapter.start(),this.sdkLogger.start()}async stop(e){this.state.onStop();const t=this.resolveFeatures(this.getMeasurementTime());await u.AlgoAdapter.finishRppg(t,e);const r=await this.logAlgoMeasurements();this.logs.push(...r),this.publishLogs(),this.state.set(n.ProcessorState.IDLE)}getMeasurementTime(){return(Date.now()-this.measurementStartTime)/1e3}publishLogs(){window.handleLogs&&this.logs.length>0&&(window.handleLogs(this.logs,this.sdkLogger.getFileFormattedDate()),this.logs.length=0)}}},6646:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessorStateHolder=void 0;const n=r(7294);t.ProcessorStateHolder=class{constructor(){this.state=n.ProcessorState.IDLE}get(){return this.state}set(e){this.state=e}onStart(){if(this.state===n.ProcessorState.CLOSED)throw new Error("Processor was already closed");if(this.state===n.ProcessorState.PROCESSING)throw new Error("Processor already processing");this.state=n.ProcessorState.PROCESSING}onStop(){if(this.state===n.ProcessorState.CLOSED)throw new Error("Processor was already closed");this.state===n.ProcessorState.PROCESSING&&(this.state=n.ProcessorState.STOPPING)}onClose(){this.state!==n.ProcessorState.CLOSED&&(this.state=n.ProcessorState.CLOSED)}}},7294:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessorState=void 0,(r=t.ProcessorState||(t.ProcessorState={}))[r.IDLE=0]="IDLE",r[r.PROCESSING=1]="PROCESSING",r[r.STOPPING=2]="STOPPING",r[r.CLOSED=3]="CLOSED"},8762:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HealthMonitorSessionImpl=void 0;const n=r(778),o=r(4494),i=r(6366),a=r(8362),s=r(1920);t.HealthMonitorSessionImpl=class{constructor(e,t,r,n,i){this.processorManager=e,this.healthMonitorCamera=t,this.processingTime=r,this.orientationHelper=n,this.onWarning=i,this.state=new o.SessionStateHolder,e.setErrorListener((()=>{this.stopAsync(!1)}))}addOnStateChangeListener(e){this.state.addOnStateChangeListener(e)}getState(){return this.state.get()}async init(){this.healthMonitorCamera.setFrameHandler((e=>{this.state.onFrameAvailable(),this.orientationHelper.isOrientationValid()||this.getState()!==n.SessionState.MEASURING?this.processorManager.process(e):this.onWarning({code:s.HealthMonitorCodes.MEASUREMENT_CODE_UNSUPPORTED_ORIENTATION_WARNING,domain:i.AlertDomains.ALERT_DOMAIN_MEASUREMENT})})),await this.healthMonitorCamera.open(),this.state.set(n.SessionState.ACTIVE)}start(){this.startAsync()}stop(){this.stopAsync(!0)}async stopAsync(e){this.state.get()===n.SessionState.MEASURING&&(this.state.onStop(),clearTimeout(this.timeoutId),await this.processorManager.stop(e),this.state.set(n.SessionState.ACTIVE))}terminate(){this.state.onTerminate(),this.healthMonitorCamera.close(),this.processorManager.close(),this.state.set(n.SessionState.TERMINATED)}validate(){if(this.state.get()!==n.SessionState.ACTIVE)throw new Error("Can only start 'ACTIVE' session. session state is "+this.state.get())}startProcessingTimeout(){this.timeoutId=setTimeout((()=>{this.getState()===n.SessionState.MEASURING&&this.stop()}),1e3*this.processingTime)}async startAsync(){this.orientationHelper.resetValidOrientation(),this.validate(),await this.updateLicense(),this.state.onStart(),this.healthMonitorCamera.resetTime(),this.processorManager.start(),this.startProcessingTimeout()}updateLicense(){var e;return null===(e=a.LicenseManagerProvider.get())||void 0===e?void 0:e.update()}}},7053:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionFactory=void 0;const n=r(778),o=r(7648),i=r(8762),a=r(1105),s=r(7632),u=r(7223),c=r(744),l=r(3780);class d{static async createFaceSession({input:e,cameraDeviceId:t,onFaceDetected:r,processingTime:a,onVitalSign:f,onFinalResults:_,onError:m,onWarning:h,onStateChange:p,orientation:E,subjectDemographic:g}){var v;if(!e)throw new Error("HTMLVideoElement input must be provided");if(!(null===(v=window.binahConfig)||void 0===v?void 0:v.skipProcessingTimeValidation)&&(a<s.MIN_PROCESSING_TIME||a>s.MAX_PROCESSING_TIME))throw new u.MonitorError(c.HealthMonitorCodes.INITIALIZATION_CODE_INVALID_PROCESSING_TIME_ERROR,"");if((null==g?void 0:g.age)&&((null==g?void 0:g.age)<n.SUBJECT_DEMOGRAHIC_THRESHOLD.age.min||(null==g?void 0:g.age)>n.SUBJECT_DEMOGRAHIC_THRESHOLD.age.max))throw new u.MonitorError(c.HealthMonitorCodes.INITIALIZATION_CODE_UNSUPPORTED_USER_AGE,"The provided user age is not supported. The supported age range is between 18 to 110 years.");if((null==g?void 0:g.weight)&&((null==g?void 0:g.weight)<n.SUBJECT_DEMOGRAHIC_THRESHOLD.weight.min||(null==g?void 0:g.weight)>n.SUBJECT_DEMOGRAHIC_THRESHOLD.weight.max))throw new u.MonitorError(c.HealthMonitorCodes.INITIALIZATION_CODE_UNSUPPORTED_USER_WEIGHT,"The provided user weight is not supported. The supported weight range is between 40 to 200 kg.");const w=d.createCamera(e,t),y={mode:n.HealthMonitorSessionMode.FACE_FRONT_CAMERA,onFaceDetected:r,onVitalSign:f,onFinalResults:_,onError:m,onWarning:h,orientation:E,subjectDemographic:g,cameraId:t},S=await o.HealthMonitorProcessorManagerBuilder.build(y),b=void 0!==E?new l.ConstantOrientationHelper(E):new l.DefaultOrientationHelper,A=new i.HealthMonitorSessionImpl(S,w,a,b,h);return p&&A.addOnStateChangeListener(p),await A.init(),A}static createCamera(e,t){return a.HealthMonitorCameraFactory.create({videoElement:e,cameraDeviceId:t,frameDimensions:{width:s.DEFAULT_WIDTH,height:s.DEFAULT_HEIGHT}})}}t.SessionFactory=d},4494:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStateHolder=void 0;const n=r(778);t.SessionStateHolder=class{constructor(){this.onStateChange=[],this.state=n.SessionState.INIT}get(){return this.state}set(e){this.state=e,this.onStateChange.forEach((t=>t(e)))}addOnStateChangeListener(e){e&&this.onStateChange.push(e)}onStart(){this.set(n.SessionState.MEASURING)}onStop(){if(this.state===n.SessionState.TERMINATED)throw new Error("Can not stop a Terminated session");this.state===n.SessionState.MEASURING&&this.set(n.SessionState.STOPPING)}onTerminate(){if(this.get()===n.SessionState.INIT)throw new Error("Cannot terminate session during session initialization");this.get(),n.SessionState.TERMINATED}onFrameAvailable(){this.state===n.SessionState.INIT&&this.set(n.SessionState.ACTIVE)}}},778:(e,t)=>{"use strict";var r,n,o;Object.defineProperty(t,"__esModule",{value:!0}),t.HealthMonitorSessionMode=t.SessionState=t.SUBJECT_DEMOGRAHIC_THRESHOLD=t.Gender=void 0,(o=t.Gender||(t.Gender={}))[o.UNSPECIFIED=0]="UNSPECIFIED",o[o.MALE=1]="MALE",o[o.FEMALE=2]="FEMALE",t.SUBJECT_DEMOGRAHIC_THRESHOLD={age:{min:18,max:110},weight:{min:40,max:200}},(n=t.SessionState||(t.SessionState={}))[n.INIT=0]="INIT",n[n.ACTIVE=1]="ACTIVE",n[n.MEASURING=2]="MEASURING",n[n.STOPPING=3]="STOPPING",n[n.TERMINATED=4]="TERMINATED",(r=t.HealthMonitorSessionMode||(t.HealthMonitorSessionMode={}))[r.FACE_FRONT_CAMERA=0]="FACE_FRONT_CAMERA"},6353:function(e,t,r){var n;!function(o,i){"use strict";var a="function",s="undefined",u="object",c="string",l="model",d="name",f="type",_="vendor",m="version",h="architecture",p="console",E="mobile",g="tablet",v="smarttv",w="wearable",y="embedded",S="Amazon",b="Apple",A="ASUS",R="BlackBerry",N="Google",T="Huawei",O="LG",I="Microsoft",D="Motorola",C="Samsung",M="Sony",L="Xiaomi",k="Zebra",P="Facebook",x=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},F=function(e,t){return typeof e===c&&-1!==H(t).indexOf(H(e))},H=function(e){return e.toLowerCase()},j=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===s?e:e.substring(0,255)},U=function(e,t){for(var r,n,o,s,c,l,d=0;d<t.length&&!c;){var f=t[d],_=t[d+1];for(r=n=0;r<f.length&&!c;)if(c=f[r++].exec(e))for(o=0;o<_.length;o++)l=c[++n],typeof(s=_[o])===u&&s.length>0?2===s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3===s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):i:this[s[0]]=l?s[1].call(this,l,s[2]):i:4===s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):i):this[s]=l||i;d+=2}},W=function(e,t){for(var r in t)if(typeof t[r]===u&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(F(t[r][n],e))return"?"===r?i:r}else if(F(t[r],e))return"?"===r?i:r;return e},B={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},G={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,m],[/opios[\/ ]+([\w\.]+)/i],[m,[d,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[m,[d,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[d,m],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[d,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[m,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[m,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[d,"IE"]],[/yabrowser\/([\w\.]+)/i],[m,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure Browser"],m],[/\bfocus\/([\w\.]+)/i],[m,[d,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[m,[d,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[d,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[d,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[m,[d,"Firefox"]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 Browser"],m],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,m],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,P],m],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[d,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[d,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,"Chrome WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[d,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,m],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[m,[d,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[m,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[m,W,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[d,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[d,m]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[h,"amd64"]],[/(ia32(?=;))/i],[[h,H]],[/((?:i[346]|x)86)[;\)]/i],[[h,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[h,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[h,"armhf"]],[/windows (ce|mobile); ppc;/i],[[h,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[h,/ower/,"",H]],[/(sun4\w)[;\)]/i],[[h,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[h,H]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[_,C],[f,g]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[_,C],[f,E]],[/\((ip(?:hone|od)[\w ]*);/i],[l,[_,b],[f,E]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[_,b],[f,g]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[_,T],[f,g]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[l,[_,T],[f,E]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[_,L],[f,E]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[_,L],[f,g]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[_,"OPPO"],[f,E]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[_,"Vivo"],[f,E]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[l,[_,"Realme"],[f,E]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[_,D],[f,E]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[_,D],[f,g]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[_,O],[f,g]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[_,O],[f,E]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[_,"Lenovo"],[f,g]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[_,"Nokia"],[f,E]],[/(pixel c)\b/i],[l,[_,N],[f,g]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[_,N],[f,E]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[_,M],[f,E]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[_,M],[f,g]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[_,"OnePlus"],[f,E]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[_,S],[f,g]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[_,S],[f,E]],[/(playbook);[-\w\),; ]+(rim)/i],[l,_,[f,g]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[_,R],[f,E]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[_,A],[f,g]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[_,A],[f,E]],[/(nexus 9)/i],[l,[_,"HTC"],[f,g]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[_,[l,/_/g," "],[f,E]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[_,"Acer"],[f,g]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[_,"Meizu"],[f,E]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[_,"Sharp"],[f,E]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[_,l,[f,E]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[_,l,[f,g]],[/(surface duo)/i],[l,[_,I],[f,g]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[_,"Fairphone"],[f,E]],[/(u304aa)/i],[l,[_,"AT&T"],[f,E]],[/\bsie-(\w*)/i],[l,[_,"Siemens"],[f,E]],[/\b(rct\w+) b/i],[l,[_,"RCA"],[f,g]],[/\b(venue[\d ]{2,7}) b/i],[l,[_,"Dell"],[f,g]],[/\b(q(?:mv|ta)\w+) b/i],[l,[_,"Verizon"],[f,g]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[_,"Barnes & Noble"],[f,g]],[/\b(tm\d{3}\w+) b/i],[l,[_,"NuVision"],[f,g]],[/\b(k88) b/i],[l,[_,"ZTE"],[f,g]],[/\b(nx\d{3}j) b/i],[l,[_,"ZTE"],[f,E]],[/\b(gen\d{3}) b.+49h/i],[l,[_,"Swiss"],[f,E]],[/\b(zur\d{3}) b/i],[l,[_,"Swiss"],[f,g]],[/\b((zeki)?tb.*\b) b/i],[l,[_,"Zeki"],[f,g]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[_,"Dragon Touch"],l,[f,g]],[/\b(ns-?\w{0,9}) b/i],[l,[_,"Insignia"],[f,g]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[_,"NextBook"],[f,g]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[_,"Voice"],l,[f,E]],[/\b(lvtel\-)?(v1[12]) b/i],[[_,"LvTel"],l,[f,E]],[/\b(ph-1) /i],[l,[_,"Essential"],[f,E]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[_,"Envizen"],[f,g]],[/\b(trio[-\w\. ]+) b/i],[l,[_,"MachSpeed"],[f,g]],[/\btu_(1491) b/i],[l,[_,"Rotor"],[f,g]],[/(shield[\w ]+) b/i],[l,[_,"Nvidia"],[f,g]],[/(sprint) (\w+)/i],[_,l,[f,E]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[_,I],[f,E]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[_,k],[f,g]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[_,k],[f,E]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[_,l,[f,p]],[/droid.+; (shield) bui/i],[l,[_,"Nvidia"],[f,p]],[/(playstation [345portablevi]+)/i],[l,[_,M],[f,p]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[_,I],[f,p]],[/smart-tv.+(samsung)/i],[_,[f,v]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[_,C],[f,v]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[_,O],[f,v]],[/(apple) ?tv/i],[_,[l,"Apple TV"],[f,v]],[/crkey/i],[[l,"Chromecast"],[_,N],[f,v]],[/droid.+aft(\w)( bui|\))/i],[l,[_,S],[f,v]],[/\(dtv[\);].+(aquos)/i],[l,[_,"Sharp"],[f,v]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[_,j],[l,j],[f,v]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,v]],[/((pebble))app/i],[_,l,[f,w]],[/droid.+; (glass) \d/i],[l,[_,N],[f,w]],[/droid.+; (wt63?0{2,3})\)/i],[l,[_,k],[f,w]],[/(quest( 2)?)/i],[l,[_,P],[f,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[_,[f,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[l,[f,E]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[f,g]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,g]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[f,E]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[_,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[d,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,m],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[m,W,B]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[m,W,B]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,"Mac OS"],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[m,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,m],[/\(bb(10);/i],[m,[d,R]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[d,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[d,"webOS"]],[/crkey\/([\d\.]+)/i],[m,[d,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[d,"Chromium OS"],m],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,m],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[d,m]]},V=function(e,t){if(typeof e===u&&(t=e,e=i),!(this instanceof V))return new V(e,t).getResult();var r=e||(typeof o!==s&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:""),n=t?function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r}(G,t):G;return this.getBrowser=function(){var e,t={};return t.name=i,t.version=i,U.call(t,r,n.browser),t.major=typeof(e=t.version)===c?e.replace(/[^\d\.]/g,"").split(".")[0]:i,t},this.getCPU=function(){var e={};return e.architecture=i,U.call(e,r,n.cpu),e},this.getDevice=function(){var e={};return e.vendor=i,e.model=i,e.type=i,U.call(e,r,n.device),e},this.getEngine=function(){var e={};return e.name=i,e.version=i,U.call(e,r,n.engine),e},this.getOS=function(){var e={};return e.name=i,e.version=i,U.call(e,r,n.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===c&&e.length>255?j(e,255):e,this},this.setUA(r),this};V.VERSION="1.0.2",V.BROWSER=x([d,m,"major"]),V.CPU=x([h]),V.DEVICE=x([l,_,f,p,E,v,g,w,y]),V.ENGINE=V.OS=x([d,m]),typeof t!==s?(e.exports&&(t=e.exports=V),t.UAParser=V):r.amdO?(n=function(){return V}.call(t,r,t,e))===i||(e.exports=n):typeof o!==s&&(o.UAParser=V);var z=typeof o!==s&&(o.jQuery||o.Zepto);if(z&&!z.ua){var q=new V;z.ua=q.getResult(),z.ua.get=function(){return q.getUA()},z.ua.set=function(e){q.setUA(e);var t=q.getResult();for(var r in t)z.ua[r]=t[r]}}}("object"==typeof window?window:this)}},t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}return r.amdO={},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="./",r(1920)})()}));